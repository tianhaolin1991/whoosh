# ohos.matrix4（矩阵变换）

用于对组件进行旋转、平移、缩放、矩阵变换等操作。

```cangjie
import kit.UIKit.*
```
## Classes

### Matrix4

class Matrix4
```cangjie
public class Matrix4 {}
```
功能： 表示为列优先的四阶矩阵。


### Matrix4Transit

class Matrix4Transit
```cangjie
public class Matrix4Transit { public var id: Int64 public init(id: Int64) }
```
功能： 矩阵对象。

#### var id

```cangjie
public var id: Int64
```
功能： 表示矩阵的标识id。
Type: Int64; Readable: true; Writable: true


### Point

class Point
```cangjie
public class Point { public let x: Float64 public let y: Float64 public init( x: Float64, y: Float64 ) }
```
功能： 设置点坐标。

#### let x

```cangjie
public let x: Float64
```
功能： 表示x轴坐标。
Type: Float64; Readable: true; Writable: false

#### let y

```cangjie
public let y: Float64
```
功能： 表示y轴坐标。
Type: Float64; Readable: true; Writable: false


### PolyToPolyOptions

class PolyToPolyOptions
```cangjie
public class PolyToPolyOptions { public let src: Array<Point> public let srcIndex: Int32 public let dst: Array<Point> public let dstIndex: Int32 public let pointCount: Int32 public init( src!: Array<Point>, srcIndex!: Int32 = 0, dst!: Array<Point>, dstIndex!: Int32 = 0, pointCount!: Int32 = Int32(src.size) / 2 ) }
```
功能： 表示一个多边形的顶点坐标映射到另外一个多边形的顶点坐标。

#### let src

```cangjie
public let src: Array<Point>
```
功能： 表示源点坐标。
Type: Array< Point >; Readable: true; Writable: false

#### let srcIndex

```cangjie
public let srcIndex: Int32
```
功能： 表示源点坐标起始索引。
Type: Int32; Readable: true; Writable: false

#### let dst

```cangjie
public let dst: Array<Point>
```
功能： 表示目标点坐标。
Type: Array< Point >; Readable: true; Writable: false

#### let dstIndex

```cangjie
public let dstIndex: Int32
```
功能： 表示目标坐标起始索引。
Type: Int32; Readable: true; Writable: false

#### let pointCount

```cangjie
public let pointCount: Int32
```
功能： 表示使用到的点数量。
Type: Int32; Readable: true; Writable: false


### RotateOption

class RotateOption
```cangjie
public class RotateOption { public let x: Float32 public let y: Float32 public let z: Float32 public let angle: Float32 public let centerX: Float32 public let centerY: Float32 public init( x!: Float32 = 0.0, y!: Float32 = 0.0, z!: Float32 = 0.0, angle!: Float32 = 0.0, centerX!: Float32 = 0.0, centerY!: Float32 = 0.0 ) }
```
功能： 设置旋转参数。

#### let x

```cangjie
public let x: Float32
```
功能： 表示旋转轴向量x坐标。
Type: Float32; Readable: true; Writable: false

#### let y

```cangjie
public let y: Float32
```
功能： 表示旋转轴向量y坐标。
Type: Float32; Readable: true; Writable: false

#### let z

```cangjie
public let z: Float32
```
功能： 表示旋转轴向量z坐标。
Type: Float32; Readable: true; Writable: false

#### let angle

```cangjie
public let angle: Float32
```
功能： 表示旋转角度。
Type: Float32; Readable: true; Writable: false

#### let centerX

```cangjie
public let centerX: Float32
```
功能： 单次矩阵变换中心点相对于组件变换中心点（锚点）的额外x轴偏移值。
Type: Float32; Readable: true; Writable: false

#### let centerY

```cangjie
public let centerY: Float32
```
功能： 单次矩阵变换中心点相对于组件变换中心点（锚点）的额外y轴偏移值。
Type: Float32; Readable: true; Writable: false


### ScaleOption

class ScaleOption
```cangjie
public class ScaleOption { public let x: Float32 public let y: Float32 public let z: Float32 public let centerX: Float32 public let centerY: Float32 public init( x!: Float32 = 1.0, y!: Float32 = 1.0, z!: Float32 = 1.0, centerX!: Float32 = 0.0, centerY!: Float32 = 0.0 ) }
```
功能： 设置缩放参数。

#### let x

```cangjie
public let x: Float32
```
功能： 表示x轴的缩放倍数。x>1时以x轴方向放大，0<x<1时以x轴方向缩小，x<0时沿x轴反向并缩放。
Type: Float32; Readable: true; Writable: false

#### let y

```cangjie
public let y: Float32
```
功能： 表示y轴的缩放倍数。y>1时以y轴方向放大，0<y<1时以y轴方向缩小，y<0时沿y轴反向并缩放。
Type: Float32; Readable: true; Writable: false

#### let z

```cangjie
public let z: Float32
```
功能： 表示z轴的缩放倍数。z>1时以z轴方向放大，0<z<1时以z轴方向缩小，z<0时沿z轴反向并缩放。
Type: Float32; Readable: true; Writable: false

#### let centerX

```cangjie
public let centerX: Float32
```
功能： 表示变换中心点x轴坐标。
Type: Float32; Readable: true; Writable: false

#### let centerY

```cangjie
public let centerY: Float32
```
功能： 表示变换中心点y轴坐标。
Type: Float32; Readable: true; Writable: false


### TranslateOption

class TranslateOption
```cangjie
public class TranslateOption { public let x: Float32 public let y: Float32 public let z: Float32 public init( x!: Float32 = 0.0, y!: Float32 = 0.0, z!: Float32 = 0.0 ) }
```
功能： 设置平移参数。

#### let x

```cangjie
public let x: Float32
```
功能： 表示x轴的平移距离，单位px。
Type: Float32; Readable: true; Writable: false

#### let y

```cangjie
public let y: Float32
```
功能： 表示y轴的平移距离，单位px。
Type: Float32; Readable: true; Writable: false

#### let z

```cangjie
public let z: Float32
```
功能： 表示z轴的平移距离，单位px。
Type: Float32; Readable: true; Writable: false



## Examples

```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.LocalizationKit.*

@Entry
@Component
class EntryView {
 let matrix1: Matrix4Transit = Matrix4.initialize([1.0, 0.0, 0.0, 0.0,
 0.0, 1.0, 0.0, 0.0,
 0.0, 0.0, 1.0, 0.0,
 0.0, 0.0, 0.0, 1.0])
 let matrix2: Matrix4Transit = Matrix4.identity()
 func build() {
 Row {
 Column {
 // matrix1 和 matrix2 效果一致
 Image(@r(app.media.startIcon))
 .transform(matrix1)
 .height(40)
 Image(@r(app.media.startIcon))
 .transform(matrix2)
 .height(40)
 }.width(100.percent)
 }.height(100.percent)
 }
}
```
```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.LocalizationKit.*

@Entry
@Component
class EntryView {
 let matrix1: Matrix4Transit = Matrix4.identity().scale(
 ScaleOption( x: 2.0, y: 3.0, z: 4.0, centerX: 50.0, centerY: 50.0))
 let matrix2: Matrix4Transit = matrix1.copy().invert()
 let matrix3: Matrix4Transit = matrix1.copy().combine(matrix2)
 func build() {
 Row {
 Column {
 Text("scale").fontSize(15).fontColor(0xCCCCCC).width(90.percent)
 Image(@r(app.media.startIcon))
 .transform(matrix1)
 .height(40)

 Text("invert").fontSize(15).fontColor(0xCCCCCC).width(90.percent)
 Image(@r(app.media.startIcon))
 .transform(matrix2)
 .height(40)

 Text("scale + invert + combine").fontSize(15).fontColor(0xCCCCCC).width(90.percent)
 Image(@r(app.media.startIcon))
 .transform(matrix3)
 .height(40)
 }.width(100.percent)
 }.height(100.percent)
 }
}
```
```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.LocalizationKit.*

@Entry
@Component
class EntryView {
 let matrix: Matrix4Transit = Matrix4.identity()
 .rotate(RotateOption(x: 1.0, y: 1.0, z: 2.0, angle: 30.0, centerY: 50.0))
 func build() {
 Row {
 Column {
 Image(@r(app.media.startIcon))
 .transform(matrix)
 .height(40)
 }.width(100.percent)
 }.height(100.percent)
 }
}
```
```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.LocalizationKit.*

@Entry
@Component
class EntryView {
 let matrix: Matrix4Transit = Matrix4.identity().skew(2.0, 3.0)
 func build() {
 Row {
 Column {
 Image(@r(app.media.startIcon))
 .transform(matrix)
 .height(40)
 }.width(100.percent)
 }.height(100.percent)
 }
}
```
```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.LocalizationKit.*

@Entry
@Component
class EntryView {
 let matrix1: Matrix4Transit = Matrix4.identity()
 .translate(TranslateOption( x: 150.0, y: -50.0 ))
 let transformP = matrix1.transformPoint([50.0, 50.0])
 let matrix2: Matrix4Transit = Matrix4.identity()
 .translate(TranslateOption( x: Float32(transformP[0]), y: Float32(transformP[1]) ))
 func build() {
 Row {
 Column {
 Text("第一次变化，x平移150，y平移-50")
 .textAlign(TextAlign.Center)
 Image(@r(app.media.startIcon))
 .transform(matrix1)
 .height(40)

 Text("在第一次变化基础上TransformPoint([50,50])后，第二次变化，x平移：${transformP[0]}"+ "，y平移：${transformP[1]}")
 .textAlign(TextAlign.Center)
 Image(@r(app.media.startIcon))
 .transform(matrix2)
 .height(40)
 }.width(100.percent)
 }.height(100.percent)
 }
}
```
```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.LocalizationKit.*

@Entry
@Component
class EntryView {
 let matrix: Matrix4Transit = Matrix4.identity()
 .setPolyToPoly(
 PolyToPolyOptions(
 src: [Point(0.0,0.0), Point(50.0,0.0), Point(0.0, 50.0), Point (50.0, 50.0) ],
 srcIndex: 0,
 dst:[Point(0.0,0.0), Point(50.0,0.0), Point(0.0, 50.0), Point (75.0, 100.0) ],
 dstIndex: 0,
 pointCount:4
 )
 )
 func build() {
 Row {
 Column {
 Image(@r(app.media.startIcon))
 .transform(matrix)
 .height(40)
 }.width(100.percent)
 }.height(100.percent)
 }
}
```

