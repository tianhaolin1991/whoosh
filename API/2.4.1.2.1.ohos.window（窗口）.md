# ohos.window（窗口）

ohos.window提供管理窗口的一些基础能力，包括对当前窗口的创建、销毁、各属性设置，以及对各窗口间的管理调度。

```cangjie
import kit.ArkUI.*
```
## Functions

### public func createWindow(config: Configuration): Window

```cangjie
public func createWindow(config: Configuration): Window
```
功能： 创建子窗口或者系统窗口。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Configuration | 是 | 创建窗口时的参数。 | config | - |

**Returns:**

| type | description |
| --- | --- |
| Window | 返回当前创建的窗口对象 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 通用错误码 和 窗口错误码 。

| code | description |
| --- | --- |
| 201 | [Window] createWindow: Permission verification failed, usually the result returned by VerifyAccessToken. |
| 401 | [Window] createWindow: Parameter error. |
| 1300003 | [Window] createWindow: This window manager service works abnormally. |
| 1300006 | [Window] createWindow: This window context is abnormal. |


### public func findWindow(name: String): Window

```cangjie
public func findWindow(name: String): Window
```
功能： 查找name所对应的窗口。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 窗口名字，即 Configuration 中的name。 | name | - |

**Returns:**

| type | description |
| --- | --- |
| Window | 当前查找的窗口对象 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 通用错误码 和 窗口错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types. |
| 1300002 | This window state is abnormal. |


### public func getLastWindow(ctx: StageContext): Window

```cangjie
public func getLastWindow(ctx: StageContext): Window
```
功能： 获取当前应用内最上层的子窗口，若无应用子窗口，则返回应用主窗口。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| StageContext | 是 | 当前应用上下文信息。 | ctx | - |

**Returns:**

| type | description |
| --- | --- |
| Window | 返回当前应用内最后显示的窗口对象 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 窗口错误码 。

| code | description |
| --- | --- |
| 1300002 | [Window] getLastWindow: This window state is abnormal |


### public func shiftAppWindowFocus(sourceWindowId: Int32, targetWindowId: Int32): Unit

```cangjie
public func shiftAppWindowFocus(sourceWindowId: Int32, targetWindowId: Int32): Unit
```
功能： 在同应用内将窗口焦点从源窗口转移到目标窗口。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Int32 | 是 | 源窗口id，必须是获焦状态。 | sourceWindowId | - |
| Int32 | 是 | 目标窗口id。 | targetWindowId | - |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 通用错误码 和 窗口错误码 。

| code | description |
| --- | --- |
| 401 | [Window] showWindow: This window state is abnormal. |
| 801 | [Window] showWindow: This window state is abnormal. |
| 1300002 | [Window] showWindow: This window state is abnormal. |
| 1300003 | [Window] showWindow: This window state is abnormal. |
| 1300004 | [Window] showWindow: This window state is abnormal. |



## Classes

### Window

class Window
```cangjie
public class Window{}
```
功能： 当前窗口实例，窗口管理器管理的基本单元。


### WindowStage

class WindowStage
```cangjie
public class WindowStage{}
```
功能： 窗口管理器。管理各个基本窗口单元，即Window实例。


### AvoidArea

class AvoidArea
```cangjie
public class AvoidArea { public AvoidArea ( public var visible: Bool, public var leftRect: Rect, public var topRect: Rect, public var rightRect: Rect, public var bottomRect: Rect ) }
```
功能： 窗口内容规避区域。

#### var bottomRect

```cangjie
public var bottomRect: Rect
```
功能： 表示屏幕底部的矩形区。
Type: Rect; Readable: true; Writable: true

#### var leftRect

```cangjie
public var leftRect: Rect
```
功能： 表示屏幕左侧的矩形区。
Type: Rect; Readable: true; Writable: true

#### var rightRect

```cangjie
public var rightRect: Rect
```
功能： 表示屏幕右侧的矩形区。
Type: Rect; Readable: true; Writable: true

#### var topRect

```cangjie
public var topRect: Rect
```
功能： 表示屏幕顶部的矩形区。
Type: Rect; Readable: true; Writable: true

#### var visible

```cangjie
public var visible: Bool
```
功能： 表示规避区域是否可见。
Type: Bool; Readable: true; Writable: true


### AvoidAreaOptions

class AvoidAreaOptions
```cangjie
public class AvoidAreaOptions { public AvoidAreaOptions ( public var areaType: AvoidAreaType, public var area: AvoidArea ) }
```
功能： 系统规避区变化后返回当前规避区域以及规避区域类型。

#### var areaType

```cangjie
public var areaType: AvoidAreaType
```
功能： 表示系统规避区变化后返回的规避区域类型。
Type: AvoidAreaType; Readable: true; Writable: true

#### var area

```cangjie
public var area: AvoidArea
```
功能： 表示系统规避区变化后返回的规避区域。
Type: AvoidArea; Readable: true; Writable: true


### Configuration

class Configuration
```cangjie
public class Configuration { public Configuration( public let name: String, public let windowType: WindowType, public let ctx: StageContext, public var displayId!: Int64 = -1, public var parentId!: Int64 = -1, public var decorEnabled!: Bool = false, public var title!: String = "" ) }
```
功能： 创建子窗口或系统窗口时的参数。

#### let name

```cangjie
public let name: String
```
功能： 表示窗口名字。
Type: String; Readable: true; Writable: false

#### let windowType

```cangjie
public let windowType: WindowType
```
功能： 表示窗口类型。
Type: WindowType; Readable: true; Writable: false

#### let ctx

```cangjie
public let ctx: StageContext
```
功能： 表示当前应用上下文信息。用于创建悬浮窗、模态窗或系统窗口。
Type: StageContext; Readable: true; Writable: false

#### var displayId

```cangjie
public var displayId: Int64 = -1
```
功能： 设置当前物理屏幕id。不设置，则默认为-1。
Type: Int64; Readable: true; Writable: true

#### var parentId

```cangjie
public var parentId: Int64 = -1
```
功能： 设置父窗口id。不设置，则默认为-1。
Type: Int64; Readable: true; Writable: true

#### var decorEnabled

```cangjie
public var decorEnabled: Bool = false
```
功能： 是否显示窗口装饰，仅在windowType为TYPE_DIALOG时生效。true表示显示，false表示不显示。
Type: Bool; Readable: true; Writable: true

#### var title

```cangjie
public var title: String = ""
```
功能： 设置窗口的标题内容。当 decorEnabled 属性设置为true时，才会显示窗口的标题内容。不设置，则默认为空字符串。
Type: String; Readable: true; Writable: true


### Rect

class Rect
```cangjie
public class Rect { public Rect( public var left: Int32, public var top: Int32, public var width: UInt32, public var height: UInt32 ) }
```
功能： 窗口矩形区域。

#### var left

```cangjie
public var left: Int32
```
功能： 设置矩形区域的左边界，单位为px。
Type: Int32; Readable: true; Writable: true

#### var top

```cangjie
public var top: Int32
```
功能： 设置矩形区域的上边界，单位为px。
Type: Int32; Readable: true; Writable: true

#### var width

```cangjie
public var width: UInt32
```
功能： 设置矩形区域的宽度，单位为px。
Type: UInt32; Readable: true; Writable: true

#### var height

```cangjie
public var height: UInt32
```
功能： 设置矩形区域的高度，单位为px。
Type: UInt32; Readable: true; Writable: true


### RectChangeOptions

class RectChangeOptions
```cangjie
public class RectChangeOptions { public RectChangeOptions( public var rect: Rect, public var reason: RectChangeReason ) }
```
功能： 窗口矩形（窗口位置及窗口大小）变化返回的值及变化原因。

#### var rect

```cangjie
public var rect: Rect
```
功能： 表示窗口矩形变化后的值。
Type: Rect; Readable: true; Writable: true

#### var reason

```cangjie
public var reason: RectChangeReason
```
功能： 表示窗口矩形变化的原因。
Type: RectChangeReason; Readable: true; Writable: true


### Size

class Size
```cangjie
public class Size { public Size( public var width: UInt32, public var height: UInt32 ) }
```
功能： 窗口大小。

#### var width

```cangjie
public var width: UInt32
```
功能： 设置窗口宽度，单位为px。
Type: UInt32; Readable: true; Writable: true

#### var height

```cangjie
public var height: UInt32
```
功能： 设置窗口高度，单位为px。
Type: UInt32; Readable: true; Writable: true


### SubWindowOptions

class SubWindowOptions
```cangjie
public class SubWindowOptions { public SubWindowOptions ( public let title!: String, public let decorEnabled!: Bool, public var isModal!: Bool = false ) }
```
功能： 子窗口创建参数。

#### let title

```cangjie
public let title: String
```
功能： 表示子窗口标题。
Type: String; Readable: true; Writable: false

#### let decorEnabled

```cangjie
public let decorEnabled: Bool
```
功能： 表示子窗口是否显示装饰。true表示子窗口显示装饰，false表示子窗口不显示装饰。
Type: Bool; Readable: true; Writable: false

#### var isModal

```cangjie
public var isModal: Bool = false
```
功能： 设置子窗口是否启用模态属性。true表示子窗口启用模态属性，其父级窗口不能响应用户操作，false表示子窗口禁用模态属性，其父级窗口能响应用户操作。
Type: Bool; Readable: true; Writable: true


### SystemBarProperties

class SystemBarProperties
```cangjie
public class SystemBarProperties { public SystemBarProperties( public var statusBarColor!: String = "#66000000", public var isStatusBarLightIcon!: Bool = false, public var statusBarContentColor!: String = "#E5FFFFFF", public var navigationBarColor!: String = "#66000000", public var isNavigationBarLightIcon!: Bool = false, public var navigationBarContentColor!: String = "#E5FFFFFF", public var enableStatusBarAnimation!: Bool = false, public var enableNavigationBarAnimation!: Bool = false ) }
```
功能： 状态栏、导航栏的属性。在设置窗口级状态栏、导航栏属性时使用。

#### var statusBarColor

```cangjie
public var statusBarColor: String = "#66000000"
```
功能： 设置状态栏背景颜色，为十六进制RGB或ARGB颜色。
Type: String; Readable: true; Writable: true

#### var isStatusBarLightIcon

```cangjie
public var isStatusBarLightIcon: Bool = false
```
功能： 设置状态栏图标是否为高亮状态。true表示高亮；false表示不高亮。
Type: Bool; Readable: true; Writable: true

#### var statusBarContentColor

```cangjie
public var statusBarContentColor: String = "#E5FFFFFF"
```
功能： 设置状态栏文字颜色。当设置此属性后， isStatusBarLightIcon 属性设置无效。
Type: String; Readable: true; Writable: true

#### var navigationBarColor

```cangjie
public var navigationBarColor: String = "#66000000"
```
功能： 设置导航栏背景颜色，为十六进制RGB或ARGB颜色，不区分大小写。
Type: String; Readable: true; Writable: true

#### var isNavigationBarLightIcon

```cangjie
public var isNavigationBarLightIcon: Bool = false
```
功能： 设置导航栏图标是否为高亮状态。true表示高亮；false表示不高亮。
Type: Bool; Readable: true; Writable: true

#### var navigationBarContentColor

```cangjie
public var navigationBarContentColor: String = "#E5FFFFFF"
```
功能： 设置导航栏文字颜色。当设置此属性后， isNavigationBarLightIcon 属性设置无效。
Type: String; Readable: true; Writable: true

#### var enableStatusBarAnimation

```cangjie
public var enableStatusBarAnimation: Bool = false
```
功能： 设置是否使能状态栏属性变化时动画效果。true表示变化时使能动画效果；false表示没有使能动画效果。
Type: Bool; Readable: true; Writable: true

#### var enableNavigationBarAnimation

```cangjie
public var enableNavigationBarAnimation: Bool = false
```
功能： 设置是否使能导航栏属性变化时动画效果。true表示变化时使能动画效果；false表示没有使能动画效果。
Type: Bool; Readable: true; Writable: true


### TitleButtonRect

class TitleButtonRect
```cangjie
public class TitleButtonRect { public TitleButtonRect( public var right: Int32, public var top: Int32, public var width: UInt32, public var height: UInt32 ) }
```
功能： 标题栏上的最小化、最大化、关闭按钮矩形区域，该区域位置坐标相对窗口右上角。

#### var right

```cangjie
public var right: Int32
```
功能： 设置矩形区域的右边界，单位为vp。
Type: Int32; Readable: true; Writable: true

#### var top

```cangjie
public var top: Int32
```
功能： 设置矩形区域的上边界，单位为vp。
Type: Int32; Readable: true; Writable: true

#### var width

```cangjie
public var width: UInt32
```
功能： 设置矩形区域的宽度，单位为vp。
Type: UInt32; Readable: true; Writable: true

#### var height

```cangjie
public var height: UInt32
```
功能： 设置矩形区域的高度，单位为vp。
Type: UInt32; Readable: true; Writable: true


### WindowLimits

class WindowLimits
```cangjie
public class WindowLimits { public WindowLimits( public var maxWidth!: UInt32 = UInt32.Max, public var maxHeight!: UInt32 = UInt32.Max, public var minWidth!: UInt32= 1, public var minHeight!: UInt32 = 1 ) }
```
功能： 窗口尺寸限制参数。可以通过 setWindowLimits 设置窗口尺寸限制，并且可以通过 getWindowLimits 获得当前的窗口尺寸限制。

#### var maxWidth

```cangjie
public var maxWidth: UInt32 = UInt32.Max
```
功能： 设置窗口的最大宽度。单位为px。值默认为UInt32.Max，表示系统限定的最大宽度。下限值为0，上限值为系统限定的最大宽度。
Type: UInt32; Readable: true; Writable: true

#### var maxHeight

```cangjie
public var maxHeight: UInt32 = UInt32.Max
```
功能： 设置窗口的最大高度。单位为px。值默认为UInt32.Max，表示系统限定的最大宽度。下限值为0，上限值为系统限定的最大高度。
Type: UInt32; Readable: true; Writable: true

#### var minWidth

```cangjie
public var minWidth: UInt32 = 1
```
功能： 设置设置窗口的最小宽度。单位为px。值默认为1。下限值为0，上限值为系统限定的最小宽度。
Type: UInt32; Readable: true; Writable: true

#### var minHeight

```cangjie
public var minHeight: UInt32 = 1
```
功能： 设置窗口的最小高度。单位为px。值默认为1。下限值为0，上限值为系统限定的最小高度。
Type: UInt32; Readable: true; Writable: true


### WindowProperties

class WindowProperties
```cangjie
public class WindowProperties { public WindowProperties( public let windowRect: Rect, public let drawableRect: Rect, public let winType: WindowType, public let isFullScreen: Bool, public let isLayoutFullScreen: Bool, public let focusable: Bool, public let touchable: Bool, public let brightness: Float32, public let isKeepScreenOn: Bool, public let isPrivacyMode: Bool, public let isRoundCorner: Bool, public let isTransparent: Bool, public let id: UInt32 ) }
```
功能： 窗口属性。

#### let windowRect

```cangjie
public let windowRect: Rect
```
功能： 表示窗口尺寸，可在页面生命周期 onPageShow 或应用生命周期 onForeground 阶段获取。
Type: Rect; Readable: true; Writable: false

#### let drawableRect

```cangjie
public let drawableRect: Rect
```
功能： 表示窗口内可绘制区域尺寸，其中左边界上边界是相对窗口计算。
Type: Rect; Readable: true; Writable: false

#### let winType

```cangjie
public let winType: WindowType
```
功能： 表示窗口类型。
Type: WindowType; Readable: true; Writable: false

#### let isFullScreen

```cangjie
public let isFullScreen: Bool
```
功能： 表示是否全屏，初始为false。true表示全屏；false表示非全屏。
Type: Bool; Readable: true; Writable: false

#### let isLayoutFullScreen

```cangjie
public let isLayoutFullScreen: Bool
```
功能： 表示窗口是否为沉浸式，初始为false。true表示沉浸式；false表示非沉浸式。
Type: Bool; Readable: true; Writable: false

#### let focusable

```cangjie
public let focusable: Bool
```
功能： 表示窗口是否可聚焦，初始为true。true表示可聚焦；false表示不可聚焦。
Type: Bool; Readable: true; Writable: false

#### let touchable

```cangjie
public let touchable: Bool
```
功能： 表示窗口是否可触摸，初始为true。true表示可触摸；false表示不可触摸。
Type: Bool; Readable: true; Writable: false

#### let brightness

```cangjie
public let brightness: Float32
```
功能： 表示屏幕亮度。可设置的亮度范围为[0.0, 1.0]，其取1.0时表示最大亮度值。如果窗口没有设置亮度值，表示亮度跟随系统，此时获取到的亮度值为-1。
Type: Float32; Readable: true; Writable: false

#### let isKeepScreenOn

```cangjie
public let isKeepScreenOn: Bool
```
功能： 表示屏幕是否常亮，初始为false。true表示常亮；false表示不常亮。
Type: Bool; Readable: true; Writable: false

#### let isPrivacyMode

```cangjie
public let isPrivacyMode: Bool
```
功能： 表示隐私模式是否开启，初始为false。true表示模式开启；false表示模式关闭。
Type: Bool; Readable: true; Writable: false

#### let isRoundCorner

```cangjie
public let isRoundCorner: Bool
```
功能： 表示窗口是否为圆角。初始为false。true表示圆角；false表示非圆角。
Type: Bool; Readable: true; Writable: false

#### let isTransparent

```cangjie
public let isTransparent: Bool
```
功能： 表示窗口是否透明。初始为false。true表示透明；false表示不透明。
Type: Bool; Readable: true; Writable: false

#### let id

```cangjie
public let id: UInt32
```
功能： 表示窗口ID，初始值为0。
Type: UInt32; Readable: true; Writable: false



## Enums

### AvoidAreaType

enum AvoidAreaType
```cangjie
public enum AvoidAreaType { | TYPE_SYSTEM | TYPE_CUTOUT | TYPE_SYSTEM_GESTURE | TYPE_KEYBOARD | TYPE_NAVIGATION_INDICATOR }
```
功能： 窗口内容需要规避区域的类型枚举。

#### TYPE_SYSTEM

```cangjie
TYPE_SYSTEM
```
功能： 表示系统默认区域。一般包括状态栏、导航栏，各设备系统定义可能不同。

#### TYPE_CUTOUT

```cangjie
TYPE_CUTOUT
```
功能： 表示刘海屏区域。

#### TYPE_SYSTEM_GESTURE

```cangjie
TYPE_SYSTEM_GESTURE
```
功能： 表示手势区域。

#### TYPE_KEYBOARD

```cangjie
TYPE_KEYBOARD
```
功能： 表示软键盘区域。

#### TYPE_NAVIGATION_INDICATOR

```cangjie
TYPE_NAVIGATION_INDICATOR
```
功能： 表示导航条区域。


### ColorSpace

enum ColorSpace
```cangjie
public enum ColorSpace { | DEFAULT | WIDE_GAMUT }
```
功能： 色域模式。

#### DEFAULT

```cangjie
DEFAULT
```
功能： 默认SRGB色域模式。

#### WIDE_GAMUT

```cangjie
WIDE_GAMUT
```
功能： 广色域模式。


### MaximizePresentation

enum MaximizePresentation
```cangjie
public enum MaximizePresentation { | FOLLOW_APP_IMMERSIVE_SETTING | EXIT_IMMERSIVE | ENTER_IMMERSIVE }
```
功能： 窗口最大化时的布局枚举。

#### FOLLOW_APP_IMMERSIVE_SETTING

```cangjie
FOLLOW_APP_IMMERSIVE_SETTING
```
功能： 最大化时，跟随应用app当前设置的沉浸式布局。

#### EXIT_IMMERSIVE

```cangjie
EXIT_IMMERSIVE
```
功能： 最大化时，如果当前窗口设置了沉浸式布局会退出沉浸式布局。

#### ENTER_IMMERSIVE

```cangjie
ENTER_IMMERSIVE
```
功能： 最大化时，进入沉浸式布局。


### Orientation

enum Orientation
```cangjie
public enum Orientation { | UNSPECIFIED | PORTRAIT | LANDSCAPE | PORTRAIT_INVERTED | LANDSCAPE_INVERTED | AUTO_ROTATION | AUTO_ROTATION_PORTRAIT | AUTO_ROTATION_LANDSCAPE | AUTO_ROTATION_RESTRICTED | AUTO_ROTATION_PORTRAIT_RESTRICTED | AUTO_ROTATION_LANDSCAPE_RESTRICTED | LOCKED | AUTO_ROTATION_UNSPECIFIED | USER_ROTATION_PORTRAIT | USER_ROTATION_LANDSCAPE | USER_ROTATION_PORTRAIT_INVERTED | USER_ROTATION_LANDSCAPE_INVERTED | FOLLOW_DESKTOP }
```
功能： 窗口显示方向类型枚举。

#### UNSPECIFIED

```cangjie
UNSPECIFIED
```
功能： 表示未定义方向模式，由系统判定。

#### PORTRAIT

```cangjie
PORTRAIT
```
功能： 表示竖屏显示模式。

#### LANDSCAPE

```cangjie
LANDSCAPE
```
功能： 表示横屏显示模式。

#### PORTRAIT_INVERTED

```cangjie
PORTRAIT_INVERTED
```
功能： 表示反向竖屏显示模式。

#### LANDSCAPE_INVERTED

```cangjie
LANDSCAPE_INVERTED
```
功能： 表示反向横屏显示模式。

#### AUTO_ROTATION

```cangjie
AUTO_ROTATION
```
功能： 跟随传感器自动旋转，可以旋转到竖屏、横屏、反向竖屏、反向横屏四个方向。

#### AUTO_ROTATION_PORTRAIT

```cangjie
AUTO_ROTATION_PORTRAIT
```
功能： 调用时临时旋转到竖屏，之后跟随传感器自动旋转，受控制中心的旋转开关控制，且可旋转方向受系统判定。

#### AUTO_ROTATION_LANDSCAPE

```cangjie
AUTO_ROTATION_LANDSCAPE
```
功能： 跟随传感器自动横向旋转，可以旋转到横屏、反向横屏，无法旋转到竖屏、反向竖屏。

#### AUTO_ROTATION_RESTRICTED

```cangjie
AUTO_ROTATION_RESTRICTED
```
功能： 跟随传感器自动旋转，可以旋转到竖屏、横屏、反向竖屏、反向横屏四个方向，且受控制中心的旋转开关控制。

#### AUTO_ROTATION_PORTRAIT_RESTRICTED

```cangjie
AUTO_ROTATION_PORTRAIT_RESTRICTED
```
功能： 跟随传感器自动竖向旋转，可以旋转到竖屏、反向竖屏，无法旋转到横屏、反向横屏，且受控制中心的旋转开关控制。

#### AUTO_ROTATION_LANDSCAPE_RESTRICTED

```cangjie
AUTO_ROTATION_LANDSCAPE_RESTRICTED
```
功能： 跟随传感器自动横向旋转，可以旋转到横屏、反向横屏，无法旋转到竖屏、反向竖屏，且受控制中心的旋转开关控制。

#### LOCKED

```cangjie
LOCKED
```
功能： 表示锁定模式。

#### AUTO_ROTATION_UNSPECIFIED

```cangjie
AUTO_ROTATION_UNSPECIFIED
```
功能： 跟随传感器自动旋转，受控制中心的旋转开关控制，且可旋转方向受系统判定（如在某种设备，可以旋转到竖屏、横屏、反向横屏三个方向，无法旋转到反向竖屏）。

#### USER_ROTATION_PORTRAIT

```cangjie
USER_ROTATION_PORTRAIT
```
功能： 调用时临时旋转到竖屏，之后跟随传感器自动旋转，受控制中心的旋转开关控制，且可旋转方向受系统判定。

#### USER_ROTATION_LANDSCAPE

```cangjie
USER_ROTATION_LANDSCAPE
```
功能： 调用时临时旋转到横屏，之后跟随传感器自动旋转，受控制中心的旋转开关控制，且可旋转方向受系统判定。

#### USER_ROTATION_PORTRAIT_INVERTED

```cangjie
USER_ROTATION_PORTRAIT_INVERTED
```
功能： 调用时临时旋转到反向竖屏，之后跟随传感器自动旋转，受控制中心的旋转开关控制，且可旋转方向受系统判定。

#### USER_ROTATION_LANDSCAPE_INVERTED

```cangjie
USER_ROTATION_LANDSCAPE_INVERTED
```
功能： 调用时临时旋转到反向横屏，之后跟随传感器自动旋转，受控制中心的旋转开关控制，且可旋转方向受系统判定。

#### FOLLOW_DESKTOP

```cangjie
FOLLOW_DESKTOP
```
功能： 表示跟随桌面的旋转模式。


### RectChangeReason

enum RectChangeReason
```cangjie
public enum RectChangeReason { | UNDEFINED | MAXIMIZE | RECOVER | MOVE | DRAG | DRAG_START | DRAG_END }
```
功能： 窗口矩形（窗口位置及窗口大小）变化的原因。

#### UNDEFINED

```cangjie
UNDEFINED
```
功能： 默认值。

#### MAXIMIZE

```cangjie
MAXIMIZE
```
功能： 窗口最大化。

#### RECOVER

```cangjie
RECOVER
```
功能： 窗口恢复到上一次的状态。

#### MOVE

```cangjie
MOVE
```
功能： 窗口拖拽移动。

#### DRAG

```cangjie
DRAG
```
功能： 窗口拖拽缩放。

#### DRAG_START

```cangjie
DRAG_START
```
功能： 窗口开始拖拽缩放。

#### DRAG_END

```cangjie
DRAG_END
```
功能： 窗口结束拖拽缩放。


### SpecificSystemBar

enum SpecificSystemBar
```cangjie
public enum SpecificSystemBar { | status | navigation | navigationIndicator }
```
功能： 当前支持显示或隐藏的系统栏类型。

#### status

```cangjie
status
```
功能： 状态栏。

#### navigation

```cangjie
navigation
```
功能： 三键导航栏。

#### navigationIndicator

```cangjie
navigationIndicator
```
功能： 底部导航条。


### WindowCallbackType

enum WindowCallbackType
```cangjie
public enum WindowCallbackType { | WindowStageEvent | WindowSizeChange | WindowAvoidAreaChange | KeyboardHeightChange | TouchOutside | WindowVisibilityChange | NoInteractionDetected | Screenshot | DialogTargetTouch | WindowEvent | WindowStatusChange | SubWindowClose | WindowTitleButtonRectChange | WindowRectChange }
```
功能： 窗口监听回调事件类型枚举。

#### WindowStageEvent

```cangjie
WindowStageEvent
```
功能： WindowStage生命周期变化事件。

#### WindowSizeChange

```cangjie
WindowSizeChange
```
功能： 窗口尺寸变化事件。

#### WindowAvoidAreaChange

```cangjie
WindowAvoidAreaChange
```
功能： 系统规避区变化事件。

#### KeyboardHeightChange

```cangjie
KeyboardHeightChange
```
功能： 键盘高度变化事件。

#### TouchOutside

```cangjie
TouchOutside
```
功能： 本窗口范围外的点击事件。

#### WindowVisibilityChange

```cangjie
WindowVisibilityChange
```
功能： 本窗口可见状态变化的事件。

#### NoInteractionDetected

```cangjie
NoInteractionDetected
```
功能： 本窗口在指定超时时间内无交互的事件。

#### Screenshot

```cangjie
Screenshot
```
功能： 截屏事件。

#### DialogTargetTouch

```cangjie
DialogTargetTouch
```
功能： 模态窗口所遮盖窗口的点击或触摸事件。

#### WindowEvent

```cangjie
WindowEvent
```
功能： 窗口生命周期变化事件。

#### WindowStatusChange

```cangjie
WindowStatusChange
```
功能： 窗口模式变化事件。

#### SubWindowClose

```cangjie
SubWindowClose
```
功能： 子窗口关闭事件。

#### WindowTitleButtonRectChange

```cangjie
WindowTitleButtonRectChange
```
功能： 标题栏上的最小化、最大化、关闭按钮矩形区域变化事件。

#### WindowRectChange

```cangjie
WindowRectChange
```
功能： 窗口矩形变化事件。


### WindowEventType

enum WindowEventType
```cangjie
public enum WindowEventType { | WINDOW_SHOWN | WINDOW_ACTIVE | WINDOW_INACTIVE | WINDOW_HIDDEN | WINDOW_DESTROYED }
```
功能： 窗口生命周期。

#### WINDOW_SHOWN

```cangjie
WINDOW_SHOWN
```
功能： 切到前台。

#### WINDOW_ACTIVE

```cangjie
WINDOW_ACTIVE
```
功能： 获焦状态。

#### WINDOW_INACTIVE

```cangjie
WINDOW_INACTIVE
```
功能： 失焦状态。

#### WINDOW_HIDDEN

```cangjie
WINDOW_HIDDEN
```
功能： 切到后台。

#### WINDOW_DESTROYED

```cangjie
WINDOW_DESTROYED
```
功能： 窗口销毁。


### WindowStageEventType

enum WindowStageEventType
```cangjie
public enum WindowStageEventType { | SHOWN | ACTIVE | INACTIVE | HIDDEN | RESUMED | PAUSED }
```
功能： WindowStage生命周期。

#### SHOWN

```cangjie
SHOWN
```
功能： 切到前台，例如点击应用图标启动，无论是首次启动还是从后台启动均会触发。

#### ACTIVE

```cangjie
ACTIVE
```
功能： 获焦状态，例如应用窗口处理点击事件后的状态、应用启动后的状态。

#### INACTIVE

```cangjie
INACTIVE
```
功能： 失焦状态，例如打开新应用或点击其他窗口后，原获焦窗口的状态。

#### HIDDEN

```cangjie
HIDDEN
```
功能： 切到后台，例如应用上滑退出、应用窗口关闭。

#### RESUMED

```cangjie
RESUMED
```
功能： 前台可交互状态，例如应用打开后，可以与用户交互的状态。

#### PAUSED

```cangjie
PAUSED
```
功能： 前台不可交互状态，例如从屏幕底部上划，应用进入到多任务界面后的状态。


### WindowStatusType

enum WindowStatusType
```cangjie
public enum WindowStatusType { | UNDEFINED | FULL_SCREEN | MAXIMIZE | MINIMIZE | FLOATING | SPLIT_SCREEN }
```
功能： 窗口模式枚举。

#### UNDEFINED

```cangjie
UNDEFINED
```
功能： 表示APP未定义窗口模式。

#### FULL_SCREEN

```cangjie
FULL_SCREEN
```
功能： 表示APP全屏模式。

#### MAXIMIZE

```cangjie
MAXIMIZE
```
功能： 表示APP窗口最大化模式。

#### MINIMIZE

```cangjie
MINIMIZE
```
功能： 表示APP窗口最小化模式。

#### FLOATING

```cangjie
FLOATING
```
功能： 表示APP自由悬浮形式窗口模式。

#### SPLIT_SCREEN

```cangjie
SPLIT_SCREEN
```
功能： 表示APP分屏模式。


### WindowType

enum WindowType
```cangjie
public enum WindowType { | TYPE_APP | TYPE_SYSTEM_ALERT | TYPE_FLOAT | TYPE_DIALOG }
```
功能： 窗口类型枚举。

#### TYPE_APP

```cangjie
TYPE_APP
```
功能： 表示应用程序窗口。

#### TYPE_SYSTEM_ALERT

```cangjie
TYPE_SYSTEM_ALERT
```
功能： 表示系统告警窗口。

#### TYPE_FLOAT

```cangjie
TYPE_FLOAT
```
功能： 表示悬浮窗。

#### TYPE_DIALOG

```cangjie
TYPE_DIALOG
```
功能： 表示模态窗口。



## Examples

```cangjie
// main_ability.cj

package ohos_app_cangjie_entry

internal import kit.UIKit.*
internal import kit.AbilityKit.*
internal import kit.ArkUI.*

class MainAbility <: Ability {
 public init() {
 super()
 registerSelf()
 }

 public override func onWindowStageCreate(windowStage: WindowStage): Unit {
 // 1.获取应用主窗口。
 var window: Window = windowStage.getMainWindow()

 // 2.设置窗口主属性。以设置 ”是否可触“ 属性为例。
 window.setWindowTouchable(false)

 // 3. 为主窗口加载对应的目标页面
 windowStage.loadContent("newPage")
 }
}
```
```cangjie
// newPage.cj

package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class newPage{
 func build(){
 Flex(FlexParams(justifyContent: FlexAlign.Center ,alignItems: ItemAlign.Center)) {
 Column{
 Text("New Page")
 Button("Untouchable").onClick{
 => AlertDialog.show(
 AlertDialogParamWithConfirm("Unreachable")
 )
 }.margin(10.vp)
 }.margin(10.vp)
 }
 }
}
```
```cangjie
// main_ability.cj

package ohos_app_cangjie_entry

private import kit.UIKit.*
private import kit.AbilityKit.*
private import kit.ArkUI.*
private import ohos.hilog.Hilog
private import ohos.ark_interop_helper.StageContext

class MainAbility <: Ability {

 public init() {
 super()
 registerSelf()
 }

 public override func onWindowStageCreate(windowStage: WindowStage): Unit {
 windowStage.loadContent("newPage")
 // 将该Ability的窗口管理器传入AppStorage中
 AppStorage.setOrCreate("windowStage",windowStage)
 }
}
```
```cangjie
//newPage.cj

package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.ArkUI.*
import ohos.hilog.Hilog

@Entry
@Component
class newPage{

 public override func onPageShow(){
 let windowStage: WindowStage = AppStorage.get<WindowStage>("windowStage").getOrThrow()
 let mainWindow: Window = windowStage.getMainWindow()

 // 开启监听
 var tmp: Unit = mainWindow.on("keyboardHeightChange",TestCallback(0))
 }

 func build(){
 Flex(FlexParams(justifyContent: FlexAlign.Center ,alignItems: ItemAlign.Center)) {
 Column{
 TextInput(placeholder: 'input some words here... ').margin(10.vp)
 }.margin(10.vp)
 }
 }
}

public class TestCallback <: Callback1Argument<UInt32>{

 var count: Int64

 public init(count: Int64){
 this.count = count
 }

 public func invoke(value: UInt32): Unit {
 count++
 Hilog.info(0,"","KeyboardHeightChangeCount: ${this.count}")
 }
}
```
```cangjie
// main_ability.cj

package ohos_app_cangjie_entry

private import kit.UIKit.*
private import kit.AbilityKit.*
private import kit.ArkUI.*
private import ohos.hilog.Hilog
private import ohos.ark_interop_helper.StageContext

class MainAbility <: Ability {

 public init() {
 super()
 registerSelf()
 }

 public override func onWindowStageCreate(windowStage: WindowStage): Unit {
 windowStage.loadContent("newPage")
 // 将该Ability的窗口管理器传入AppStorage中
 AppStorage.setOrCreate("windowStage",windowStage)
 }
}
```
```cangjie
// newPage.cj

package ohos_app_cangjie_entry

import kit.UIKit.*
import kit.ArkUI.*
import ohos.state_macro_manage.*
import ohos.hilog.Hilog

@Entry
@Component
class newPage{
 @State
 var hint: Bool = AppStorage.has("windowStage")

 public func CreateSubWindow(): Unit{
 hint = AppStorage.has("windowStage")
 // 获取该Ability的窗口管理器实例
 var windowStage: WindowStage = AppStorage.get<WindowStage>("windowStage").getOrThrow()

 var mainWindow: Window = windowStage.getMainWindow()

 mainWindow.setWindowGrayScale(1.0)

 // 1.创建应用子窗口，子窗口显示时，主窗口不能响应用户操作。
 var subWindowOptions: SubWindowOptions = SubWindowOptions(
 title: "mySubWindow",
 decorEnabled: true,
 isModal: true
 )
 var subWindow: Window = windowStage.createSubWindowWithOptions("tempSubWindow", subWindowOptions)

 // 2.设置应用子窗口的位置、大小及相关属性等。
 subWindow.moveWindowTo(300,300)
 subWindow.resize(500,500)

 // 3.注册监听点击模态窗口事件。
 subWindow.on(WindowCallbackType.DialogTargetTouch,DestroySubWindow())

 // 4.显示子窗口（空内容）
 subWindow.showWindow()
 }

 func build(){
 Flex(FlexParams(justifyContent: FlexAlign.Center ,alignItems: ItemAlign.Center)){
 Column(){
 Text("SubWindowCreated: ${hint}")
 Button("GetSubWindow").onClick{
 => CreateSubWindow()
 }
 }
 }
 }
}

public class DestroySubWindow <: Callback0Argument{
 public init(){}

 // 当点击模态窗口区域时，关闭子窗。
 public override func invoke(): Unit{
 var windowStage: WindowStage = AppStorage.get<WindowStage>("windowStage").getOrThrow()
 var subWindows: Array<Window> = windowStage.getSubWindow()
 for(i in subWindows){
 i.destroyWindow()
 }
 // 子窗关闭后，恢复主窗口灰阶。
 var mainWindow: Window = windowStage.getMainWindow()
 mainWindow.setWindowGrayScale(0.0)
 }
}
```

