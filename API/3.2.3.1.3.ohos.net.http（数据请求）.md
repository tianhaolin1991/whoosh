# ohos.net.http（数据请求）

本模块提供HTTP数据请求能力。应用可以通过HTTP发起一个数据请求，支持常见的GET、POST、OPTIONS、HEAD、PUT、DELETE、TRACE、CONNECT方法。

```cangjie
import kit.NetworkKit.*
```
## Functions

### public func createHttp(): HttpRequest

```cangjie
public func createHttp(): HttpRequest
```
功能： 创建一个HTTP请求，请求对象功能包括发起请求、中断请求、订阅/取消订阅HTTP Response Header事件。每一个HttpRequest对象对应一个HTTP请求。如需发起多个HTTP请求，须为每个HTTP请求创建对应HttpRequest对象。

**Returns:**

| type | description |
| --- | --- |
| HttpRequest | 返回一个HttpRequest对象，里面包括request、requestInStream、destroy、on和off方法。 |

**Example:**

```cangjie
// index.cj

import ohos.base.*
import kit.NetworkKit.*

let httpRequest = createHttp()
```

### public func createHttpResponseCache(cacheSize!: UInt32 = MAX_CACHE_SIZE): HttpResponseCache

```cangjie
public func createHttpResponseCache(cacheSize!: UInt32 = MAX_CACHE_SIZE): HttpResponseCache
```
功能： 创建一个默认的对象来存储HTTP访问请求的响应。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| UInt32 | 否 | 命名参数。 缓存大小最大为10*1024*1024（10MB），默认最大。 | cacheSize | MAX_CACHE_SIZE |

**Returns:**

| type | description |
| --- | --- |
| HttpResponseCache | 返回一个存储HTTP访问请求响应的对象。 |

**Example:**

```cangjie
// index.cj

import ohos.base.*
import kit.NetworkKit.*

let httpResponseCache = createHttpResponseCache()
```


## Classes

### ClientCert

class ClientCert
```cangjie
public class ClientCert { public ClientCert( public let certPath: String, public let keyPath: String, public let certType!: CertType = CertType.PEM, public let keyPassword!: ?String = None ) }
```
功能： 客户端证书类型。

#### let certPath

```cangjie
public let certPath: String
```
功能： 证书路径。
Type: String; Readable: true; Writable: false

#### let certType

```cangjie
public let certType: CertType = CertType.PEM
```
功能： 证书类型，默认是PEM。
Type: CertType; Readable: true; Writable: false

#### let keyPassword

```cangjie
public let keyPassword: ?String = None
```
功能： 证书秘钥的密码。
Type: ?String; Readable: true; Writable: false

#### let keyPath

```cangjie
public let keyPath: String
```
功能： 证书秘钥的路径。
Type: String; Readable: true; Writable: false


### DataReceiveProgressInfo

class DataReceiveProgressInfo
```cangjie
public class DataReceiveProgressInfo {}
```
功能： 数据接收信息。

#### let receiveSize

```cangjie
public let receiveSize: UInt32
```
功能： 已接收的数据量单位为字节。
Type: UInt32; Readable: true; Writable: false

#### let totalSize

```cangjie
public let totalSize: UInt32
```
功能： 总共要接收的数据量单位为字节。
Type: UInt32; Readable: true; Writable: false


### DataSendProgressInfo

class DataSendProgressInfo
```cangjie
public class DataSendProgressInfo {}
```
功能： 数据发送信息。

#### let sendSize

```cangjie
public let sendSize: UInt32
```
功能： 每次发送的数据量单位为字节。
Type: UInt32; Readable: true; Writable: false

#### let totalSize

```cangjie
public let totalSize: UInt32
```
功能： 总共要发送的数据量单位为字节。
Type: UInt32; Readable: true; Writable: false


### HttpRequest

class HttpRequest
```cangjie
public class HttpRequest {}
```
功能： HTTP请求任务。在调用HttpRequest的方法前，需要先通过 createHttp 创建一个任务。


### HttpRequestOptions

class HttpRequestOptions
```cangjie
public class HttpRequestOptions { public HttpRequestOptions( public let method!: RequestMethod = RequestMethod.GET, public let extraData!: ?HttpData = None, public let expectDataType!: ?HttpDataType = None, public let usingCache!: Bool = true, public let priority!: UInt32 = 1, public let header!: ?HashMap<String, String> = None, public let readTimeout!: UInt32 = 60000, public let connectTimeout!: UInt32 = 60000, public let usingProtocol!: ?HttpProtocol = None, public let usingProxy!: UsingProxy = USE_DEFAULT, public let caPath!: ?String = None, public let resumeFrom!: ?Int64 = None, public let resumeTo!: ?Int64 = None, public let clientCert!: ?ClientCert = None, public let dnsOverHttps!: ?String = None, public let dnsServers!: ?Array<String> = None, public let maxLimit!: UInt32 = 5 * 1024 * 1024, public let multiFormDataList!: ?Array<MultiFormData> = None ) {} }
```
功能： 发起请求可选参数的类型和取值范围。

#### let caPath

```cangjie
public let caPath: ?String = None
```
功能： 如果设置了此参数，系统将使用用户指定路径的CA证书，(开发者需保证该路径下CA证书的可访问性)，否则将使用系统预设CA证书，系统预设CA证书位置：/etc/ssl/certs/cacert.pem。证书路径为沙箱映射路径（开发者可通过Global.getContext().filesDir获取应用沙箱路径）。目前仅支持后缀名为.pem的文本格式证书。
Type: ?String; Readable: true; Writable: false

#### let clientCert

```cangjie
public let clientCert: ?ClientCert = None
```
功能： 支持传输客户端证书。
Type: ? ClientCert; Readable: true; Writable: false

#### let connectTimeout

```cangjie
public let connectTimeout: UInt32 = 60000
```
功能： 连接超时时间。单位为毫秒（ms），默认为60000ms。
Type: UInt32; Readable: true; Writable: false

#### let dnsOverHttps

```cangjie
public let dnsOverHttps: ?String = None
```
功能： 设置使用HTTPS协议的服务器进行DNS解析。 参数必须以以下格式进行URL编码："https:// host:port/path"。
Type: ?String; Readable: true; Writable: false

#### let dnsServers

```cangjie
public let dnsServers: ?Array<String>= None
```
功能： 设置指定的DNS服务器进行DNS解析。 可以设置多个DNS解析服务器，最多3个服务器。如果有3个以上，只取前3个。 服务器必须是IPv4或者IPv6地址。
Type: ?Array<String>; Readable: true; Writable: false

#### let expectDataType

```cangjie
public let expectDataType: ?HttpDataType = None
```
功能： 指定返回数据的类型，默认无此字段。如果设置了此参数，系统将优先返回指定的类型。
Type: ? HttpDataType; Readable: true; Writable: false

#### let extraData

```cangjie
public let extraData: ?HttpData = None
```
功能： 发送请求的额外数据，默认无此字段。
Type: ? HttpData; Readable: true; Writable: false

#### let header

```cangjie
public let header: ?HashMap<String, String>= None
```
功能： HTTP请求头字段。默认{'content-Type': 'application/json'}。
Type: ?HashMap<String,String>; Readable: true; Writable: false

#### let maxLimit

```cangjie
public let maxLimit: UInt32 = 5 * 1024 * 1024
```
功能： 响应消息的最大字节限制，默认值为5MB，以字节为单位。最大值为10MB，以字节为单位。
Type: UInt32; Readable: true; Writable: false

#### let method

```cangjie
public let method: RequestMethod = RequestMethod.GET
```
功能： 请求方式，默认为GET。
Type: RequestMethod; Readable: true; Writable: false

#### let multiFormDataList

```cangjie
public let multiFormDataList: ?Array<MultiFormData>= None
```
功能： 当'content-Type'为'multipart/form-data'时，则上传该字段定义的数据字段表单列表。
Type: ?Array< MultiFormData >; Readable: true; Writable: false

#### let priority

```cangjie
public let priority: UInt32 = 1
```
功能： 优先级，范围[1,1000]，默认是1。若传参超出范围则使用默认值1。
Type: UInt32; Readable: true; Writable: false

#### let readTimeout

```cangjie
public let readTimeout: UInt32 = 60000
```
功能： 读取超时时间。单位为毫秒（ms），默认为60000ms。 设置为0表示不会出现超时情况。
Type: UInt32; Readable: true; Writable: false

#### let resumeFrom

```cangjie
public let resumeFrom: ?Int64 = None
```
功能： 用于设置上传或下载起始位置。HTTP标准（RFC 7233第3.1节）允许服务器忽略范围请求。 使用HTTP PUT时设置此参数，可能出现未知问题。 取值范围是:1~4294967296(4GB)，超出范围则不生效。无默认值。
Type: ?Int64; Readable: true; Writable: false

#### let resumeTo

```cangjie
public let resumeTo: ?Int64 = None
```
功能： 用于设置上传或下载结束位置。HTTP标准（RFC 7233第3.1节）允许服务器忽略范围请求。 使用HTTP PUT时设置此参数，可能出现未知问题。 取值范围是:1~4294967296(4GB)，超出范围则不生效。无默认值。
Type: ?Int64; Readable: true; Writable: false

#### let usingCache

```cangjie
public let usingCache: Bool = true
```
功能： 是否使用缓存，默认为true，请求时优先读取缓存。 缓存跟随当前进程生效。新缓存会替换旧缓存。
Type: Bool; Readable: true; Writable: false

#### let usingProtocol

```cangjie
public let usingProtocol: ?HttpProtocol = None
```
功能： 使用协议。默认值由系统自动指定。
Type: ? HttpProtocol; Readable: true; Writable: false

#### let usingProxy

```cangjie
public let usingProxy: UsingProxy = USE_DEFAULT
```
功能： 是否使用HTTP代理，默认为USE_DEFAULT，使用默认代理。 当usingProxy为NOT_USE时，不使用网络代理。 当usingProxy为USE_SPECIFIED类型时，使用指定网络代理。
Type: UsingProxy; Readable: true; Writable: false


### HttpResponse

class HttpResponse
```cangjie
public class HttpResponse <: ToString {}
```
功能： request方法回调函数的返回值类型。

#### let cookies

```cangjie
public let cookies: String
```
功能： 服务器返回的cookies。
Type: String; Readable: true; Writable: false

#### let header

```cangjie
public let header: HashMap<String, String>
```
功能： 发起HTTP请求返回来的响应头。
Type: HashMap<String,String>; Readable: true; Writable: false

#### let performanceTiming

```cangjie
public let performanceTiming: PerformanceTiming
```
功能： HTTP请求的各个阶段的耗时。
Type: PerformanceTiming; Readable: true; Writable: false

#### let responseCode

```cangjie
public let responseCode: ResponseCode
```
功能： 响应的状态码。
Type: ResponseCode; Readable: true; Writable: false

#### let result

```cangjie
public let result: HttpData
```
功能： HTTP请求根据响应头中content-type类型返回对应的响应格式内容。
Type: HttpData; Readable: true; Writable: false

#### let resultType

```cangjie
public let resultType: HttpDataType
```
功能： 返回值类型。
Type: HttpDataType; Readable: true; Writable: false


### HttpResponseCache

class HttpResponseCache
```cangjie
public class HttpResponseCache {}
```
功能： 存储HTTP访问请求响应的对象。在调用HttpResponseCache的方法前，需要先通过 createHttpResponseCache 创建一个任务。


### MultiFormData

class MultiFormData
```cangjie
public class MultiFormData { public MultiFormData ( public let name: String, public let contentType: String, public let remoteFileName!: ?String = None, public let data!: ?HttpData = None, public let filePath!: ?String = None ) {} }
```
功能： 多部分表单数据的类型。

#### let contentType

```cangjie
public let contentType: String
```
功能： 数据类型，如'text/plain'，'image/png', 'image/jpeg', 'audio/mpeg', 'video/mp4'等。
Type: String; Readable: true; Writable: false

#### let data

```cangjie
public let data: ?HttpData = None
```
功能： 表单数据内容。
Type: ? HttpData; Readable: true; Writable: false

#### let filePath

```cangjie
public let filePath: ?String = None
```
功能： 此参数根据文件的内容设置mime部件的正文内容。用于代替data将文件数据设置为数据内容，如果data为空，则必须设置filePath。如果data有值，则filePath不会生效。
Type: ?String; Readable: true; Writable: false

#### let name

```cangjie
public let name: String
```
功能： 数据名称。
Type: String; Readable: true; Writable: false

#### let remoteFileName

```cangjie
public let remoteFileName: ?String = None
```
功能： 上传到服务器保存为文件的名称。
Type: ?String; Readable: true; Writable: false


### PerformanceTiming

class PerformanceTiming
```cangjie
public class PerformanceTiming <: ToString {}
```
功能： 性能打点数据，单位为毫秒。

#### let dnsTiming

```cangjie
public let dnsTiming: Float64
```
功能： 从 request 请求到DNS解析完成耗时。
Type: Float64; Readable: true; Writable: false

#### let firstReceiveTiming

```cangjie
public let firstReceiveTiming: Float64
```
功能： 从 request 请求到接收第一个字节的耗时。
Type: Float64; Readable: true; Writable: false

#### let firstSendTiming

```cangjie
public let firstSendTiming: Float64
```
功能： 从 request 请求到开始发送第一个字节的耗时。
Type: Float64; Readable: true; Writable: false

#### let redirectTiming

```cangjie
public let redirectTiming: Float64
```
功能： 从 request 请求到完成所有重定向步骤的耗时。
Type: Float64; Readable: true; Writable: false

#### let responseBodyTiming

```cangjie
public let responseBodyTiming: Float64
```
功能： 从 request 请求到body解析完成的耗时。
Type: Float64; Readable: true; Writable: false

#### let responseHeaderTiming

```cangjie
public let responseHeaderTiming: Float64
```
功能： 从 request 请求到header解析完成的耗时。
Type: Float64; Readable: true; Writable: false

#### let tcpTiming

```cangjie
public let tcpTiming: Float64
```
功能： 从 request 请求到TCP连接完成耗时。
Type: Float64; Readable: true; Writable: false

#### let tlsTiming

```cangjie
public let tlsTiming: Float64
```
功能： 从 request 请求到TLS连接完成耗时。
Type: Float64; Readable: true; Writable: false

#### let totalFinishTiming

```cangjie
public let totalFinishTiming: Float64
```
功能： 从 request 请求到完成请求的耗时。
Type: Float64; Readable: true; Writable: false

#### let totalTiming

```cangjie
public let totalTiming: Float64
```
功能： 从 request 请求回调到应用程序的耗时。
Type: Float64; Readable: true; Writable: false



## Enums

### CertType

enum CertType
```cangjie
public enum CertType { | PEM | DER | P12 | ... }
```
功能： 证书类型。

#### DER

```cangjie
DER
```
功能： 证书类型DER。

#### P12

```cangjie
P12
```
功能： 证书类型P12。

#### PEM

```cangjie
PEM
```
功能： 证书类型PEM。


### HttpData

enum HttpData
```cangjie
public enum HttpData <: ToString { | STRING_DATA(String) | ARRAY_DATA(Array<Byte>) | ... }
```
功能： HTTP的数据。

#### ARRAY_DATA(Array<Byte>)

```cangjie
ARRAY_DATA(Array<Byte>)
```
功能： 二进制数组。

#### STRING_DATA(String)

```cangjie
STRING_DATA(String)
```
功能： 字符串。


### HttpDataType

enum HttpDataType
```cangjie
public enum HttpDataType { | STRING | ARRAY_BUFFER | ... }
```
功能： HTTP的数据类型。

#### ARRAY_BUFFER

```cangjie
ARRAY_BUFFER
```
功能： 二进制数组类型。

#### STRING

```cangjie
STRING
```
功能： 字符串类型。


### HttpProtocol

enum HttpProtocol
```cangjie
public enum HttpProtocol { | HTTP1_1 | HTTP2 | HTTP3 | ... }
```
功能： HTTP协议版本。

#### HTTP1_1

```cangjie
HTTP1_1
```
功能： 协议HTTP/1.1。

#### HTTP2

```cangjie
HTTP2
```
功能： 协议HTTP/2。

#### HTTP3

```cangjie
HTTP3
```
功能： 协议HTTP/3，若系统或服务器不支持，则使用低版本的HTTP协议请求。仅对HTTPS的URL生效，HTTP则会请求失败。


### RequestMethod

enum RequestMethod
```cangjie
public enum RequestMethod { | OPTIONS | GET | HEAD | POST | PUT | DELETE | TRACE | CONNECT | ... }
```
功能： HTTP请求方法。

#### CONNECT

```cangjie
CONNECT
```
功能： HTTP请求CONNECT。

#### DELETE

```cangjie
DELETE
```
功能： HTTP请求DELETE。

#### GET

```cangjie
GET
```
功能： HTTP请求GET。

#### HEAD

```cangjie
HEAD
```
功能： HTTP请求HEAD。

#### OPTIONS

```cangjie
OPTIONS
```
功能： HTTP请求OPTIONS。

#### POST

```cangjie
POST
```
功能： HTTP请求POST。

#### PUT

```cangjie
PUT
```
功能： HTTP请求PUT。

#### TRACE

```cangjie
TRACE
```
功能： HTTP请求TRACE。


### ResponseCode

enum ResponseCode
```cangjie
public enum ResponseCode { | OK | CREATED | ACCEPTED | NOT_AUTHORITATIVE | NO_CONTENT | RESET | PARTIAL | MULT_CHOICE | MOVED_PERM | MOVED_TEMP | SEE_OTHER | NOT_MODIFIED | USE_PROXY | BAD_REQUEST | UNAUTHORIZED | PAYMENT_REQUIRED | FORBIDDEN | NOT_FOUND | BAD_METHOD | NOT_ACCEPTABLE | PROXY_AUTH | CLIENT_TIMEOUT | CONFLICT | GONE | LENGTH_REQUIRED | PRECON_FAILED | ENTITY_TOO_LARGE | REQ_TOO_LONG | UNSUPPORTED_TYPE | REQUESTED_RANGE_NOT_SATISFIABLE | EXPECTATION_FAILED | TEAPOT | MISDIRECTED_REQUEST | UNPROCESSABLE_ENTITY | LOCKED | FAILED_DEPENDENCY | TOO_EARLY | UPGRADE_REQUIRED | PRECONDITION_REQUIRED | TOO_MANY_REQUESTS | REQUEST_HEADER_FIELDS_TOO_LARGE | UNAVAILABLE_FOR_LEGAL_REASONS | INTERNAL_ERROR | NOT_IMPLEMENTED | BAD_GATEWAY | UNAVAILABLE | GATEWAY_TIMEOUT | VERSION | VARIANT_ALSO_NEGOTIATES | INSUFFICIENT_STORAGE | LOOP_DETECTED | NOT_EXTENDED | NETWORK_AUTHENTICATION_REQUIRED | ... }
```
功能： 发起请求返回的响应码。

#### ACCEPTED

```cangjie
ACCEPTED
```
功能： 已经接受请求，但未处理完成。

#### BAD_GATEWAY

```cangjie
BAD_GATEWAY
```
功能： 充当网关或代理的服务器，从远端服务器接收到了一个无效的请求。

#### BAD_METHOD

```cangjie
BAD_METHOD
```
功能： 客户端请求中的方法被禁止。

#### BAD_REQUEST

```cangjie
BAD_REQUEST
```
功能： 客户端请求的语法错误，服务器无法理解。

#### CLIENT_TIMEOUT

```cangjie
CLIENT_TIMEOUT
```
功能： 请求时间过长，超时。

#### CONFLICT

```cangjie
CONFLICT
```
功能： 服务器完成客户端的PUT请求是可能返回此代码，服务器处理请求时发生了冲突。

#### CREATED

```cangjie
CREATED
```
功能： 成功请求并创建了新的资源。

#### ENTITY_TOO_LARGE

```cangjie
ENTITY_TOO_LARGE
```
功能： 由于请求的实体过大，服务器无法处理，因此拒绝请求。

#### EXPECTATION_FAILED

```cangjie
EXPECTATION_FAILED
```
功能： 此响应代码表示服务器无法满足Expect请求标头字段所指示的期望。

#### FAILED_DEPENDENCY

```cangjie
FAILED_DEPENDENCY
```
功能： 由于前一个请求失败，本次请求失败。

#### FORBIDDEN

```cangjie
FORBIDDEN
```
功能： 服务器理解请求客户端的请求，但是拒绝执行此请求。

#### GATEWAY_TIMEOUT

```cangjie
GATEWAY_TIMEOUT
```
功能： 充当网关或代理的服务器，未及时从远端服务器获取请求。

#### GONE

```cangjie
GONE
```
功能： 客户端请求的资源已经不存在。

#### INSUFFICIENT_STORAGE

```cangjie
INSUFFICIENT_STORAGE
```
功能： 无法在资源上执行该方法，因为服务器无法存储成功完成请求所需的表示。

#### INTERNAL_ERROR

```cangjie
INTERNAL_ERROR
```
功能： 服务器内部错误，无法完成请求。

#### LENGTH_REQUIRED

```cangjie
LENGTH_REQUIRED
```
功能： 服务器无法处理客户端发送的不带Content-Length的请求信息。

#### LOCKED

```cangjie
LOCKED
```
功能： 正在访问的资源已锁定。

#### LOOP_DETECTED

```cangjie
LOOP_DETECTED
```
功能： 服务器在处理请求时检测到无限循环。

#### MISDIRECTED_REQUEST

```cangjie
MISDIRECTED_REQUEST
```
功能： 请求被定向到无法生成响应的服务器。这可以由未配置为针对请求 URI 中包含的方案和权限组合生成响应的服务器发送。

#### MOVED_PERM

```cangjie
MOVED_PERM
```
功能： 永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。

#### MOVED_TEMP

```cangjie
MOVED_TEMP
```
功能： 临时移动。

#### MULT_CHOICE

```cangjie
MULT_CHOICE
```
功能： 多种选择。

#### NETWORK_AUTHENTICATION_REQUIRED

```cangjie
NETWORK_AUTHENTICATION_REQUIRED
```
功能： 指示客户端需要进行身份验证才能获得网络访问权限。

#### NOT_ACCEPTABLE

```cangjie
NOT_ACCEPTABLE
```
功能： 服务器无法根据客户端请求的内容特性完成请求。

#### NOT_AUTHORITATIVE

```cangjie
NOT_AUTHORITATIVE
```
功能： 非授权信息。请求成功。

#### NOT_EXTENDED

```cangjie
NOT_EXTENDED
```
功能： 服务器需要对请求进行进一步扩展才能完成请求。

#### NOT_FOUND

```cangjie
NOT_FOUND
```
功能： 服务器无法根据客户端的请求找到资源（网页）。

#### NOT_IMPLEMENTED

```cangjie
NOT_IMPLEMENTED
```
功能： 服务器不支持请求的功能，无法完成请求。

#### NOT_MODIFIED

```cangjie
NOT_MODIFIED
```
功能： 未修改。

#### NO_CONTENT

```cangjie
NO_CONTENT
```
功能： 无内容。服务器成功处理，但未返回内容。

#### OK

```cangjie
OK
```
功能： 请求成功。一般用于GET与POST请求。

#### PARTIAL

```cangjie
PARTIAL
```
功能： 部分内容。服务器成功处理了部分GET请求。

#### PAYMENT_REQUIRED

```cangjie
PAYMENT_REQUIRED
```
功能： 保留，将来使用。

#### PRECONDITION_REQUIRED

```cangjie
PRECONDITION_REQUIRED
```
功能： 源服务器要求请求是有条件的。此响应旨在防止'丢失更新'问题，即当第三方修改服务器上的状态时，客户端GET获取资源的状态，对其进行修改并将其PUT放回服务器，从而导致冲突。

#### PRECON_FAILED

```cangjie
PRECON_FAILED
```
功能： 客户端请求信息的先决条件错误。

#### PROXY_AUTH

```cangjie
PROXY_AUTH
```
功能： 请求要求代理的身份认证。

#### REQUESTED_RANGE_NOT_SATISFIABLE

```cangjie
REQUESTED_RANGE_NOT_SATISFIABLE
```
功能： 无法满足请求中Range标头字段指定的范围。该范围可能超出了目标URI数据的大小。

#### REQUEST_HEADER_FIELDS_TOO_LARGE

```cangjie
REQUEST_HEADER_FIELDS_TOO_LARGE
```
功能： 服务器不愿意处理请求，因为其头字段太大。在减小请求头字段的大小后，可以重新提交请求。

#### REQ_TOO_LONG

```cangjie
REQ_TOO_LONG
```
功能： 请求的URI过长（URI通常为网址），服务器无法处理。

#### RESET

```cangjie
RESET
```
功能： 重置内容。

#### SEE_OTHER

```cangjie
SEE_OTHER
```
功能： 查看其它地址。

#### TEAPOT

```cangjie
TEAPOT
```
功能： 服务端拒绝用茶壶煮咖啡。

#### TOO_EARLY

```cangjie
TOO_EARLY
```
功能： 表示服务器不愿意冒险处理可能被重播的请求。

#### TOO_MANY_REQUESTS

```cangjie
TOO_MANY_REQUESTS
```
功能： 表示用户在给定的时间内发送了太多请求，应限制请求速率。

#### UNAUTHORIZED

```cangjie
UNAUTHORIZED
```
功能： 请求要求用户的身份认证。

#### UNAVAILABLE

```cangjie
UNAVAILABLE
```
功能： 由于超载或系统维护，服务器暂时的无法处理客户端的请求。

#### UNAVAILABLE_FOR_LEGAL_REASONS

```cangjie
UNAVAILABLE_FOR_LEGAL_REASONS
```
功能： 用户代理请求了无法合法提供的资源，例如政府审查的网页。

#### UNPROCESSABLE_ENTITY

```cangjie
UNPROCESSABLE_ENTITY
```
功能： 请求格式正确，但由于语义错误而无法遵循。

#### UNSUPPORTED_TYPE

```cangjie
UNSUPPORTED_TYPE
```
功能： 服务器无法处理请求的格式。

#### UPGRADE_REQUIRED

```cangjie
UPGRADE_REQUIRED
```
功能： 服务器拒绝使用当前协议执行请求，但在客户端升级到其他协议后可能愿意这样做。 服务端发送带有Upgrade(en-US)字段的426响应 来表明它所需的协议。

#### USE_PROXY

```cangjie
USE_PROXY
```
功能： 使用代理。

#### VARIANT_ALSO_NEGOTIATES

```cangjie
VARIANT_ALSO_NEGOTIATES
```
功能： 服务器存在内部配置错误：所选的变体资源被配置为参与透明内容协商本身，因此不是协商过程中的适当终点。

#### VERSION

```cangjie
VERSION
```
功能： 服务器请求的HTTP协议的版本。

#### static func parse(UInt32)

```cangjie
public static func parse(code: UInt32): ResponseCode
```
功能： 获取状态码对应。


### UsingProxy

enum UsingProxy
```cangjie
public enum UsingProxy { | NOT_USE | USE_DEFAULT | USE_SPECIFIED(HttpProxy) | ... }
```
功能： 使用代理的类型。

#### NOT_USE

```cangjie
NOT_USE
```
功能： 不使用代理。

#### USE_DEFAULT

```cangjie
USE_DEFAULT
```
功能： 使用默认代理。

#### USE_SPECIFIED(HttpProxy)

```cangjie
USE_SPECIFIED(HttpProxy)
```
功能： 使用指定类型代理。



## Examples

```cangjie
import kit.NetworkKit.*
import ohos.base.*
import std.collection.*

// 每一个httpRequest对应一个HTTP请求任务，不可复用
let httpRequest = createHttp()
// 用于订阅HTTP响应头，此接口会比request请求先返回。可以根据业务需要订阅此消息
httpRequest.onHeadersReceive({header: HashMap<String, String> =>
 AppLog.info("header: ${header}")
})

let option = HttpRequestOptions(
 method: RequestMethod.POST, // 可选，默认为http.RequestMethod.GET
 // 当使用POST请求时此字段用于传递内容
 extraData: HttpData.STRING_DATA("data to send"),
 expectDataType: HttpDataType.STRING, // 可选，指定返回数据的类型
 usingCache: true, // 可选，默认为true
 priority: 1, // 可选，默认为1
 // 开发者根据自身业务需要添加header字段
 header: HashMap<String, String>([("content-type", "application/json")]),
 readTimeout: 60000, // 可选，默认为60000ms
 connectTimeout: 60000, // 可选，默认为60000ms
 usingProtocol: HttpProtocol.HTTP1_1, // 可选，协议类型默认值由系统自动指定
 usingProxy: UsingProxy.USE_DEFAULT, //可选，默认不使用网络代理，自API 10开始支持该属性
 caPath: "/path/to/cacert.pem", // 可选，默认使用系统预设CA证书，自API 10开始支持该属性
 clientCert: ClientCert(
 "/path/to/client.pem", // 默认不使用客户端证书
 "/path/to/client.key", // 若证书包含Key信息，传入空字符串
 certType: CertType.PEM, // 可选，默认使用PEM
 keyPassword: "passwordToKey" // 可选，输入key文件的密码
 ),
 multiFormDataList: [ // 可选，仅当Header中，'content-Type'为'multipart/form-data'时生效
 MultiFormData (
 "Part1", // 数据名
 "text/plain", // 数据类型
 data: STRING_DATA("Example data"), // 可选，数据内容
 remoteFileName: "example.txt" // 可选
 ),
 MultiFormData (
 "Part2", // 数据名
 "text/plain", // 数据类型
 filePath: "/data/app/el2/100/base/com.example.myapplication/haps/entry/files/fileName.txt", // 可选，传入文件路径
 remoteFileName: "fileName.txt" // 可选
 )
 ]
)

httpRequest.request( // 填写HTTP请求的URL地址，可以带参数也可以不带参数。URL地址需要开发者自定义。请求的参数可以在extraData中指定
 "http://www.example.com", { err, resp =>
 if (let Some(e) <- err) {
 Hilog.error(0, "test","exception: ${e.message}")
 throw e
 }
 if (let Some(r) <- resp) {
 Hilog.error(0, "test", "${r}")
 } else {
 Hilog.error(0, "test", "resp is none")
 }
 httpRequest.destroy()
 }, options: option)
```

