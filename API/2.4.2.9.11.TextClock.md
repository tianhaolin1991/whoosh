# TextClock

TextClock 组件通过文本将当前系统时间显示在设备上。支持不同时区的时间显示，最高精度到秒级。

## Component Constructors

### public init(timeZoneOffset!: Float32, controller!: TextClockController = TextClockController())

```cangjie
public init(timeZoneOffset!: Float32, controller!: TextClockController = TextClockController())
```
功能： 创建一个TextClock组件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Float32 | 是 | 命名参数。 设置时区偏移量。 取值范围为[-14, 12]，表示东十二区到西十二区，其中负值表示东时区，正值表示西时区，比如东八区为-8。设置值为该取值范围内的浮点数时会进行取整，舍弃小数部分。 设置值为{ 9.5, 3.5, -3.5, -4.5, -5.5, -5.75, -6.5, -9.5, -10.5, -12.75 }集合中的浮点数时不进行取整。 对横跨国际日界线的国家或地区，用-13（UTC+13）和-14（UTC+14）来保证整个国家或者区域处在相同的时间，当设置的值不在取值范围内时，将使用当前系统的时区偏移量。 | timeZoneOffset | - |
| TextClockController | 否 | 命名参数。 绑定一个控制器，用来控制文本时钟的状态。 | controller | TextClockController() |

### public init(timeZoneOffset!: Int32, controller!: TextClockController = TextClockController())

```cangjie
public init(timeZoneOffset!: Int32, controller!: TextClockController = TextClockController())
```
功能： 创建一个TextClock组件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Int32 | 是 | 命名参数。 设置时区偏移量。 取值范围为[-14, 12]，表示东十二区到西十二区，其中负值表示东时区，正值表示西时区，比如东八区为-8。 对横跨国际日界线的国家或地区，用-13（UTC+13）和-14（UTC+14）来保证整个国家或者区域处在相同的时间，当设置的值不在取值范围内时，将使用当前系统的时区偏移量。 | timeZoneOffset | - |
| TextClockController | 否 | 命名参数。 绑定一个控制器，用来控制文本时钟的状态。 | controller | TextClockController() |

### public init(controller!: TextClockController = TextClockController())

```cangjie
public init(controller!: TextClockController = TextClockController())
```
功能： 创建一个TextClock组件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| TextClockController | 否 | 命名参数。 绑定一个控制器，用来控制文本时钟的状态。 | controller | TextClockController() |

### public init(options: TextClockOptions)

```cangjie
public init(options: TextClockOptions)
```
功能： 创建一个TextClock组件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| TextClockOptions | 是 | 通过文本显示当前系统时间的组件参数。 | options | - |


## Functions

### public func dateTimeOptions(dateTimeOptions: DateTimeOptions): This

```cangjie
public func dateTimeOptions(dateTimeOptions: DateTimeOptions): This
```
功能： 设置小时是否显示前导0。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| DateTimeOptions | 是 | 设置小时是否显示前导0，只支持设置hour参数，参数hour值为"2-digit"时表示显示前导0，参数hour值为"numeric"时表示不显示前导0。 | dateTimeOptions | - |

### public func fontColor(value: ResourceColor): This

```cangjie
public func fontColor(value: ResourceColor): This
```
功能： 设置字体颜色。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ResourceColor | 是 | 字体颜色。 | value | - |

### public func fontFamily(value: String): This

```cangjie
public func fontFamily(value: String): This
```
功能： 设置字体列表。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 字体列表。 | value | - |

### public func fontFamily(content: AppResource): This

```cangjie
public func fontFamily(content: AppResource): This
```
功能： 设置字体列表。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| AppResource | 是 | 字体列表。默认字体'HarmonyOS Sans'。 应用当前支持'HarmonyOS Sans'字体和 注册自定义字体 。 | content | - |

### public func fontFeature(value: String): This

```cangjie
public func fontFeature(value: String): This
```
功能： 设置文字特性效果，比如数字等宽的特性。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 文字特性效果。 | value | - |

### public func fontSize(value: Length): This

```cangjie
public func fontSize(value: Length): This
```
功能： 设置字体大小。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | 字体大小。fontSize为Int64、Float64类型时，使用fp单位。初始值：16.fp，不支持设置百分比。 | value | - |

### public func fontStyle(value: FontStyle): This

```cangjie
public func fontStyle(value: FontStyle): This
```
功能： 设置字体样式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| FontStyle | 是 | 字体样式。 初始值：FontStyle.Normal | value | - |

### public func fontWeight(value: FontWeight): This

```cangjie
public func fontWeight(value: FontWeight): This
```
功能： 设置文本的字体粗细，设置过大可能会在不同字体下有截断。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| FontWeight | 是 | 文本的字体粗细。 初始值：FontStyle.Normal | value | - |

### public func fontWeight(value: String): This

```cangjie
public func fontWeight(value: String): This
```
功能： 设置文本的字体粗细，设置过大可能会在不同字体下有截断。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 文本的字体粗细。仅支持Int64类型取值的字符串形式，例如"400"，以及"bold"、"bolder"、"lighter"、"regular"、"medium"，分别对应FontWeight中相应的枚举值。 | value | - |

### public func format(value: String): This

```cangjie
public func format(value: String): This
```
功能： 设置显示时间格式，如“yyyy/MM/dd”、“yyyy-MM-dd”。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 设置显示时间格式，如 yyyy/MM/dd 、 yyyy-MM-dd 。 | value | - |

### public func textShadow(values: Array<ShadowOptions>): This

```cangjie
public func textShadow(values: Array<ShadowOptions>): This
```
功能： 设置文字阴影效果。该接口以数组形式入参，实现多重文字阴影。不支持fill字段, 不支持智能取色模式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Array< ShadowOptions > | 是 | 文字阴影效果。 | values | - |

### public func textShadow( radius!: Float64, shadowType!: ShadowType = ShadowType.COLOR, offsetX!: Float64 = 0.0, offsetY!: Float64 = 0.0, color!: ResourceColor = Color.BLACK, fill!: Bool = false ): This

```cangjie
public func textShadow( radius!: Float64, shadowType!: ShadowType = ShadowType.COLOR, offsetX!: Float64 = 0.0, offsetY!: Float64 = 0.0, color!: ResourceColor = Color.BLACK, fill!: Bool = false ): This
```
功能： 设置文字阴影效果。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Float64 | 是 | 命名参数。 阴影模糊半径。 取值范围：[0, +∞) 单位：px 说明： 设置小于0的值时，按值为0处理。 如需使用vp单位的数值可用 vp2px 进行转换。 | radius | - |
| ShadowType | 否 | 命名参数。 阴影类型。 | shadowType | ShadowType.COLOR |
| Float64 | 否 | 命名参数。 阴影的X轴偏移量。 单位：px。 如需使用vp单位的数值可用 vp2px 进行转换。 | offsetX | 0.0 |
| Float64 | 否 | 命名参数。 阴影的Y轴偏移量。 单位：px。 如需使用vp单位的数值可用 vp2px 进行转换。 | offsetY | 0.0 |
| ResourceColor | 否 | 命名参数。 阴影的颜色。 | color | Color.BLACK |
| Bool | 否 | 命名参数。 阴影是否内部填充。 | fill | false |

### public func onDateChange(callback: (Int64) -> Unit): This

```cangjie
public func onDateChange(callback: (Int64) -> Unit): This
```
功能： 时间变化触发该事件。该事件回调间隔为秒。组件不可见时不触发。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (Int64)->Unit | 是 | Unix Time Stamp，即自1970年1月1日（UTC）起经过的秒数。 | callback | - |


## Classes

### TextClockController

class TextClockController
```cangjie
public class TextClockController { public init() }
```
功能： TextClock容器组件的控制器，可以将该控制器绑定到TextClock组件，通过它控制文本时钟的启动与停止。一个TextClock组件仅支持绑定一个控制器。


### DateTimeOptions

class DateTimeOptions
```cangjie
public class DateTimeOptions { public var locale: String public var dateStyle: String public var timeStyle: String public var hourCycle: String public var timeZone: String public var numberingSystem: String public var hour12: Bool public var weekday: String public var era: String public var year: String public var month: String public var day: String public var hour: String public var minute: String public var second: String public var timeZoneName: String public var dayPeriod: String public var localeMatcher: String public var formatMatcher: String public init(locale!: String = "zh-Hans-CN", dateStyle!: String = "long", timeStyle!: String = "long", hourCycle!: String = "h11", timeZone!: String = "", numberingSystem!: String = "adlm", hour12!: Bool = false, weekday!: String = "long", era!: String = "long", year!: String = "numeric", month!: String = "numeric", day!: String = "numeric", hour!: String = "numeric", minute!: String = "numeric", second!: String = "numeric", timeZoneName!: String = "long", dayPeriod!: String = "long", localeMatcher!: String = "lookup", formatMatcher!: String = "basic") }
```
功能： 日期、时间格式化时可设置的配置项。

#### var dateStyle

```cangjie
public var dateStyle: String
```
功能： 日期显示格式，取值包括："long", "short", "medium", "full", "auto"。
Type: String; Readable: true; Writable: true

#### var day

```cangjie
public var day: String
```
功能： 日期的显示格式，取值包括："numeric", "2-digit"。
Type: String; Readable: true; Writable: true

#### var dayPeriod

```cangjie
public var dayPeriod: String
```
功能： 时段的显示格式，取值包括："long", "short", "narrow", "auto"。
Type: String; Readable: true; Writable: true

#### var era

```cangjie
public var era: String
```
功能： 时代的显示格式，取值包括："long", "short", "narrow", "auto"。
Type: String; Readable: true; Writable: true

#### var formatMatcher

```cangjie
public var formatMatcher: String
```
功能： 要使用的格式匹配算法，取值包括："basic", "best fit"。
Type: String; Readable: true; Writable: true

#### var hour

```cangjie
public var hour: String
```
功能： 小时的显示格式，取值包括："numeric", "2-digit"。
Type: String; Readable: true; Writable: true

#### var hour12

```cangjie
public var hour12: Bool
```
功能： 是否使用12小时制，若hour12和hourCycle未设置且系统24小时开关打开时，hour12属性的默认值为false。
Type: Bool; Readable: true; Writable: true

#### var hourCycle

```cangjie
public var hourCycle: String
```
功能： 时制格式，取值包括："h11", "h12", "h23", "h24"。
Type: String; Readable: true; Writable: true

#### var locale

```cangjie
public var locale: String
```
功能： 区域参数， 如：zh-Hans-CN。
Type: String; Readable: true; Writable: true

#### var localeMatcher

```cangjie
public var localeMatcher: String
```
功能： 要使用的区域匹配算法，取值包括："lookup", "best fit"。
Type: String; Readable: true; Writable: true

#### var minute

```cangjie
public var minute: String
```
功能： 分钟的显示格式，取值包括："numeric", "2-digit"。
Type: String; Readable: true; Writable: true

#### var month

```cangjie
public var month: String
```
功能： 月份的显示格式，取值包括："numeric", "2-digit", "long", "short", "narrow", "auto"。
Type: String; Readable: true; Writable: true

#### var numberingSystem

```cangjie
public var numberingSystem: String
```
功能： 数字系统，取值包括："adlm", "ahom", "arab", "arabext", "bali", "beng", "bhks", "brah", "cakm", "cham", "deva", "diak", "fullwide", "gong", "gonm", "gujr", "guru", "hanidec", "hmng", "hmnp", "java", "kali", "khmr", "knda", "lana", "lanatham", "laoo", "latn", "lepc", "limb", "mathbold", "mathdbl", "mathmono", "mathsanb", "mathsans", "mlym", "modi", "mong", "mroo", "mtei", "mymr", "mymrshan", "mymrtlng", "newa", "nkoo", "olck", "orya", "osma", "rohg", "saur", "segment", "shrd", "sind", "sinh", "sora", "sund", "takr", "talu", "tamldec", "telu", "thai", "tibt", "tirh", "vaii", "wara", "wcho"。
Type: String; Readable: true; Writable: true

#### var second

```cangjie
public var second: String
```
功能： 秒钟的显示格式，取值包括："numeric", "2-digit"。
Type: String; Readable: true; Writable: true

#### var timeStyle

```cangjie
public var timeStyle: String
```
功能： 时间显示格式，取值包括："long", "short", "medium", "full", "auto"。
Type: String; Readable: true; Writable: true

#### var timeZone

```cangjie
public var timeZone: String
```
功能： 使用的时区（合法的IANA时区ID）。
Type: String; Readable: true; Writable: true

#### var timeZoneName

```cangjie
public var timeZoneName: String
```
功能： 时区名称的本地化表示, 取值包括："long", "short", "auto"。
Type: String; Readable: true; Writable: true

#### var weekday

```cangjie
public var weekday: String
```
功能： 工作日的显示格式，取值包括："long", "short", "narrow", "auto"。
Type: String; Readable: true; Writable: true

#### var year

```cangjie
public var year: String
```
功能： 年份的显示格式，取值包括："numeric", "2-digit"。
Type: String; Readable: true; Writable: true


### TextClockConfiguration

class TextClockConfiguration
```cangjie
public class TextClockConfiguration { public var timeZoneOffset: Float32 public var started: Bool public var timeValue: Int64 public init(timeZoneOffset!: Float32, started!: Bool, timeValue!: Int64) }
```
功能： 文本时钟定制类型。

#### var started

```cangjie
public var started: Bool
```
功能： 指示文本时钟是否启动。
Type: Bool; Readable: true; Writable: true

#### var timeValue

```cangjie
public var timeValue: Int64
```
功能： 当前文本时钟时区的UTC秒数。
Type: Int64; Readable: true; Writable: true

#### var timeZoneOffset

```cangjie
public var timeZoneOffset: Float32
```
功能： 当前文本时钟时区偏移量。
Type: Float32; Readable: true; Writable: true


### TextClockOptions

class TextClockOptions
```cangjie
public class TextClockOptions { public var timeZoneOffset: Float32 public var controller: TextClockController public init(timeZoneOffset!: Float32, controller!: TextClockController) }
```
功能： 通过文本显示当前系统时间的组件参数。

#### var controller

```cangjie
public var controller: TextClockController
```
功能： 绑定一个控制器，用来控制文本时钟的状态。
Type: TextClockController; Readable: true; Writable: true

#### var timeZoneOffset

```cangjie
public var timeZoneOffset: Float32
```
功能： 当前文本时钟时区偏移量。
Type: Float32; Readable: true; Writable: true



## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State
 var shadowoptions: Array<ShadowOptions> = [
 ShadowOptions(radius: 10.0, shadowType: ShadowType.BLUR, offsetX: 10.0, offsetY: 0.0, color: 0xffff0000,
 fill: false),
 ShadowOptions(radius: 10.0, shadowType: ShadowType.BLUR, offsetX: 20.0, offsetY: 0.0, color: 0xff000000,
 fill: false),
 ShadowOptions(radius: 10.0, shadowType: ShadowType.BLUR, offsetX: 30.0, offsetY: 0.0, color: 0xffc0c0c0,
 fill: false),
 ShadowOptions(radius: 10.0, shadowType: ShadowType.BLUR, offsetX: 40.0, offsetY: 0.0, color: 0xff00ff00,
 fill: false),
 ShadowOptions(radius: 10.0, shadowType: ShadowType.BLUR, offsetX: 100.0, offsetY: 0.0, color: 0xff0000ff,
 fill: false)
 ]
 public func build() {
 Column {
 TextClock().fontSize(50).textShadow(shadowoptions)
 }
 }
}
```
```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State
 var accumulateTime: Int64 = 0
 let controller = TextClockController()
 public func build() {
 Column {
 Text('Current milliseconds is ${this.accumulateTime}').fontSize(20).margin(10)
 // 以12小时制显示东八区的系统时间，精确到秒。
 TextClock(timeZoneOffset: -8.0, controller: this.controller)
 .format('aa hh:mm:ss')
 .onDateChange({
 value: Int64 => this.accumulateTime = value
 })
 .margin(20)
 .fontSize(30)
 Button("start TextClock").margin(bottom: 10).onClick {
 evt =>
 // 启动文本时钟
 this.controller.start()
 }
 Button("stop TextClock").onClick {
 evt =>
 // 停止文本时钟
 this.controller.stop()
 }
 }
 }
}
```
```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 let numericOption = DateTimeOptions(hour: "numeric")
 let digitOption = DateTimeOptions(hour: "2-digit")
 public func build() {
 Column {
 Row() {
 Text("24小时制去除前导0：").fontSize(20)
 TextClock().fontSize(20).format("HH:mm:ss").dateTimeOptions(numericOption)
 }
 Row() {
 Text("12小时制增加前导0：").fontSize(20).margin(10)
 TextClock().fontSize(20).format("aa hh:mm:ss").dateTimeOptions(digitOption)
 }
 }
 }
}
```

