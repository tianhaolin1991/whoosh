# ohos.account.appAccount（应用账号管理）

本模块提供应用账号信息的添加、删除、修改和查询基础能力，并支持应用间鉴权和分布式数据同步功能。

```cangjie
import kit.BasicServicesKit.*
```
## Functions

### public func createAppAccountManager(): AppAccountManager

```cangjie
public func createAppAccountManager(): AppAccountManager
```
功能： 创建应用账号管理器对象。

**Returns:**

| type | description |
| --- | --- |
| AppAccountManager | 应用账号管理器对象。 |

**Example:**

```cangjie
// index.cj

import kit.BasicServicesKit.*

let appAccountManager: AppAccountManager = createAppAccountManager()
```


## Classes

### AppAccountInfo

class AppAccountInfo
```cangjie
public class AppAccountInfo { public AppAccountInfo ( public var owner: String, public var name: String ) }
```
功能： 表示应用账号信息。

#### var owner

```cangjie
public var owner: String
```
功能： 应用账号所有者的包名。
Type: String; Readable: true; Writable: true

#### var name

```cangjie
public var name: String
```
功能： 应用账号的名称。
Type: String; Readable: true; Writable: true


### AppAccountManager

class AppAccountManager
```cangjie
public class AppAccountManager {}
```
功能： 应用账号管理器类。


### AuthCallback

class AuthCallback
```cangjie
public class AuthCallback { public AuthCallback( public let onResult : (code: Int32, result: ?AuthResult) -> Unit, public let onRequestRedirected : (request: Want) -> Unit, public let onRequestContinued! : Option<() -> Unit> ){} }
```
功能： 认证器回调类。

#### let onResult

```cangjie
public let onResult: (code: Int32, result: ?AuthResult) -> Unit
```
功能： 通知请求结果。
Type: ( code : Int32, result: ? AuthResult )->Unit; Readable: true; Writable: false

#### let onRequestRedirected

```cangjie
public let onRequestRedirected: (request: Want) -> Unit
```
功能： 通知请求被跳转。
Type: Want ->Unit; Readable: true; Writable: false

#### let onRequestContinued

```cangjie
public let onRequestContinued: Option<() -> Unit>
```
功能： 通知请求被继续处理。
Type: Option<()->Unit>; Readable: true; Writable: false


### AuthResult

class AuthResult
```cangjie
public class AuthResult { public AuthResult ( public var account!: ?AppAccountInfo = None, public var tokenInfo!: ?AuthTokenInfo = None ) }
```
功能： 表示认证结果信息。

#### var account

```cangjie
public var account: ?AppAccountInfo = None
```
功能： 令牌所属的账号信息，默认为空。
Type: ? AppAccountInfo; Readable: true; Writable: true

#### var tokenInfo

```cangjie
public var tokenInfo: ?AuthTokenInfo = None
```
功能： 令牌信息，默认为空。
Type: ? AuthTokenInfo; Readable: true; Writable: true


### AuthTokenInfo

class AuthTokenInfo
```cangjie
public class AuthTokenInfo { public AuthTokenInfo ( public var authType: String, public var token: String, public var account!: ?AppAccountInfo = None ) }
```
功能： 表示Auth令牌信息。

#### var authType

```cangjie
public var authType: String
```
功能： 令牌的鉴权类型。
Type: String; Readable: true; Writable: true

#### var token

```cangjie
public var token: String
```
功能： 令牌的取值。
Type: String; Readable: true; Writable: true

#### var account

```cangjie
public var account: ?AppAccountInfo = None
```
功能： 令牌所属的账号信息，默认为空。
Type: ? AppAccountInfo; Readable: true; Writable: true


### AuthenticatorInfo

class AuthenticatorInfo
```cangjie
public class AuthenticatorInfo{ public AuthenticatorInfo( public var owner: String, public var iconId: Int32, public var labelId: Int32 ) }
```
功能： 表示OAuth认证器信息。

#### var owner

```cangjie
public var owner: String
```
功能： 认证器的所有者的包名。
Type: String; Readable: true; Writable: true

#### var iconId

```cangjie
public var iconId: Int32
```
功能： 认证器的图标标识。
Type: Int32; Readable: true; Writable: true

#### var labelId

```cangjie
public var labelId: Int32
```
功能： 认证器的标签标识。
Type: Int32; Readable: true; Writable: true


### CreateAccountImplicitlyOptions

class CreateAccountImplicitlyOptions
```cangjie
public class CreateAccountImplicitlyOptions { public CreateAccountImplicitlyOptions ( public var requiredLabels!: ?Array<String>= None, public var authType!: ?String = None, public var parameters!: HashMap<String, AppAccountValueType>= HashMap<String, AppAccountValueType>() ) }
```
功能： 表示隐式创建账号的选项。

#### var requiredLabels

```cangjie
public var requiredLabels: ?Array<String>= None
```
功能： 所需的标签，默认为空。
Type: ?Array<String>; Readable: true; Writable: true

#### var authType

```cangjie
public var authType: ?String = None
```
功能： 鉴权类型，默认为空。
Type: ?String; Readable: true; Writable: true

#### var parameters

```cangjie
public var parameters: HashMap<String, AppAccountValueType>= HashMap<String, AppAccountValueType>()
```
功能： 自定义参数对象，默认为空。
Type: HashMap<String, AppAccountValueType >; Readable: true; Writable: true


### CreateAccountOptions

class CreateAccountOptions
```cangjie
public class CreateAccountOptions { public CreateAccountOptions ( public var customData!: ?HashMap<String, String> = None ) }
```
功能： 表示创建账号的选项。

#### var customData

```cangjie
public var customData: ?HashMap<String, String>= None
```
功能： 自定义数据，默认为空。
Type: ?HashMap<String, String>; Readable: true; Writable: true


### SelectAccountsOptions

class SelectAccountsOptions
```cangjie
public class SelectAccountsOptions { public SelectAccountsOptions ( public var allowedAccounts!: ?Array<AppAccountInfo>= None, public var allowedOwners!: ?Array<String>= None, public var requiredLabels!: ?Array<String>= None ) }
```
功能： 表示用于选择账号的选项。

#### var allowedAccounts

```cangjie
public var allowedAccounts: ?Array<AppAccountInfo>= None
```
功能： 允许的账号数组，默认为空。
Type: ?Array< AppAccountInfo >; Readable: true; Writable: true

#### var allowedOwners

```cangjie
public var allowedOwners: ?Array<String>= None
```
功能： 允许的账号所有者数组，默认为空。
Type: ?Array<String>; Readable: true; Writable: true

#### var requiredLabels

```cangjie
public var requiredLabels: ?Array<String>= None
```
功能： 认证器的标签标识，默认为空。
Type: ?Array<String>; Readable: true; Writable: true


### SetPropertiesOptions

class SetPropertiesOptions
```cangjie
public class SetPropertiesOptions { public SetPropertiesOptions ( public var properties!: HashMap<String, AppAccountValueType>= HashMap<String, AppAccountValueType>(), public var parameters!: HashMap<String, AppAccountValueType>= HashMap<String, AppAccountValueType>() ) }
```
功能： 表示用于设置属性的选项。

#### var parameters

```cangjie
public var parameters: HashMap<String, AppAccountValueType>= HashMap<String, AppAccountValueType>()
```
功能： 自定义参数对象，默认为空。
Type: HashMap<String, AppAccountValueType >; Readable: true; Writable: true

#### var properties

```cangjie
public var properties: HashMap<String, AppAccountValueType>= HashMap<String, AppAccountValueType>()
```
功能： 属性对象，默认为空。
Type: HashMap<String, AppAccountValueType >; Readable: true; Writable: true


### VerifyCredentialOptions

class VerifyCredentialOptions
```cangjie
public class VerifyCredentialOptions { public VerifyCredentialOptions ( public var credentialType!: String = "", public var credential!: String = "", public var parameters!: HashMap<String, AppAccountValueType>= HashMap<String, AppAccountValueType>() ) }
```
功能： 表示用于验证凭据的选项。

#### var credential

```cangjie
public var credential: String = ""
```
功能： 凭据取值，默认为空。
Type: String; Readable: true; Writable: true

#### var credentialType

```cangjie
public var credentialType: String = ""
```
功能： 凭据类型，默认为空。
Type: String; Readable: true; Writable: true

#### var parameters

```cangjie
public var parameters: HashMap<String, AppAccountValueType>= HashMap<String, AppAccountValueType>()
```
功能： 自定义参数对象，默认为空。
Type: HashMap<String, AppAccountValueType >; Readable: true; Writable: true



## Enums

### AppAccountValueType

enum AppAccountValueType
```cangjie
public enum AppAccountValueType { | INT(Int32) | FLOAT64(Float64) | STRING(String) | BOOL(Bool) | FD(Int32) | ARRSTRING(Array<String>) | ARRAYI32(Array<Int32>) | ARRAYI64(Array<Int64>) | ARRAYBOOL(Array<Bool>) | ARRAYF64(Array<Float64>) | ARRAYFD(Array<Int32>) | ... }
```
功能： 包含公共事件附加信息的类型取值。

#### ARRAYBOOL(Array<Bool>)

```cangjie
ARRAYBOOL(Array<Bool>)
```
功能： 表示Bool数组类型数据。

#### ARRAYF64(Array<Float64>)

```cangjie
ARRAYF64(Array<Float64>)
```
功能： 表示Int64数组类型数据。

#### ARRAYFD(Array<Int32>)

```cangjie
ARRAYFD(Array<Int32>)
```
功能： 表示文件描述符数组数据。

#### ARRAYI32(Array<Int32>)

```cangjie
ARRAYI32(Array<Int32>)
```
功能： 表示Int32数组类型数据。

#### ARRAYI64(Array<Int64>)

```cangjie
ARRAYI64(Array<Int64>)
```
功能： 表示Int64数组类型数据。

#### ARRSTRING(Array<String>)

```cangjie
ARRSTRING(Array<String>)
```
功能： 表示String数组类型数据。

#### BOOL(Bool)

```cangjie
BOOL(Bool)
```
功能： 表示Bool类型数据。

#### FD(Int32)

```cangjie
FD(Int32)
```
功能： 表示文件描述符数据。

#### FLOAT64(Float64)

```cangjie
FLOAT64(Float64)
```
功能： 表示Float64类型数据。

#### INT(Int32)

```cangjie
INT(Int32)
```
功能： 表示Int32类型数据。

#### STRING(String)

```cangjie
STRING(String)
```
功能： 表示String类型数据。


### Constants

enum Constants
```cangjie
public enum Constants { | ACTION_CREATE_ACCOUNT_IMPLICITLY | ACTION_AUTH | ACTION_VERIFY_CREDENTIAL | ACTION_SET_AUTHENTICATOR_PROPERTIES | KEY_NAME | KEY_OWNER | KEY_TOKEN | KEY_ACTION | KEY_AUTH_TYPE | KEY_SESSION_ID | KEY_CALLER_PID | KEY_CALLER_UID | KEY_CALLER_BUNDLE_NAME | KEY_REQUIRED_LABELS | KEY_BOOLEAN_RESULT | ... }
```
功能： 表示常量。

#### ACTION_AUTH

```cangjie
ACTION_AUTH
```
功能： 表示操作，鉴权。

#### ACTION_CREATE_ACCOUNT_IMPLICITLY

```cangjie
ACTION_CREATE_ACCOUNT_IMPLICITLY
```
功能： 表示操作，隐式创建账号。

#### ACTION_SET_AUTHENTICATOR_PROPERTIES

```cangjie
ACTION_SET_AUTHENTICATOR_PROPERTIES
```
功能： 表示操作，设置认证器属性。

#### ACTION_VERIFY_CREDENTIAL

```cangjie
ACTION_VERIFY_CREDENTIAL
```
功能： 表示操作，鉴权。

#### KEY_ACTION

```cangjie
KEY_ACTION
```
功能： 表示键名，操作。

#### KEY_AUTH_TYPE

```cangjie
KEY_AUTH_TYPE
```
功能： 表示键名，鉴权类型。

#### KEY_BOOLEAN_RESULT

```cangjie
KEY_BOOLEAN_RESULT
```
功能： 表示键名，布尔返回值。

#### KEY_CALLER_BUNDLE_NAME

```cangjie
KEY_CALLER_BUNDLE_NAME
```
功能： 表示键名，调用方包名。

#### KEY_CALLER_PID

```cangjie
KEY_CALLER_PID
```
功能： 表示键名，调用方PID。

#### KEY_CALLER_UID

```cangjie
KEY_CALLER_UID
```
功能： 表示键名，调用方PID。

#### KEY_NAME

```cangjie
KEY_NAME
```
功能： 表示操作，设置认证器属性。

#### KEY_OWNER

```cangjie
KEY_OWNER
```
功能： 表示键名，应用账号所有者的包名。

#### KEY_REQUIRED_LABELS

```cangjie
KEY_REQUIRED_LABELS
```
功能： 表示键名，必需的标签。

#### KEY_SESSION_ID

```cangjie
KEY_SESSION_ID
```
功能： 表示键名，会话标识。

#### KEY_TOKEN

```cangjie
KEY_TOKEN
```
功能： 表示键名，令牌。


### OnOffType

enum OnOffType
```cangjie
public enum OnOffType { | ACCOUNTCHANGE | ... }
```
功能： 表示事件回调类型。

#### ACCOUNTCHANGE

```cangjie
ACCOUNTCHANGE
```
功能： 表示事件回调类型。



