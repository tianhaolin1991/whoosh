# ohos.screenshot（屏幕截图）

本模块提供屏幕截图的能力。

```cangjie
import kit.ArkUI.*
```
## Functions

### public func capture(options!: CaptureOption = CaptureOption()): PixelMap

```cangjie
public func capture(options!: CaptureOption = CaptureOption()): PixelMap
```
功能： 获取屏幕全屏截图，此接口仅支持在平板和2in1设备上使用。与 pick 接口不同之处是可以通过设置不同的displayId截取不同屏幕的截图。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| CaptureOption | 否 | 命名参数。 截取图像的相关信息。可包含设备ID，即displayId。 此参数不填时，默认截取displayId为0的屏幕截图。 | options | CaptureOption() |

**Returns:**

| type | description |
| --- | --- |
| PixelMap | 返回一个PixelMap对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码如下表。

| code | description |
| --- | --- |
| 201 | ERROR: Failed to get default PixelMap. |
| 401 | ERROR: Failed to get default PixelMap. |
| 801 | ERROR: Failed to get default PixelMap. |
| 1400003 | ERROR: Failed to get default PixelMap. |


### public func pick(): PickInfo

```cangjie
public func pick(): PickInfo
```
功能： 获取屏幕截图。此接口仅可在2in1设备上使用。

**Returns:**

| type | description |
| --- | --- |
| PickInfo | 返回一个PickInfo对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码如下表。


## Classes

### CaptureOption

class CaptureOption
```cangjie
public class CaptureOption { public CaptureOption( public var displayId!: Int32 = 0 ) }
```
功能： 设置截取图像的信息。

#### var displayId

```cangjie
public var displayId: Int32 = 0
```
功能： 表示截取图像的显示设备 Display 的ID号，默认为0，该参数应为大于或等于0的整数，非整数会报参数错误。
Type: Int32; Readable: true; Writable: true


### PickInfo

class PickInfo
```cangjie
public class PickInfo { public PickInfo( public let pickRect: Rect, public let pixelMap: PixelMap ) }
```
功能： 截取图像的信息。

#### let pickRect

```cangjie
public let pickRect: Rect
```
功能： 表示截取图像的区域。
Type: Rect; Readable: true; Writable: false

#### let pixelMap

```cangjie
public let pixelMap: PixelMap
```
功能： 表示截取的图像PixelMap对象。
Type: PixelMap; Readable: true; Writable: false


### Rect

class Rect
```cangjie
public class Rect { public Rect( public var left: Int32, public var top: Int32, public var width: UInt32, public var height: UInt32 ) }
```
功能： 表示截取图像的区域。

#### var left

```cangjie
public var left: Int32
```
功能： 表示截取图像区域的左边界，单位为px。
Type: Int32; Readable: true; Writable: true

#### var top

```cangjie
public var top: Int32
```
功能： 表示截取图像区域的上边界，单位为px。
Type: Int32; Readable: true; Writable: true

#### var width

```cangjie
public var width: UInt32
```
功能： 表示截取图像区域的宽度，单位为px。
Type: UInt32; Readable: true; Writable: true

#### var height

```cangjie
public var height: UInt32
```
功能： 表示截取图像区域的高度，单位为px。
Type: UInt32; Readable: true; Writable: true



## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.ArkUI.*
import kit.ImageKit.*

func captureExample() {
 let captureOption: CaptureOption = CaptureOption(displayId: 0)
 try {
 let pixelMap: PixelMap = capture(options: captureOption)
 AppLog.info("Succeeded in saving screenshot. Pixel bytes number: ${pixelMap.getPixelBytesNumber()}")
 pixelMap.Release() // PixelMap使用完后及时释放内存
 } catch (exception: Exception) {
 AppLog.error("exception Failed to save screenshot. Code: ${exception.toString()}")
 }
}
```
```cangjie
package ohos_app_cangjie_entry
import kit.ArkUI.*

func pickExample() {
 try {
 let pickInfo: PickInfo = pick()
 AppLog.info(
 "Succeeded in saving screenshot. Pixel bytes number: ${pickInfo .pixelMap .getPixelBytesNumber()}")
 pickInfo
 .pixelMap
 .Release() // PixelMap使用完后及时释放内存
 } catch (exception: Exception) {
 AppLog.error("exception Failed to save screenshot. Code: ${exception.toString()}")
 }
}
```

