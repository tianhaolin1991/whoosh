# ohos.running_lock（Runninglock锁）

该模块主要提供RunningLock锁相关操作的接口，包括创建、查询、持锁、释放锁等操作。

```cangjie
import kit.BasicServicesKit.*
```
## Functions

### public func create(name: String, `type`: RunningLockType): RunningLock

```cangjie
public func create(name: String, `type`: RunningLockType): RunningLock
```
功能： 创建RunningLock锁。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 锁的名字。 | name | - |
| RunningLockType | 是 | 要创建的锁的类型。 | `type` | - |

**Returns:**

| type | description |
| --- | --- |
| RunningLock | 返回RunningLock锁对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 通用错误码 。

| code | description |
| --- | --- |
| 201 | If the permission is denied. |
| 401 | Parameter error. Possible causes: 1.Parameter verification failed. |


**Example:**

```cangjie
// index.cj

import kit.BasicServicesKit.*
import ohos.base.*

try {
 let ret = create("running_lock_test", RunningLockType.PROXIMITY_SCREEN_CONTROL)
 AppLog.info("test_runninglock_create success.")
} catch (e: Exception) {
 AppLog.error("test_runninglock_create failed, err: ${e.message.toString()}")
}
```

### public func isSupported(`type`: RunningLockType): Bool

```cangjie
public func isSupported(`type`: RunningLockType): Bool
```
功能： 查询系统是否支持该类型的锁。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| RunningLockType | 是 | 需要查询的锁的类型。 | `type` | - |

**Returns:**

| type | description |
| --- | --- |
| Bool | 返回true表示支持，返回false表示不支持。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 RunningLock锁错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 4900101 | Failed to connect to the service. |
| 401 | Parameter error. Possible causes: 1.Incorrect parameter types; 2.Parameter verification failed. |


**Example:**

```cangjie
// index.cj

import kit.BasicServicesKit.*
import ohos.base.*

try {
 let ret = isSupported(RunningLockType.PROXIMITY_SCREEN_CONTROL)
 AppLog.info("test_runninglock_isSupported is : ${ret}")
} catch (e: Exception) {
 AppLog.error("test_runninglock_isSupported failed, err: ${e.message.toString()}")
}
```


## Classes

### RunningLock

class RunningLock
```cangjie
public class RunningLock {}
```
功能： 阻止系统休眠的锁。



## Enums

### RunningLockType

enum RunningLockType
```cangjie
public enum RunningLockType <: ToString { | PROXIMITY_SCREEN_CONTROL | ... }
```
功能： RunningLock锁的类型。

#### PROXIMITY_SCREEN_CONTROL

```cangjie
PROXIMITY_SCREEN_CONTROL
```
功能： 接近光锁，使能接近光传感器，并根据传感器与障碍物的距离远近发起亮灭屏流程。



