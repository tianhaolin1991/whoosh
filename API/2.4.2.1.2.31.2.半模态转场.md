# 半模态转场

通过bindSheet属性为组件绑定半模态页面，在组件插入时可通过设置自定义或默认的内置高度确定半模态大小。

## Functions

### public func bindSheet(isShow: Bool, builder: () -> Unit, options!: SheetOptions = SheetOptions()): This

```cangjie
public func bindSheet(isShow: Bool, builder: () -> Unit, options!: SheetOptions = SheetOptions()): This
```
功能： 给组件绑定半模态页面，点击后显示模态页面。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 是否显示半模态页面。 | isShow | - |
| () -> Unit | 是 | 配置半模态页面内容。使用时结合 @Builder 使用。 | builder | - |
| SheetOptions | 否 | 命名参数。 配置半模态页面的可选属性。 | options | SheetOptions() |


## Classes

### BindOptions

class BindOptions
```cangjie
public class BindOptions { public init( backgroundColor!: Option<Color> = Option.None, onAppear!: Option<() -> Unit> = Option.None, onDisappear!: Option<() -> Unit> = Option.None, onWillAppear!: Option<() -> Unit> = Option.None, onWillDisappear!: Option<() -> Unit> = Option.None ) }
```
功能： 配置半模态页面的可选属性。


### DismissSheetAction

class DismissSheetAction
```cangjie
public class DismissSheetAction { public DismissSheetAction(reason: DismissReason) }
```
功能： 半模态页面关闭回调函数类型。


### SheetDismiss

class SheetDismiss
```cangjie
public class SheetDismiss { public SheetDismiss() }
```
功能： 控制半模态的关闭类型。


### SheetOptions

class SheetOptions
```cangjie
public class SheetOptions <: BindOptions { public init( backgroundColor!: Option<Color> = Color.WHITE, onAppear!: Option<() -> Unit> = Option.None, onDisappear!: Option<() -> Unit> = Option.None, onWillAppear!: Option<() -> Unit> = Option.None, onWillDisappear!: Option<() -> Unit> = Option.None, height!: Option<SheetSize> = Option.None, detents!: Option<Array<SheetSize>> = Option.None, preferType!: Option<SheetType> = Option.None, showClose!: Option<Bool> = Option.None, dragBar!: Option<Bool> = Option.None, blurStyle!: Option<BlurStyle> = Option.None, maskColor!: Option<Color> = Option.None, title!: Option<() -> Unit> = Option.None, enableOutsideInteractive!: Option<Bool> = Option.None, shouldDismiss!: Option<(SheetDismiss) -> Unit> = Option.None, onWillDismiss!: Option<(DismissSheetAction) -> Unit> = Option.None, onWillSpringBackWhenDismiss!: Option<(SpringBackAction) -> Unit> = Option.None, onHeightDidChange!: Option<(Float32) -> Unit> = Option.None, onDetentsDidChange!: Option<(Float32) -> Unit> = Option.None, onWidthDidChange!: Option<(Float32) -> Unit> = Option.None, onTypeDidChange!: Option<(Float32) -> Unit> = Option.None, borderWidth!: Option<Length> = 0.vp, borderColor!: Option<Color> = Color.BLACK, borderStyle!: Option<EdgeStyle> = EdgeStyle.SOILD, width!: Option<Length> = Option.None, shadow!: Option<ShadowOptions> = Option.None, mode!: Option<SheetMode> = SheetMode.OVERLAY, scrollSizeMode!: Option<ScrollSizeMode> = ScrollSizeMode.FOLLOW_DETENT ) }
```
功能： 配置半模态页面的可选属性，继承自 BindOptions 。


### SheetTitleOptions

class SheetTitleOptions
```cangjie
public class SheetTitleOptions { public init(title!: String, subtitle!: Option<String>) }
```
功能： 半模态面板的标题。


### SpringBackAction

class SpringBackAction
```cangjie
public class SpringBackAction { public SpringBackAction() }
```
功能： 控制半模态关闭前的回弹类型。



## Enums

### ScrollSizeMode

enum ScrollSizeMode
```cangjie
public enum ScrollSizeMode { | FOLLOW_DETENT | CONTINUOUS }
```
功能： 设置半模态面板滑动时，内容区域刷新时机。

#### FOLLOW_DETENT

```cangjie
FOLLOW_DETENT
```
功能： 设置半模态面板跟手滑动结束后更新内容显示区域。

#### CONTINUOUS

```cangjie
CONTINUOUS
```
功能： 设置半模态面板在滑动过程中持续更新内容显示区域。


### SheetMode

enum SheetMode
```cangjie
public enum SheetMode { | OVERLAY | EMBEDDED }
```
功能： 设置半模态页面的显示层级。

#### OVERLAY

```cangjie
OVERLAY
```
功能： 设置半模态面板在当前UIContext内顶层显示，在所有页面之上。和弹窗类组件显示在一个层级。

#### EMBEDDED

```cangjie
EMBEDDED
```
功能： 设置半模态面板在当前页面内的顶层显示。


### SheetSize

enum SheetSize
```cangjie
public enum SheetSize { | MEDIUM | LARGE | FIT_CONTENT }
```
功能： 设置半模态页面的切换高度档位。

#### MEDIUM

```cangjie
MEDIUM
```
功能： 指定半模态高度为屏幕高度一半。

#### LARGE

```cangjie
LARGE
```
功能： 指定半模态高度几乎为屏幕高度。

#### FIT_CONTENT

```cangjie
FIT_CONTENT
```
功能： 指定半模态高度为适应内容的高度。


### SheetType

enum SheetType
```cangjie
public enum SheetType { | BOTTOM | CENTER | POPUP }
```
功能： 设置半模态弹窗的样式。

#### BOTTOM

```cangjie
BOTTOM
```
功能： 底部弹窗。

#### CENTER

```cangjie
CENTER
```
功能： 居中弹窗。

#### POPUP

```cangjie
POPUP
```
功能： 跟手弹窗。跟手弹窗面板不支持跟手滑动，下滑面板不关闭。



## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State var isShow: Bool = false
 @State var isShow2: Bool = false
 public func onAppear() {
 AppLog.info("BindSheet onAppear.")
 }
 public func onDisappear() {
 AppLog.info("BindSheet onDisappear.")
 }
 @Builder
 public func myBuilder2() {
 Column() {
 Button("close modal 2")
 .margin(10)
 .fontSize(20)
 .onClick{
 this.isShow2 = false
 }
 }.width(100.percent)
 .height(100.percent)
 .justifyContent(FlexAlign.Center)
 }

 @Builder
 public func myBuilder() {
 Column() {
 Button("transition modal 2")
 .margin(10)
 .fontSize(20)
 .onClick({
 => this.isShow2 = true
 }).bindSheet(this.isShow2, myBuilder2)

 Button("close modal 1")
 .margin(10)
 .fontSize(20)
 .onClick({
 => this.isShow = false;
 })
 }
 .width(100.percent)
 .height(100.percent)
 .justifyContent(FlexAlign.Center)
 }
 func build() {
 Column {
 Button("transition modal 1")
 .onClick({
 => this.isShow = true
 })
 .fontSize(20)
 .margin(10)
 .bindSheet(this.isShow, myBuilder, options: SheetOptions(onDisappear: {=> this.isShow = false}) )
 }
 .justifyContent(FlexAlign.Center)
 .backgroundColor(Color.WHITE)
 .width(100.percent)
 .height(100.percent)
 }
}
```

