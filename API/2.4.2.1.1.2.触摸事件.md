# 触摸事件

当手指在组件上按下、滑动、抬起时触发。

## Functions

### public func onTouch(callback: (TouchEvent)->Unit): This

```cangjie
public func onTouch(callback: (TouchEvent)->Unit): This
```
功能： 手指触摸动作触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ( TouchEvent )->Unit | 是 | 回调函数，手指触摸动作触发该回调。 | callback | - |


## Classes

### TouchEvent

class TouchEvent
```cangjie
public class TouchEvent { public var isStopPropagation: Bool = false public TouchEvent( public var eventType: TouchType, public var touches: ArrayList<TouchObject>, public var changedTouches: ArrayList<TouchObject>, public var timestamp: Int64, public var target: EventTarget, public var source: SourceType ) }
```
功能： 继承于 BaseEvent 。非事件注入场景下，changedTouches是按屏幕显示刷新率重采样的点，touches是按器件刷新率报上来的点，changedTouches的数据可能会和touches里面的不相同。

#### var isStopPropagation

```cangjie
public var isStopPropagation: Bool = false
```
功能： 控制事件的传播。
Type: Bool; Readable: true; Writable: true

#### var eventType

```cangjie
public var eventType: TouchType
```
功能： 触摸事件的类型。
Type: TouchType; Readable: true; Writable: true

#### var touches

```cangjie
public var touches: ArrayList<TouchObject>
```
功能： 全部手指信息。
Type: ArrayList< TouchObject >; Readable: true; Writable: true

#### var changedTouches

```cangjie
public var changedTouches: ArrayList<TouchObject>
```
功能： 当前发生变化的手指信息。
Type: ArrayList< TouchObject >; Readable: true; Writable: true

#### var timestamp

```cangjie
public var timestamp: Int64
```
功能： 距离开机时间的时间戳，单位为毫秒。
Type: Int64; Readable: true; Writable: true

#### var target

```cangjie
public var target: EventTarget
```
功能： 被触摸元素对象。
Type: EventTarget; Readable: true; Writable: true

#### var source

```cangjie
public var source: SourceType
```
功能： 事件输入设备。
Type: SourceType; Readable: true; Writable: true


### TouchObject

class TouchObject
```cangjie
public class TouchObject { public TouchObject( public var touchType: TouchType, public var id: Int32, public var screenX: Float64, public var screenY: Float64, public var x: Float64, public var y: Float64 ) }
```
功能： 表示当前发生变化的手指信息类型。

#### var touchType

```cangjie
public var touchType: TouchType
```
功能： 触摸事件的类型。
Type: TouchType; Readable: true; Writable: true

#### var id

```cangjie
public var id: Int32
```
功能： 手指唯一标识符。
Type: Int32; Readable: true; Writable: true

#### var screenX

```cangjie
public var screenX: Float64
```
功能： 触摸点相对于设备屏幕左边沿的X坐标。
Type: Float64; Readable: true; Writable: true

#### var screenY

```cangjie
public var screenY: Float64
```
功能： 触摸点相对于设备屏幕上边沿的Y坐标。
Type: Float64; Readable: true; Writable: true

#### var x

```cangjie
public var x: Float64
```
功能： 触摸点相对于被触摸元素左边沿的X坐标。
Type: Float64; Readable: true; Writable: true

#### var y

```cangjie
public var y: Float64
```
功能： 触摸点相对于被触摸元素上边沿的Y坐标。
Type: Float64; Readable: true; Writable: true



## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView{
 @State var text: String = ""
 func build(): Unit {
 Column() {
 Button("Click").backgroundColor(0x2788D9)
 .onTouch({event =>
 this.text = """
 TouchType: ${event.eventType.toString()}
 timestamp: ${event.timestamp}
 Distance between touch point and touch element:
 x: ${event.touches[0].x}
 y: ${event.touches[0].y}
 Component localPos:(${event.target.area.position.x}, ${event.target.area.position.y})
 Component globalPos:(${event.target.area.globalPosition.x}, ${event.target.area.globalPosition.y})
 width: ${event.target.area.width}
 height: ${event.target.area.height}
 """
 AppLog.info(this.text)
 }).width(200.vp)

 Button("Click").backgroundColor(0x2788D9)
 .onTouch({event =>
 this.text = """
 TouchType: ${event.eventType.toString()}
 timestamp: ${event.timestamp}
 Distance between touch point and touch element:
 x: ${event.touches[0].x}
 y: ${event.touches[0].y}
 Component localPos:(${event.target.area.position.x}, ${event.target.area.position.y})
 Component globalPos:(${event.target.area.globalPosition.x}, ${event.target.area.globalPosition.y})
 width: ${event.target.area.width}
 height: ${event.target.area.height}
 """
 AppLog.info(this.text)
 }).width(200.px)
 Text(this.text).padding(15).width(100.percent)
 }
 }
}
```

