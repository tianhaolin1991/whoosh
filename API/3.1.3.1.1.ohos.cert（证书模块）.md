# ohos.cert（证书模块）

证书算法库提供证书相关API。其中，依赖加解密算法库框架基础算法能力的部分，详见 cryptoFramework 。

```cangjie
import kit.DeviceCertificateKit.*
```
## Functions

### public func buildX509CertChain(buildParams: CertChainBuildParameters): CertChainBuildResult

```cangjie
public func buildX509CertChain(buildParams: CertChainBuildParameters): CertChainBuildResult
```
功能： 表示使用CertChainBuildParameters创建X509证书链对象，并返回结果。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| CertChainBuildParameters | 构建证书链的参数对象。 | buildParams | 是 |

**Returns:**

| type | description |
| --- | --- |
| CertChainBuildResult | 表示X509证书链对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 证书错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |
| 19020001 | memory error. |
| 19020002 | runtime error. |
| 19030001 | crypto operation error. |
| 19030002 | the certificate signature verification failed. |
| 19030003 | the certificate has not taken effect. |
| 19030004 | the certificate has expired. |
| 19030005 | failed to obtain the certificate issuer. |
| 19030006 | the key cannot be used for signing a certificate. |
| 19030007 | the key cannot be used for digital signature. |


**Example:**

```cangjie
// index.cj

import kit.DeviceCertificateKit.*

let certPem = "test certPem data"
let caPem = "test caPem data"
let caCert = createX509Cert(EncodingBlob(caPem.toArray(), EncodingFormat.FORMAT_PEM))
let x509Cert = createX509Cert(EncodingBlob(certPem.toArray(), EncodingFormat.FORMAT_PEM))
let certCrlCollection = createCertCRLCollection([x509Cert], Option.None)

var anchor = X509TrustAnchor()
anchor.CACert = caCert
var certMatchParameters = X509CertMatchParameters()
certMatchParameters.validDate = "20240812080000Z"
var validationParameters = CertChainValidationParameters(trustAnchors: [anchor, anchor])
validationParameters.certCRLs = [certCrlCollection]
validationParameters.date = "20240812080000Z"
var param = CertChainBuildParameters(certMatchParameters, validationParameters)

let certChainBuildResult = buildX509CertChain(param)
```

### public func createCertCRLCollection(certs: Array<X509Cert>, crls: ?Array<X509CRL>): CertCRLCollection

```cangjie
public func createCertCRLCollection(certs: Array<X509Cert>, crls: ?Array<X509CRL>): CertCRLCollection
```
功能： 表示创建证书和证书吊销列表集合对象，并返回相应的结果。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| Array< X509Cert > | X509Cert数组。 | certs | 是 |
| ?Array< X509CRL > | X509CRL数组。 | crls | 是 |

**Returns:**

| type | description |
| --- | --- |
| CertCRLCollection | 表示证书和证书吊销列表集合对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 证书错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |
| 19020001 | memory error. |


**Example:**

```cangjie
// index.cj

import kit.DeviceCertificateKit.*

let certData = "test cert"
let crlData = "test crl"
let x509Cert = createX509Cert(EncodingBlob(certData.toArray(), EncodingFormat.FORMAT_PEM))
let x509Crl = createX509CRL(EncodingBlob(crlData.toArray(), EncodingFormat.FORMAT_PEM))
let collection = createCertCRLCollection([x509Cert], [x509Crl])
```

### public func createCertChainValidator(algorithm: String): CertChainValidator

```cangjie
public func createCertChainValidator(algorithm: String): CertChainValidator
```
功能： 表示创建证书链校验器对象。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| String | 表示证书链校验器算法。当前仅支持输入“PKIX”。 | algorithm | 是 |

**Returns:**

| type | description |
| --- | --- |
| CertChainValidator | 表示证书链校验器对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 证书错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |
| 801 | Capability not supported. |
| 19020001 | memory error. |
| 19020002 | runtime error. |
| 19030001 | crypto operation error. |


**Example:**

```cangjie
// index.cj

import kit.DeviceCertificateKit.*

let validator = createCertChainValidator("PKIX")
let bs: Array<UInt8> = [183, 4, 45, 45, 45, 45] //example data
let certChainData = CertChainData(bs, 2, EncodingFormat.FORMAT_PEM)
```

### public func createCertExtension(inStream: EncodingBlob): CertExtension

```cangjie
public func createCertExtension(inStream: EncodingBlob): CertExtension
```
功能： 表示创建证书扩展域段的对象。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| EncodingBlob | 表示证书扩展域段序列化数据。 | inStream | 是 |

**Returns:**

| type | description |
| --- | --- |
| CertExtension | 表示证书扩展域段对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 证书错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |
| 801 | Capability not supported. |
| 19020001 | memory error. |


**Example:**

```cangjie
// index.cj

import kit.DeviceCertificateKit.*

let extensionData: Array<UInt8> = [0x30, 0x40, 0x30, 0x0F, 0x06] //example data
let ext = createCertExtension(EncodingBlob(extensionData, EncodingFormat.FORMAT_DER))
```

### public func createTrustAnchorsWithKeyStore(keystore: Array<UInt8>, pwd: String): Array<X509TrustAnchor>

```cangjie
public func createTrustAnchorsWithKeyStore(keystore: Array<UInt8>, pwd: String): Array<X509TrustAnchor>
```
功能： 表示从P12文件中读取ca证书来构造 TrustAnchor 对象数组，并返回结果。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| Array<UInt8> | p12文件，DER格式。 | keystore | 是 |
| String | p12文件的密码。 | pwd | 是 |

**Returns:**

| type | description |
| --- | --- |
| Array< X509TrustAnchor > | 表示X509TrustAnchor对象数组。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 证书错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |
| 19020001 | memory error. |
| 19020002 | runtime error. |
| 19030001 | crypto operation error. |
| 19030002 | the certificate signature verification failed. |
| 19030003 | the certificate has not taken effect. |
| 19030004 | the certificate has expired. |
| 19030005 | failed to obtain the certificate issuer. |
| 19030006 | the key cannot be used for signing a certificate. |
| 19030007 | the key cannot be used for digital signature. |


**Example:**

```cangjie
// index.cj

import kit.DeviceCertificateKit.*

let p12Data: Array<UInt8> = [0x30, 0x82, 0x07, 0x5C, 0x02] //example data
let data: Array<X509TrustAnchor> = createTrustAnchorsWithKeyStore(p12Data, "123456")
```

### public func createX500DistinguishedName(nameStr: String): X500DistinguishedName

```cangjie
public func createX500DistinguishedName(nameStr: String): X500DistinguishedName
```
功能： 表示使用字符串格式的名称创建X500DistinguishedName对象，并返回结果。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| String | X509定义的String类型的Name字符串格式数据。 | nameStr | 是 |

**Returns:**

| type | description |
| --- | --- |
| X500DistinguishedName | 表示X509的可分辨对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 证书错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |
| 19020001 | memory error. |
| 19020002 | runtime error. |
| 19030001 | crypto operation error. |
| 19030002 | the certificate signature verification failed. |
| 19030003 | the certificate has not taken effect. |
| 19030004 | the certificate has expired. |
| 19030005 | failed to obtain the certificate issuer. |
| 19030006 | the key cannot be used for signing a certificate. |
| 19030007 | the key cannot be used for digital signature. |


**Example:**

```cangjie
// index.cj

import kit.DeviceCertificateKit.*

let nameStr = '/CN=John Doe/OU=IT Department/O=ACME Inc./L=San Francisco/ST=California/C=US/CN=ALN C/CN=XTS'
let dgName = createX500DistinguishedName(nameStr)
```

### public func createX500DistinguishedName(nameDer: Array<UInt8>): X500DistinguishedName

```cangjie
public func createX500DistinguishedName(nameDer: Array<UInt8>): X500DistinguishedName
```
功能： 表示使用DER格式的名称创建X500DistinguishedName对象，并返回结果。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| Array<UInt8> | X509定义的Array<UInt8>类型的DER格式数据。 | nameDer | 是 |

**Returns:**

| type | description |
| --- | --- |
| X500DistinguishedName | 表示X509的可分辨对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 证书错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |
| 19020001 | memory error. |
| 19020002 | runtime error. |
| 19030001 | crypto operation error. |
| 19030002 | the certificate signature verification failed. |
| 19030003 | the certificate has not taken effect. |
| 19030004 | the certificate has expired. |
| 19030005 | failed to obtain the certificate issuer. |
| 19030006 | the key cannot be used for signing a certificate. |
| 19030007 | the key cannot be used for digital signature. |


**Example:**

```cangjie
// index.cj

import kit.DeviceCertificateKit.*

let nameBlob: Array<UInt8> = [48, 41, 49, 11, 48, 9, 6, 3, 85, 4, 3, 12, 2, 67, 65, 49, 13, 48, 11, 6, 3, 85, 4, 10, 12, 4, 116, 101, 115, 116, 49, 11, 48, 9, 6, 3, 85, 4, 6, 19, 2, 67, 78]
let dgname = createX500DistinguishedName(nameBlob)
```

### public func createX509CRL(inStream: EncodingBlob): X509CRL

```cangjie
public func createX509CRL(inStream: EncodingBlob): X509CRL
```
功能： 表示创建X509证书吊销列表的对象。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| EncodingBlob | 表示证书吊销列表序列化数据。 | inStream | 是 |

**Returns:**

| type | description |
| --- | --- |
| X509CRL | 表示X509证书吊销列表的对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 证书错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |
| 801 | Capability not supported. |
| 19020001 | memory error. |


**Example:**

```cangjie
// index.cj

import kit.DeviceCertificateKit.*

let crlData = "example data"
let x509Crl = createX509CRL(EncodingBlob(crlData.toArray(), EncodingFormat.FORMAT_PEM))
```

### public func createX509Cert(inStream: EncodingBlob): X509Cert

```cangjie
public func createX509Cert(inStream: EncodingBlob): X509Cert
```
功能： 表示创建X509证书对象。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| EncodingBlob | X509证书序列化数据。 | inStream | 是 |

**Returns:**

| type | description |
| --- | --- |
| X509Cert | 表示X509证书对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 证书错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |
| 801 | Capability not supported. |
| 19020001 | memory error. |


**Example:**

```cangjie
// index.cj

import kit.DeviceCertificateKit.*

let crlData = "example data"
let x509Crl = createX509CRL(EncodingBlob(crlData.toArray(), EncodingFormat.FORMAT_PEM))
```

### public func createX509CertChain(inStream: EncodingBlob): X509CertChain

```cangjie
public func createX509CertChain(inStream: EncodingBlob): X509CertChain
```
功能： 表示创建X509证书链对象，并返回结果。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| EncodingBlob | X509证书序列化数据。 | inStream | 是 |

**Returns:**

| type | description |
| --- | --- |
| X509CertChain | 表示X509证书链对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 证书错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |
| 19020001 | memory error. |
| 19030001 | crypto operation error. |


**Example:**

```cangjie
// index.cj

import kit.DeviceCertificateKit.*

let certChainData = "test certChain data"
let x509CertChain = createX509CertChain(EncodingBlob(certChainData.toArray(), EncodingFormat.FORMAT_PEM))
```

### public func createX509CertChain(certs: Array<X509Cert>): X509CertChain

```cangjie
public func createX509CertChain(certs: Array<X509Cert>): X509CertChain
```
功能： 表示使用X509Cert数组方式创建X509证书链对象，并同步返回结果。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| Array< X509Cert > | X509证书对象数组。 | certs | 是 |

**Returns:**

| type | description |
| --- | --- |
| X509CertChain | 表示X509证书链对象。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 证书错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |
| 19020001 | memory error. |
| 19030001 | crypto operation error. |


**Example:**

```cangjie
// index.cj

import kit.DeviceCertificateKit.*

let certChainData1 = "test certChain data1"
let certChainData2 = "test certChain data2"
let certChainData3 = "test certChain data3"
let cert1 = createX509Cert(EncodingBlob(certChainData1.toArray(), EncodingFormat.FORMAT_PEM))
let cert2 = createX509Cert(EncodingBlob(certChainData2.toArray(), EncodingFormat.FORMAT_PEM))
let cert3 = createX509Cert(EncodingBlob(certChainData3.toArray(), EncodingFormat.FORMAT_PEM))
let x509CertChain = createX509CertChain([cert1, cert2, cert3])
```


## Classes

### CertCRLCollection

class CertCRLCollection
```cangjie
public class CertCRLCollection {}
```
功能： 表示证书和证书吊销列表集合。


### CertChainBuildParameters

class CertChainBuildParameters
```cangjie
public class CertChainBuildParameters { public CertChainBuildParameters( public var certMatchParameters: X509CertMatchParameters, public var validationParameters: CertChainValidationParameters, public var maxLength!: ?Int32 = Option.None ) }
```
功能： 用于指定证书链创建参数。

#### var certMatchParameters

```cangjie
public var certMatchParameters: X509CertMatchParameters
```
功能： 指定过滤条件。
Type: X509CertMatchParameters; Readable: true; Writable: true

#### var maxLength

```cangjie
public var maxLength: ?Int32 = Option.None
```
功能： 指定验证条件。
Type: ?Int32; Readable: true; Writable: true

#### var validationParameters

```cangjie
public var validationParameters: CertChainValidationParameters
```
功能： 指定最终证书链中CA证书的最大长度。
Type: CertChainValidationParameters; Readable: true; Writable: true


### CertChainBuildResult

class CertChainBuildResult
```cangjie
public class CertChainBuildResult {}
```
功能： 用于指定证书链创建结果。

#### let certChain

```cangjie
public let certChain: X509CertChain
```
功能： 生成的证书链对象。
Type: X509CertChain; Readable: true; Writable: false

#### let validationResult

```cangjie
public let validationResult: CertChainValidationResult
```
功能： 指定最终证书链的最大长度。
Type: CertChainValidationResult; Readable: true; Writable: false


### CertChainData

class CertChainData
```cangjie
public class CertChainData { public CertChainData( public var data: Array<UInt8>, public var count: UInt32, public var encodingFormat: UInt32 ) }
```
功能： 表示证书链数据，在证书链校验时，作为入参传入。

#### var count

```cangjie
public var count: UInt32
```
功能： 表示传入的数据中，包含的证书数量。
Type: UInt32; Readable: true; Writable: true

#### var data

```cangjie
public var data: Array<UInt8>
```
功能： 表示证书数据，按照长度(2字节)-数据的形式传入，如：08ABCDEFGH07ABCDEFG,第一本证书，前2个字节表示证书的长度为8字节，后面附加8字节的证书数据；第2本证书前2个字节表示证书的长度为7字节，后面附加7字节的证书数据。
Type: Array<UInt8>; Readable: true; Writable: true

#### var encodingFormat

```cangjie
public var encodingFormat: UInt32
```
功能： 表示证书编码格式。
Type: UInt32; Readable: true; Writable: true


### CertChainValidationParameters

class CertChainValidationParameters
```cangjie
public class CertChainValidationParameters { public CertChainValidationParameters( public let trustAnchors!: Array<X509TrustAnchor> ) public var date: ?String = Option.None public var certCRLs: ?Array<CertCRLCollection> = Option.None public var revocationCheckParam: ?RevocationCheckParameter = Option.None public var policy: ?ValidationPolicyType = Option.None public var sslHostname: ?String = Option.None public var keyUsage: ?Array<KeyUsageType> = Option.None }
```
功能： 表示证书链校验的参数。

#### var certCRLs

```cangjie
public var certCRLs: ?Array<CertCRLCollection> = Option.None
```
功能： 表示需要校验证书是否在证书吊销列表中。
Type: ?Array< CertCRLCollection >; Readable: true; Writable: true

#### var date

```cangjie
public var date: ?String = Option.None
```
功能： 表示需要校验证书的有效期。
Type: ?String; Readable: true; Writable: true

#### var keyUsage

```cangjie
public var keyUsage: ?Array<KeyUsageType> = Option.None
```
功能： 表示需要校验证书中的密钥用途。
Type: ?Array< KeyUsageType >; Readable: true; Writable: true

#### var policy

```cangjie
public var policy: ?ValidationPolicyType = Option.None
```
功能： 表示需要校验证书的策略类型。
Type: ? ValidationPolicyType; Readable: true; Writable: true

#### var revocationCheckParam

```cangjie
public var revocationCheckParam: ?RevocationCheckParameter = Option.None
```
功能： 表示需要在线校验证书吊销状态的参数对象。
Type: ? RevocationCheckParameter; Readable: true; Writable: true

#### var sslHostname

```cangjie
public var sslHostname: ?String = Option.None
```
功能： 表示需要校验证书中主机名，与policy配合使用。
Type: ?String; Readable: true; Writable: true

#### let trustAnchors

```cangjie
public let trustAnchors: Array<X509TrustAnchor>
```
功能： 表示信任锚列表。
Type: Array< X509TrustAnchor >; Readable: true; Writable: false


### CertChainValidationResult

class CertChainValidationResult
```cangjie
public class CertChainValidationResult {}
```
功能： 表示证书链校验的返回值。

#### let entityCert

```cangjie
public let entityCert: X509Cert
```
功能： 表示实体证书。
Type: X509Cert; Readable: true; Writable: false

#### let trustAnchor

```cangjie
public let trustAnchor: X509TrustAnchor
```
功能： 表示信任锚。
Type: X509TrustAnchor; Readable: true; Writable: false


### CertChainValidator

class CertChainValidator
```cangjie
public class CertChainValidator {}
```
功能： 表示证书链校验器对象。

#### let algorithm

```cangjie
public let algorithm: String
```
功能： 表示X509证书链校验器算法名称。
Type: String; Readable: true; Writable: false


### CertExtension

class CertExtension
```cangjie
public class CertExtension {}
```
功能： 证书扩展域段类。


### DataBlob

class DataBlob
```cangjie
public class DataBlob { public DataBlob( public var data: Array<UInt8>) }
```
功能： 表示buffer数组。

#### var data

```cangjie
public var data: Array<UInt8>
```
功能： 表示数据。
Type: Array<UInt8>; Readable: true; Writable: true


### EncodingBlob

class EncodingBlob
```cangjie
public class EncodingBlob { public EncodingBlob( public var data: Array<UInt8>, public var encodingFormat: UInt32 ) }
```
功能： 表示带编码格式的证书二进制数组。

#### var data

```cangjie
public var data: Array<UInt8>
```
功能： 表示传入的证书数据。
Type: Array<UInt8>; Readable: true; Writable: true

#### var encodingFormat

```cangjie
public var encodingFormat: UInt32
```
功能： 表示指明证书编码格式。
Type: UInt32; Readable: true; Writable: true


### GeneralName

class GeneralName
```cangjie
public class GeneralName { public GeneralName( public var `type`: GeneralNameType, public var name: ?Array<UInt8> ) }
```
功能： 用于表示证书主体信息对象。

#### var `type`

```cangjie
public var `type`: GeneralNameType
```
类型： GeneralNameType
Type: GeneralNameType; Readable: true; Writable: true

#### var name

```cangjie
public var name: ?Array<UInt8>
```
功能： 指定具体的证书主体DER格式内容。
Type: ?Array<UInt8>; Readable: true; Writable: true


### RevocationCheckParameter

class RevocationCheckParameter
```cangjie
public class RevocationCheckParameter { public var ocspRequestExtension: ?Array<Array<UInt8>> = Option.None public var ocspResponderURI: ?String = Option.None public var ocspResponderCert: ?X509Cert = Option.None public var ocspResponses: ?Array<UInt8> = Option.None public var crlDownloadURI: ?String = Option.None public var options: ?Array<RevocationCheckOptions> = Option.None public var ocspDigest: ?String = Option.None }
```
功能： 表示证书链校验证书吊销状态的参数。

#### var crlDownloadURI

```cangjie
public var crlDownloadURI: ?String = Option.None
```
功能： 表示用于CRL请求的备选下载地址。
Type: ?String; Readable: true; Writable: true

#### var ocspDigest

```cangjie
public var ocspDigest: ?String = Option.None
```
功能： 表示OCSP通信时创建证书ID使用的哈希算法。默认为SHA256，支持可配置MD5、SHA1、SHA224、SHA256、SHA384、SHA512算法。
Type: ?String; Readable: true; Writable: true

#### var ocspRequestExtension

```cangjie
public var ocspRequestExtension: ?Array<Array<UInt8>> = Option.None
```
功能： 表示发送OCSP请求的扩展字段。
Type: ?Array<Array<UInt8>>; Readable: true; Writable: true

#### var ocspResponderCert

```cangjie
public var ocspResponderCert: ?X509Cert = Option.None
```
功能： 表示用于OCSP响应的签名校验的签名证书。
Type: ? X509Cert; Readable: true; Writable: true

#### var ocspResponderURI

```cangjie
public var ocspResponderURI: ?String = Option.None
```
功能： 表示用于OCSP请求的备选服务器URL地址，支持HTTP/HTTPS，具体配置由与服务器协商决定。
Type: ?String; Readable: true; Writable: true

#### var ocspResponses

```cangjie
public var ocspResponses: ?Array<UInt8> = Option.None
```
功能： 表示用于OCSP服务器响应的备选数据。
Type: ?Array<UInt8>; Readable: true; Writable: true

#### var options

```cangjie
public var options: ?Array<RevocationCheckOptions> = Option.None
```
功能： 表示证书吊销状态查询的策略组合。
Type: ?Array< RevocationCheckOptions >; Readable: true; Writable: true


### X500DistinguishedName

class X500DistinguishedName
```cangjie
public class X500DistinguishedName { public func getName(): String public func getName(typeName: String): Array<String> public func getEncoded(): EncodingBlob }
```
功能： X509定义的Name类型的对象。


### X509CRL

class X509CRL
```cangjie
public class X509CRL <: ToString {}
```
功能： 表示被吊销证书列表对象。


### X509CRLEntry

class X509CRLEntry
```cangjie
public class X509CRLEntry <: ToString {}
```
功能： 表示被吊销证书对象。


### X509CRLMatchParameters

class X509CRLMatchParameters
```cangjie
public class X509CRLMatchParameters { public var issuer: ?Array<Array<UInt8>> = Option.None public var x509Cert: ?X509Cert = Option.None public var updateDateTime: ?String = Option.None public var maxCRL: ?BigInt = Option.None public var minCRL: ?BigInt = Option.None }
```
功能： 用于匹配证书吊销列表的过滤参数。如果参数中任一项都未指定，则匹配所有证书吊销列表。

#### var issuer

```cangjie
public var issuer: ?Array<Array<UInt8>> = Option.None
```
功能： 指定颁发者作为过滤条件，至少要匹配到其中一个issuer。
Type: ?Array<Array<UInt8>>; Readable: true; Writable: true

#### var maxCRL

```cangjie
public var maxCRL: ?BigInt = Option.None
```
功能： 指定CRL个数最大值。
Type: ?BigInt; Readable: true; Writable: true

#### var minCRL

```cangjie
public var minCRL: ?BigInt = Option.None
```
功能： 指定CRL个数最小值。
Type: ?BigInt; Readable: true; Writable: true

#### var updateDateTime

```cangjie
public var updateDateTime: ?String = Option.None
```
功能： 指定证书更新时间。
Type: ?String; Readable: true; Writable: true

#### var x509Cert

```cangjie
public var x509Cert: ?X509Cert = Option.None
```
功能： 指定具体的证书对象作为过滤条件，判断该证书是否在CRL列表中。
Type: ? X509Cert; Readable: true; Writable: true


### X509Cert

class X509Cert
```cangjie
public class X509Cert <: ToString {}
```
功能： 表示X509证书类。


### X509CertChain

class X509CertChain
```cangjie
public class X509CertChain <: ToString {}
```
功能： 表示X509证书链对象。


### X509CertMatchParameters

class X509CertMatchParameters
```cangjie
public class X509CertMatchParameters { public var subjectAlternativeNames: ?Array<GeneralName> = Option.None public var matchAllSubjectAltNames: ?Bool = Option.None public var authorityKeyIdentifier: ?Array<UInt8> = Option.None public var minPathLenConstraint: ?Int32 = Option.None public var x509Cert: ?X509Cert = Option.None public var validDate: ?String = Option.None public var issuer: ?Array<UInt8> = Option.None public var extendedKeyUsage: ?Array<String> = Option.None public var nameConstraints: ?Array<UInt8> = Option.None public var certPolicy: ?Array<String> = Option.None public var privateKeyValid: ?String = Option.None public var keyUsage: ?Array<Bool> = Option.None public var serialNumber: ?BigInt = Option.None public var subject: ?Array<UInt8> = Option.None public var subjectKeyIdentifier: ?Array<UInt8> = Option.None public var publicKey: ?DataBlob = Option.None public var publicKeyAlgID: ?String = Option.None }
```
功能： 用于匹配证书的过滤参数。如果参数中任一项都未指定，则匹配所有证书。

#### var authorityKeyIdentifier

```cangjie
public var authorityKeyIdentifier: ?Array<UInt8> = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?Array<UInt8>; Readable: true; Writable: true

#### var certPolicy

```cangjie
public var certPolicy: ?Array<String> = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?Array<String>; Readable: true; Writable: true

#### var extendedKeyUsage

```cangjie
public var extendedKeyUsage: ?Array<String> = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?Array<String>; Readable: true; Writable: true

#### var issuer

```cangjie
public var issuer: ?Array<UInt8> = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?Array<UInt8>; Readable: true; Writable: true

#### var keyUsage

```cangjie
public var keyUsage: ?Array<Bool> = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?Array<Bool>; Readable: true; Writable: true

#### var matchAllSubjectAltNames

```cangjie
public var matchAllSubjectAltNames: ?Bool = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?Bool; Readable: true; Writable: true

#### var minPathLenConstraint

```cangjie
public var minPathLenConstraint: ?Int32 = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?Int32; Readable: true; Writable: true

#### var nameConstraints

```cangjie
public var nameConstraints: ?Array<UInt8> = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?Array<UInt8>; Readable: true; Writable: true

#### var privateKeyValid

```cangjie
public var privateKeyValid: ?String = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?String; Readable: true; Writable: true

#### var publicKey

```cangjie
public var publicKey: ?DataBlob = Option.None
```
功能： 表示指定具体的证书对象。
Type: ? DataBlob; Readable: true; Writable: true

#### var publicKeyAlgID

```cangjie
public var publicKeyAlgID: ?String = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?String; Readable: true; Writable: true

#### var serialNumber

```cangjie
public var serialNumber: ?BigInt = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?BigInt; Readable: true; Writable: true

#### var subject

```cangjie
public var subject: ?Array<UInt8> = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?Array<UInt8>; Readable: true; Writable: true

#### var subjectAlternativeNames

```cangjie
public var subjectAlternativeNames: ?Array<GeneralName> = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?Array< GeneralName >; Readable: true; Writable: true

#### var subjectKeyIdentifier

```cangjie
public var subjectKeyIdentifier: ?Array<UInt8> = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?Array<UInt8>; Readable: true; Writable: true

#### var validDate

```cangjie
public var validDate: ?String = Option.None
```
功能： 表示指定具体的证书对象。
Type: ?String; Readable: true; Writable: true

#### var x509Cert

```cangjie
public var x509Cert: ?X509Cert = Option.None
```
功能： 表示指定具体的证书对象。
Type: ? X509Cert; Readable: true; Writable: true


### X509TrustAnchor

class X509TrustAnchor
```cangjie
public class X509TrustAnchor { public var CACert: ?X509Cert = Option.None public var CAPubKey: ?Array<UInt8> = Option.None public var CASubject: ?Array<UInt8> = Option.None public var nameConstraints: ?Array<UInt8> = Option.None public init() }
```
功能： 表示X509信任锚，用于校验证书链。使用信任锚中的证书或者公钥作为可信根，对证书链进行校验。

#### var CACert

```cangjie
public var CACert: ?X509Cert = Option.None
```
功能： 信任的CA证书。
Type: ? X509Cert; Readable: true; Writable: true

#### var CAPubKey

```cangjie
public var CAPubKey: ?Array<UInt8> = Option.None
```
功能： 信任的CA证书公钥，DER格式。
Type: ?Array<UInt8>; Readable: true; Writable: true

#### var CASubject

```cangjie
public var CASubject: ?Array<UInt8> = Option.None
```
功能： 信任的CA证书主题，DER格式。
Type: ?Array<UInt8>; Readable: true; Writable: true

#### var nameConstraints

```cangjie
public var nameConstraints: ?Array<UInt8> = Option.None
```
功能： 名称约束，DER格式。
Type: ?Array<UInt8>; Readable: true; Writable: true


### CertResult

class CertResult
```cangjie
public class CertResult { public static const SUCCESS = 0_i32 public static const INVALID_PARAMS = 401_i32 public static const NOT_SUPPORT = 801_i32 public static const ERR_OUT_OF_MEMORY = 19020001_i32 public static const ERR_RUNTIME_ERROR = 19020002_i32 public static const ERR_CRYPTO_OPERATION = 19030001_i32 public static const ERR_CERT_SIGNATURE_FAILURE = 19030002_i32 public static const ERR_CERT_NOT_YET_VALID = 19030003_i32 public static const ERR_CERT_HAS_EXPIRED = 19030004_i32 public static const ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY = 19030005_i32 public static const ERR_KEYUSAGE_NO_CERTSIGN = 19030006_i32 public static const ERR_KEYUSAGE_NO_DIGITAL_SIGNATURE = 19030007_i32 }
```
功能： 表示执行结果。


### EncodingFormat

class EncodingFormat
```cangjie
public class EncodingFormat { public static const FORMAT_DER = 0_u32 public static const FORMAT_PEM = 1_u32 public static const FORMAT_PKCS7 = 2_u32 }
```
功能： 表示签名、验签使用的摘要算法。



## Enums

### CertItemType

enum CertItemType
```cangjie
public enum CertItemType <: Equatable<CertItemType> & ToString { | CERT_ITEM_TYPE_TBS | CERT_ITEM_TYPE_PUBLIC_KEY | CERT_ITEM_TYPE_ISSUER_UNIQUE_ID | CERT_ITEM_TYPE_SUBJECT_UNIQUE_ID | CERT_ITEM_TYPE_EXTENSIONS | ... }
```
功能： 表示获取证书字段。

#### CERT_ITEM_TYPE_EXTENSIONS

```cangjie
CERT_ITEM_TYPE_EXTENSIONS
```
功能： 表示获取证书的扩展域信息。

#### CERT_ITEM_TYPE_ISSUER_UNIQUE_ID

```cangjie
CERT_ITEM_TYPE_ISSUER_UNIQUE_ID
```
功能： 表示获取证书的颁发者唯一编号。

#### CERT_ITEM_TYPE_PUBLIC_KEY

```cangjie
CERT_ITEM_TYPE_PUBLIC_KEY
```
功能： 表示获取证书的公钥信息。

#### CERT_ITEM_TYPE_SUBJECT_UNIQUE_ID

```cangjie
CERT_ITEM_TYPE_SUBJECT_UNIQUE_ID
```
功能： 表示获取证书的主体唯一编号。

#### CERT_ITEM_TYPE_TBS

```cangjie
CERT_ITEM_TYPE_TBS
```
功能： 表示获取证书的待签名信息。


### EncodingType

enum EncodingType
```cangjie
public enum EncodingType <: Equatable<EncodingType> & ToString { | ENCODING_UTF8 | ... }
```
功能： 表示获取X509证书主体名称编码格式。

#### ENCODING_UTF8

```cangjie
ENCODING_UTF8
```
功能： UTF8编码格式。


### ExtensionEntryType

enum ExtensionEntryType
```cangjie
public enum ExtensionEntryType <: Equatable<ExtensionEntryType> & ToString { | EXTENSION_ENTRY_TYPE_ENTRY | EXTENSION_ENTRY_TYPE_ENTRY_CRITICAL | EXTENSION_ENTRY_TYPE_ENTRY_VALUE | ... }
```
功能： 表示获取扩展域中对象类型。

#### EXTENSION_ENTRY_TYPE_ENTRY

```cangjie
EXTENSION_ENTRY_TYPE_ENTRY
```
功能： 表示获取整个对象。

#### EXTENSION_ENTRY_TYPE_ENTRY_CRITICAL

```cangjie
EXTENSION_ENTRY_TYPE_ENTRY_CRITICAL
```
功能： 表示获取对象的critical属性。

#### EXTENSION_ENTRY_TYPE_ENTRY_VALUE

```cangjie
EXTENSION_ENTRY_TYPE_ENTRY_VALUE
```
功能： 表示获取对象的数据。


### ExtensionOidType

enum ExtensionOidType
```cangjie
public enum ExtensionOidType <: Equatable<ExtensionOidType> & ToString { | EXTENSION_OID_TYPE_ALL | EXTENSION_OID_TYPE_CRITICAL | EXTENSION_OID_TYPE_UNCRITICAL | ... }
```
功能： 表示获取扩展域中对象标识符类型。

#### EXTENSION_OID_TYPE_ALL

```cangjie
EXTENSION_OID_TYPE_ALL
```
功能： 表示获取扩展域中所有的对象标识符。

#### EXTENSION_OID_TYPE_CRITICAL

```cangjie
EXTENSION_OID_TYPE_CRITICAL
```
功能： 表示获取扩展域中critical为true的对象标识符。

#### EXTENSION_OID_TYPE_UNCRITICAL

```cangjie
EXTENSION_OID_TYPE_UNCRITICAL
```
功能： 表示获取扩展域中critical为false的对象标识符。


### GeneralNameType

enum GeneralNameType
```cangjie
public enum GeneralNameType <: Equatable<GeneralNameType> & ToString { | GENERAL_NAME_TYPE_OTHER_NAME | GENERAL_NAME_TYPE_RFC822_NAME | GENERAL_NAME_TYPE_DNS_NAME | GENERAL_NAME_TYPE_X400_ADDRESS | GENERAL_NAME_TYPE_DIRECTORY_NAME | GENERAL_NAME_TYPE_EDI_PARTY_NAME | GENERAL_NAME_TYPE_UNIFORM_RESOURCE_ID | GENERAL_NAME_TYPE_IP_ADDRESS | GENERAL_NAME_TYPE_REGISTERED_ID | ... }
```
功能： 表示证书主体用途 。

#### GENERAL_NAME_TYPE_DIRECTORY_NAME

```cangjie
GENERAL_NAME_TYPE_DIRECTORY_NAME
```
功能： 表示一个目录名称。

#### GENERAL_NAME_TYPE_DNS_NAME

```cangjie
GENERAL_NAME_TYPE_DNS_NAME
```
功能： 表示一个DNS名称。

#### GENERAL_NAME_TYPE_EDI_PARTY_NAME

```cangjie
GENERAL_NAME_TYPE_EDI_PARTY_NAME
```
功能： 表示特定的EDI实体。

#### GENERAL_NAME_TYPE_IP_ADDRESS

```cangjie
GENERAL_NAME_TYPE_IP_ADDRESS
```
功能： 表示一个IP地址。

#### GENERAL_NAME_TYPE_OTHER_NAME

```cangjie
GENERAL_NAME_TYPE_OTHER_NAME
```
功能： 表示其他名称。

#### GENERAL_NAME_TYPE_REGISTERED_ID

```cangjie
GENERAL_NAME_TYPE_REGISTERED_ID
```
功能： 表示一个已注册的对象标识符。

#### GENERAL_NAME_TYPE_RFC822_NAME

```cangjie
GENERAL_NAME_TYPE_RFC822_NAME
```
功能： 表示电子邮件地址。

#### GENERAL_NAME_TYPE_UNIFORM_RESOURCE_ID

```cangjie
GENERAL_NAME_TYPE_UNIFORM_RESOURCE_ID
```
功能： 表示一个统一资源标识符。

#### GENERAL_NAME_TYPE_X400_ADDRESS

```cangjie
GENERAL_NAME_TYPE_X400_ADDRESS
```
功能： 表示X.400地址。


### KeyUsageType

enum KeyUsageType
```cangjie
public enum KeyUsageType <: Equatable<KeyUsageType> & ToString { | KEYUSAGE_DIGITAL_SIGNATURE | KEYUSAGE_NON_REPUDIATION | KEYUSAGE_KEY_ENCIPHERMENT | KEYUSAGE_DATA_ENCIPHERMENT | KEYUSAGE_KEY_AGREEMENT | KEYUSAGE_KEY_CERT_SIGN | KEYUSAGE_CRL_SIGN | KEYUSAGE_ENCIPHER_ONLY | KEYUSAGE_DECIPHER_ONLY | ... }
```
功能： 表示证书中密钥用途。

#### KEYUSAGE_CRL_SIGN

```cangjie
KEYUSAGE_CRL_SIGN
```
功能： 证书持有者可以使用证书中包含的私钥对证书吊销列表（CRL）进行签名。

#### KEYUSAGE_DATA_ENCIPHERMENT

```cangjie
KEYUSAGE_DATA_ENCIPHERMENT
```
功能： 证书持有者可以使用证书中包含的公钥进行数据加密操作。

#### KEYUSAGE_DECIPHER_ONLY

```cangjie
KEYUSAGE_DECIPHER_ONLY
```
功能： 证书持有者只能进行解密操作，不能进行加密操作。

#### KEYUSAGE_DIGITAL_SIGNATURE

```cangjie
KEYUSAGE_DIGITAL_SIGNATURE
```
功能： 证书持有者可以用证书中包含的私钥进行数字签名操作。

#### KEYUSAGE_ENCIPHER_ONLY

```cangjie
KEYUSAGE_ENCIPHER_ONLY
```
功能： 证书持有者只能进行加密操作，不能进行解密操作。

#### KEYUSAGE_KEY_AGREEMENT

```cangjie
KEYUSAGE_KEY_AGREEMENT
```
功能： 证书持有者可以使用证书中包含的私钥进行密钥协商操作。

#### KEYUSAGE_KEY_CERT_SIGN

```cangjie
KEYUSAGE_KEY_CERT_SIGN
```
功能： 证书持有者可以使用证书中包含的私钥对其他证书进行签名。

#### KEYUSAGE_KEY_ENCIPHERMENT

```cangjie
KEYUSAGE_KEY_ENCIPHERMENT
```
功能： 证书持有者可以使用证书中包含的公钥进行密钥加密操作。

#### KEYUSAGE_NON_REPUDIATION

```cangjie
KEYUSAGE_NON_REPUDIATION
```
功能： 证书持有者不可否认使用证书中包含的私钥进行的数字签名操作。


### RevocationCheckOptions

enum RevocationCheckOptions
```cangjie
public enum RevocationCheckOptions <: Equatable<RevocationCheckOptions> & ToString { | REVOCATION_CHECK_OPTION_PREFER_OCSP | REVOCATION_CHECK_OPTION_ACCESS_NETWORK | REVOCATION_CHECK_OPTION_FALLBACK_NO_PREFER | REVOCATION_CHECK_OPTION_FALLBACK_LOCAL | ... }
```
功能： 表示证书链在线校验证书吊销状态选项。

#### REVOCATION_CHECK_OPTION_ACCESS_NETWORK

```cangjie
REVOCATION_CHECK_OPTION_ACCESS_NETWORK
```
功能： 支持通过访问网络获取CRL或OCSP响应进行吊销状态的校验，默认为关闭。

#### REVOCATION_CHECK_OPTION_FALLBACK_LOCAL

```cangjie
REVOCATION_CHECK_OPTION_FALLBACK_LOCAL
```
功能： 当ACCESS_NETWORK选项打开时有效，如果在线获取CRL和OCSP响应都由于网络的原因导致无法校验证书状态，则采用本地设置的CRL和OCSP响应进行校验。

#### REVOCATION_CHECK_OPTION_FALLBACK_NO_PREFER

```cangjie
REVOCATION_CHECK_OPTION_FALLBACK_NO_PREFER
```
功能： 当ACCESS_NETWORK选项打开时有效，如果优选的校验方法由于网络原因导致无法校验证书状态，则采用备选的方案进行校验。

#### REVOCATION_CHECK_OPTION_PREFER_OCSP

```cangjie
REVOCATION_CHECK_OPTION_PREFER_OCSP
```
功能： 优先采用OCSP进行校验，默认采用CRL校验。


### ValidationPolicyType

enum ValidationPolicyType
```cangjie
public enum ValidationPolicyType <: Equatable<ValidationPolicyType> & ToString { | VALIDATION_POLICY_TYPE_X509 | VALIDATION_POLICY_TYPE_SSL | ... }
```
功能： 表示证书链在线校验策略。

#### VALIDATION_POLICY_TYPE_SSL

```cangjie
VALIDATION_POLICY_TYPE_SSL
```
功能： 需要校验证书中的sslHostname或dNSName。

#### VALIDATION_POLICY_TYPE_X509

```cangjie
VALIDATION_POLICY_TYPE_X509
```
功能： 默认值，不需要校验证书中的sslHostname或dNSName。



