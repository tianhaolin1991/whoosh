# 安全区域

安全区域是指页面的显示区域，默认不与系统设置的非安全区域比如状态栏、导航栏区域重叠，默认情况下开发者开发的界面都被布局在安全区域内。提供属性方法允许开发者设置组件绘制内容突破安全区域的限制，通过 expandSafeArea 属性支持组件不改变布局情况下扩展其绘制区域至安全区外，通过设置 setKeyboardAvoidMode 来配置虚拟键盘弹出时页面的避让模式。页面中有标题栏等文字不希望和非安全区重叠时，建议对组件设置expandSafeArea属性达到沉浸式效果，也可以直接通过窗口接口 setWindowLayoutFullScreen 设置沉浸式。

## Functions

### public func expandSafeArea(types!: [SafeAreaType.SYSTEM, SafeAreaType.CUTOUT, SafeAreaType.KEYBOARD], edges!: Array<SafeAreaEdge> =[SafeAreaEdge.TOP, SafeAreaEdge.BOTTOM, SafeAreaEdge.START, SafeAreaEdge.END]): This

```cangjie
public func expandSafeArea(types!: [SafeAreaType.SYSTEM, SafeAreaType.CUTOUT, SafeAreaType.KEYBOARD], edges!: Array<SafeAreaEdge> =[SafeAreaEdge.TOP, SafeAreaEdge.BOTTOM, SafeAreaEdge.START, SafeAreaEdge.END]): This
```
功能： 设置控制组件扩展其安全区域。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Array< SafeAreaType > | 否 | 命名参数。 配置扩展安全区域的类型。 未添加metadata配置项时，页面不避让挖孔, CUTOUT类型不生效。 | types | [SafeAreaType.SYSTEM, SafeAreaType.CUTOUT, SafeAreaType.KEYBOARD] |
| Array< SafeAreaEdge > | 否 | 命名参数。 配置扩展安全区域的方向。 扩展至所有非安全区域。 | edges | [SafeAreaEdge.TOP, SafeAreaEdge.BOTTOM, SafeAreaEdge.START, SafeAreaEdge.END] |

### public func setKeyboardAvoidMode(value: KeyboardAvoidMode): void

```cangjie
public func setKeyboardAvoidMode(value: KeyboardAvoidMode): void
```
功能： 控制虚拟键盘抬起时页面的避让模式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| KeyboardAvoidMode | 是 | 配置虚拟键盘抬起时页面的避让模式。 初始值：KeyboardAvoidMode.OFFSET，键盘抬起时默认页面避让模式为上抬模式。 | value | - |


## Enums

### KeyboardAvoidMode

enum KeyboardAvoidMode
```cangjie
public enum KeyboardAvoidMode { | OFFSET | RESIZE | OFFSET_WITH_CARET | RESIZE_WITH_CARET | NONE }
```
功能： 弹窗是否在拉起软键盘时进行自动避让。

#### OFFSET

```cangjie
OFFSET
```
功能： 上抬模式。

#### RESIZE

```cangjie
RESIZE
```
功能： 压缩模式。

#### OFFSET_WITH_CARET

```cangjie
OFFSET_WITH_CARET
```
功能： 上抬模式，输入框光标位置发生变化时候也会触发避让。

#### RESIZE_WITH_CARET

```cangjie
RESIZE_WITH_CARET
```
功能： 压缩模式，输入框光标位置发生变化时候也会触发避让。

#### NONE

```cangjie
NONE
```
功能： 不避让软键盘。


### SafeAreaType

enum SafeAreaType
```cangjie
public enum SafeAreaType { | SYSTEM | CUTOUT | KEYBOARD }
```
功能： 扩展安全区域的枚举类型。

#### SYSTEM

```cangjie
SYSTEM
```
功能： 系统默认非安全区域，包括状态栏、导航栏。

#### CUTOUT

```cangjie
CUTOUT
```
功能： 设备的非安全区域，例如刘海屏或挖孔屏区域。

#### KEYBOARD

```cangjie
KEYBOARD
```
功能： 软键盘区域。


### SafeAreaEdge

enum SafeAreaEdge
```cangjie
public enum SafeAreaEdge { | TOP | BOTTOM | START | END }
```
功能： 扩展安全区域的方向。

#### TOP

```cangjie
TOP
```
功能： 上方区域。

#### BOTTOM

```cangjie
BOTTOM
```
功能： 下方区域。

#### START

```cangjie
START
```
功能： 前部区域。

#### END

```cangjie
END
```
功能： 尾部区域。



## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.LocalizationKit.*

@Entry
@Component
class EntryView {
 let controller: TextInputController = TextInputController()
 func build() {
 Stack() {
 Column()
 .height(100.percent).width(100.percent)
 .backgroundImage(src: @r(app.media.background)).backgroundImageSize(ImageSize.Cover)
 .expandSafeArea(types: [SafeAreaType.SYSTEM, SafeAreaType.KEYBOARD], edges: [SafeAreaEdge.BOTTOM])
 Column() {
 Button("Set caretPosition 1")
 .onClick{
 this.controller.caretPosition(1)
 }
 TextInput(controller: this.controller)
 .placeholderFont(size: 14.px)
 .width(320).height(40).offset(x:0, y: 120)
 .fontSize(14)
 }.width(100.percent).alignItems(HorizontalAlign.Center)
 }
 }
}
```

