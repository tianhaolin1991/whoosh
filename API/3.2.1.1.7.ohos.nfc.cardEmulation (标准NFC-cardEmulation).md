# ohos.nfc.cardEmulation (标准NFC-cardEmulation)

本模块主要提供NFC卡模拟业务，包括判断支持哪种卡模拟类型，HCE卡模拟的业务实现等。

```cangjie
import kit.ConnectivityKit.*
```
## Functions

### public func hasHceCapability(): Bool

```cangjie
public func hasHceCapability(): Bool
```
功能： 判断设备是否支持HCE卡模拟功能。

**Returns:**

| type | description |
| --- | --- |
| Bool | true: 支持HCE，false: 不支持HCE。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 通用错误码 。

| code | description |
| --- | --- |
| 201 | Permission denied. |
| 801 | Capability not supported. |


**Example:**

```cangjie
// index.cj

import ohos.base.*
import kit.ConnectivityKit.*

let hasHceCap: Bool = hasHceCapability()
if (!hasHceCap) {
 AppLog.info("this device hasHceCapability false, ignore it.")
}
```

### public func isDefaultService(elementName: ElementName, `type`: CardType): Bool

```cangjie
public func isDefaultService(elementName: ElementName, `type`: CardType): Bool
```
功能： 判断指定的应用是否为指定业务类型的默认应用。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| ElementName | 所属应用声明NFC卡模拟能力的页面信息（至少包含bundleName、abilityName这两项的赋值），不可以为空。 | elementName | 是 |
| CardType | 卡模拟业务类型。目前只支持默认支付应用查询。 | `type` | 是 |

**Returns:**

| type | description |
| --- | --- |
| Bool | true: 是默认支付应用，false: 不是默认支付应用。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 通用错误码 。

| code | description |
| --- | --- |
| 201 | Permission denied. |
| 801 | Capability not supported. |


**Example:**

```cangjie
// index.cj

import kit.ConnectivityKit.*

// init elementName here, bundleName and abilityName are required.
let ele = ElementName("", "com.example.myapplication", "EntryAbility", "entry")

let isDefaultService: Bool = isDefaultService(ele, CardType.PAYMENT)
// do something according to the isDefaultService value
```


## Classes

### HceService

class HceService
```cangjie
public class HceService {}
```
功能： 提供HCE卡模拟的实现，主要包括接收对端读卡设备的APDU数据，并响应APDU数据到对端读卡设备。使用HCE相关接口前，必须先判断设备是否支持HCE卡模拟能力。



## Enums

### CardType

enum CardType
```cangjie
public enum CardType <: Equatable<CardType> & ToString { | PAYMENT | OTHER | ... }
```
功能： 定义卡模拟应用所使用的业务类型。

#### OTHER

```cangjie
OTHER
```
功能： 其他类型。

#### PAYMENT

```cangjie
PAYMENT
```
功能： 支付类型。


### NfcEventType

enum NfcEventType
```cangjie
public enum NfcEventType <: Equatable<NfcEventType> & ToString { | HceCmd | ... }
```
功能： 回调函数的事件类型。

#### HceCmd

```cangjie
HceCmd
```
功能： 接收到hce指令事件。



