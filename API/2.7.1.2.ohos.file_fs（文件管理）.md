# ohos.file_fs（文件管理）

该模块为基础文件操作API，提供基础文件操作能力，包括文件基本管理、文件目录管理、文件信息统计、文件流式读写等常用功能。

```cangjie
import kit.CoreFileKit.*
```
## Classes

### ConflictFileException

class ConflictFileException
```cangjie
public class ConflictFileException <: BusinessException { public let data: Array<ConflictFiles> }
```
功能： 异常类型，支持moveDir、copyDir使用。

#### let data

```cangjie
public let data: Array<ConflictFiles>
```
功能： 冲突文件信息。
Type: Array< ConflictFiles >; Readable: true; Writable: false


### CopyOptions

class CopyOptions
```cangjie
public class CopyOptions { public init(progressListener: ProgressListener, copySignal: TaskSignal) }
```
功能： 拷贝进度回调监听。

#### prop copySignal

```cangjie
public prop copySignal: TaskSignal
```
功能： 取消拷贝信号。
Type: TaskSignal; Readable: true; Writable: false

#### prop progressListener

```cangjie
public prop progressListener: ProgressListener
```
功能： 拷贝进度监听。
Type: ProgressListener; Readable: true; Writable: false


### File

class File
```cangjie
public class File {}
```
功能： 由open接口打开的File对象。

#### prop fd

```cangjie
public prop fd: Int32
```
功能： 打开的文件描述符。
Type: Int32; Readable: true; Writable: false

#### prop name

```cangjie
public prop name: String
```
功能： 文件名。
Type: String; Readable: true; Writable: false

#### prop path

```cangjie
public prop path: String
```
功能： 文件路径。
Type: String; Readable: true; Writable: false


### FileFs

class FileFs
```cangjie
public class FileFs {}
```
功能： 文件管理工具类，提供基础文件操作能力。


### ProgressListener

class ProgressListener
```cangjie
public class ProgressListener <: Callback1Argument<Progress> { public init(callback: (Progress) -> Unit) }
```
功能： 拷贝进度监听。


### RandomAccessFile

class RandomAccessFile
```cangjie
public class RandomAccessFile {}
```
功能： 随机读写文件流。在调用RandomAccessFile的方法前，需要先通过 createRandomAccessFile 方法来构建一个RandomAccessFile实例。

#### prop fd

```cangjie
public prop fd: Int32
```
功能： 打开的文件描述符。
Type: Int32; Readable: true; Writable: false

#### prop filePointer

```cangjie
public prop filePointer: Int64
```
功能： RandomAccessFile对象的偏置指针。
Type: Int64; Readable: true; Writable: false


### ReaderIterator

class ReaderIterator
```cangjie
public class ReaderIterator {}
```
功能： 文件读取迭代器。在调用ReaderIterator的方法前，需要先通过readLines方法来构建一个ReaderIterator实例。


### Stat

class Stat
```cangjie
public class Stat {}
```
功能： 文件具体信息。在调用Stat的方法前，需要先通过 FileFs.stat() 方法来构建一个Stat实例。

#### prop atime

```cangjie
public prop atime: Int64
```
功能： 上次访问该文件的时间，表示距1970年1月1日0时0分0秒的秒数。
Type: Int64; Readable: true; Writable: false

#### prop ctime

```cangjie
public prop ctime: Int64
```
功能： 最近改变文件状态的时间，表示距1970年1月1日0时0分0秒的秒数。
Type: Int64; Readable: true; Writable: false

#### prop gid

```cangjie
public prop gid: Int64
```
功能： 文件所有组的ID。
Type: Int64; Readable: true; Writable: false

#### prop ino

```cangjie
public prop ino: Int64
```
功能： 标识该文件。通常同设备上的不同文件的INO不同。
Type: Int64; Readable: true; Writable: false

#### prop mode

```cangjie
public prop mode: Int64
```
功能： 表示文件权限，各特征位的含义如下。
Type: Int64; Readable: true; Writable: false

#### prop mtime

```cangjie
public prop mtime: Int64
```
功能： 上次修改该文件的时间，表示距1970年1月1日0时0分0秒的秒数。
Type: Int64; Readable: true; Writable: false

#### prop size

```cangjie
public prop size: Int64
```
功能： 文件的大小，以字节为单位。仅对普通文件有效。
Type: Int64; Readable: true; Writable: false

#### prop uid

```cangjie
public prop uid: Int64
```
功能： 文件所有者的ID。
Type: Int64; Readable: true; Writable: false


### Stream

class Stream
```cangjie
public class Stream {}
```
功能： 文件流。在调用Stream的方法前，需要先通过 FileFs.createStream 方法或者 FileFs.fdopenStream 来构建一个Stream实例。


### TaskSignal

class TaskSignal
```cangjie
public class TaskSignal { public init() }
```
功能： 拷贝中断信号。


### WatchEventListener

class WatchEventListener
```cangjie
public class WatchEventListener <: Callback1Argument<WatchEvent> { public init(callback: (WatchEvent) -> Unit) }
```
功能： 事件监听类。继承 单参回调抽象类 实现，使用需要的回调能力初始化回调对象。


### WatchEvent

class WatchEvent
```cangjie
public class WatchEvent { WatchEvent( public let fileName: String, public let event: UInt32, public let cookie: UInt32 ) {} }
```
功能： 事件结构体。

#### let cookie

```cangjie
public let cookie: UInt32
```
功能： 绑定相关事件的cookie。当前仅支持事件IN_MOVED_FROM与IN_MOVED_TO，同一个文件的移动事件IN_MOVED_FROM和IN_MOVED_TO具有相同的cookie值。
Type: UInt32; Readable: true; Writable: false

#### let event

```cangjie
public let event: UInt32
```
功能： 监听变动的事件集，多个事件通过或(MagIc_StrINg)的方式进行集合。
Type: UInt32; Readable: true; Writable: false

#### let fileName

```cangjie
public let fileName: String
```
功能： 发生监听事件的文件名。
Type: String; Readable: true; Writable: false


### Watcher

class Watcher
```cangjie
public class Watcher <: RemoteDataLite {}
```
功能： 文件目录变化监听对象。由 createWatcher 接口获得。



## Structs

### ConflictFiles

struct ConflictFiles
```cangjie
public struct ConflictFiles { public ConflictFiles( public let srcFile: String, public let destFile: String ) }
```
功能： 冲突文件信息，支持copyDir及moveDir接口使用。


### Filter

struct Filter
```cangjie
public struct Filter { public Filter( public var suffix!: Array<String> = Array<String>(), public var displayName!: Array<String> = Array<String>(), public var mimeType!: Array<String> = Array<String>(), public var fileSizeOver!: ?Int64 = None, public var lastModifiedAfter!: ?Float64 = None, public var excludeMedia!: Bool = false ) }
```
功能： 文件过滤配置项类型，支持listFile接口使用。其中mimeType与excludeMedia过滤暂不支持。


### ListFileOptions

struct ListFileOptions
```cangjie
public struct ListFileOptions { public ListFileOptions( public let recursion!: Bool = false, public let listNum!: Int32 = 0, public let filter!: Filter = Filter() ) }
```
功能： 可选项类型，支持listFile接口使用。


### Options

struct Options
```cangjie
public struct Options { public Options(public var encoding!: String = "utf-8") }
```
功能： 可选项类型，支持readLines接口使用。


### Progress

struct Progress
```cangjie
public struct Progress { public let processedSize: UInt64 public let totalSize: UInt64 }
```
功能： 拷贝进度回调数据。


### ReadOptions

struct ReadOptions
```cangjie
public struct ReadOptions { public ReadOptions( public var length!: Option<UIntNative> = None, public var offset!: Option<Int64> = None ) }
```
功能： 可选项类型，支持read接口使用。


### ReadTextOptions

struct ReadTextOptions
```cangjie
public struct ReadTextOptions { public ReadTextOptions( public var length!: Option<Int64> = None, public var offset!: Int64 = 0, public var encoding!: String = "utf-8") }
```
功能： 可选项类型，支持readText接口使用。


### ReaderIteratorResult

struct ReaderIteratorResult
```cangjie
public struct ReaderIteratorResult {}
```
功能： 文件读取迭代器返回结果，支持ReaderIterator接口使用。


### WriteOptions

struct WriteOptions
```cangjie
public struct WriteOptions { public WriteOptions( public var length!: Option<UIntNative> = None, public var offset!: Option<Int64> = None, public var encoding!: String = "utf-8") }
```
功能： 可选项类型，支持write接口使用。



## Enums

### OpenMode

enum OpenMode
```cangjie
public enum OpenMode { | READ_ONLY | WRITE_ONLY | READ_WRITE | CREATE | TRUNC | APPEND | NONBLOCK | DIR | NOFOLLOW | SYNC | ... }
```
功能： open接口flags参数常量。文件打开标签。

#### APPEND

```cangjie
APPEND
```
功能： 以追加方式打开，后续写将追加到文件末尾。

#### CREATE

```cangjie
CREATE
```
功能： 若文件不存在，则创建文件。

#### DIR

```cangjie
DIR
```
功能： 如果path不指向目录，则出错。

#### NOFOLLOW

```cangjie
NOFOLLOW
```
功能： 如果path指向符号链接，则出错。

#### NONBLOCK

```cangjie
NONBLOCK
```
功能： 如果path指向FIFO、块特殊文件或字符特殊文件，则本次打开及后续IO进行非阻塞操作。

#### READ_ONLY

```cangjie
READ_ONLY
```
功能： 只读打开。

#### READ_WRITE

```cangjie
READ_WRITE
```
功能： 读写打开。

#### SYNC

```cangjie
SYNC
```
功能： 以同步IO的方式打开文件。

#### TRUNC

```cangjie
TRUNC
```
功能： 如果文件存在且以只写或读写的方式打开文件，则将其长度裁剪为零。

#### WRITE_ONLY

```cangjie
WRITE_ONLY
```
功能： 只写打开。

#### prop mode

```cangjie
public prop mode: Int64
```
功能： 获取文件打开标签类型对应具体数值。


### WhenceType

enum WhenceType
```cangjie
public enum WhenceType { | SEEK_SET | SEEK_CUR | SEEK_END | ... }
```
功能： 文件偏移指针相对偏移位置类型，支持lseek接口使用。

#### SEEK_CUR

```cangjie
SEEK_CUR
```
功能： 当前文件偏置指针位置处。

#### SEEK_END

```cangjie
SEEK_END
```
功能： 文件末尾位置处。

#### SEEK_SET

```cangjie
SEEK_SET
```
功能： 文件起始位置处。

#### prop whenceType

```cangjie
public prop whenceType: Int32
```
功能： 获取该文件偏移指针相对偏移位置类型对应具体数值。



