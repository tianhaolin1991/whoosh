# ohos.multimedia_media（媒体服务）

媒体服务模块为开发者提供一套简单且易于理解的接口，使得开发者能够方便接入系统并使用系统的媒体资源。

```cangjie
import kit.MediaKit.*
```
## Functions

### public func createAVImageGenerator(): AVImageGenerator

```cangjie
public func createAVImageGenerator(): AVImageGenerator
```
功能： 创建AVImageGenerator实例。

**Returns:**

| type | description |
| --- | --- |
| AVImageGenerator | 视频缩略图获取类。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 Media错误码 。

| code | description |
| --- | --- |
| 5400101 | No memory. |


**Example:**

```cangjie
// index.cj

import ohos.base.*
import kit.MediaKit.*

try {
 let generator = createAVImageGenerator()
} catch (e: BusinessException) {
 AppLog.error(e.message)
}
```

### public func createAVMetadataExtractor(): AVMetadataExtractor

```cangjie
public func createAVMetadataExtractor(): AVMetadataExtractor
```
功能： 创建AVMetadataExtractor实例。

**Returns:**

| type | description |
| --- | --- |
| AVMetadataExtractor | 元数据获取类。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 Media错误码 。

| code | description |
| --- | --- |
| 5400101 | No memory. |


**Example:**

```cangjie
// index.cj

import kit.MediaKit.*
import ohos.base.BusinessException

try {
 let extractor = createAVMetadataExtractor()
} catch (e: BusinessException) {
 AppLog.error(e.message)
}
```

### public func createAVPlayer(): AVPlayer

```cangjie
public func createAVPlayer(): AVPlayer
```
功能： 创建音视频播放器实例。

**Returns:**

| type | description |
| --- | --- |
| AVPlayer | 音视频播放器实例。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 Media错误码 。

| code | description |
| --- | --- |
| 5400101 | No memory. |


**Example:**

```cangjie
// index.cj

import ohos.base.*
import kit.MediaKit.*

try {
 let player = createAVPlayer()
} catch (e: BusinessException) {
 AppLog.error(e.message)
}
```

### public func createAVRecorder(): AVRecorder

```cangjie
public func createAVRecorder(): AVRecorder
```
功能： 创建音视频录制实例。

**Returns:**

| type | description |
| --- | --- |
| AVRecorder | AVRecorder实例。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 Media错误码 。

| code | description |
| --- | --- |
| 5400101 | No memory. |


### public func createAVScreenCaptureRecorder(): ?AVScreenCaptureRecorder

```cangjie
public func createAVScreenCaptureRecorder(): ?AVScreenCaptureRecorder
```
功能： 创建屏幕录制实例。重复创建AVScreenCaptureRecorder会抛异常，需要释放之后再创建。

**Returns:**

| type | description |
| --- | --- |
| ? AVScreenCaptureRecorder | 返回AVScreenCaptureRecorder实例，失败时返回none。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 Media错误码 。

| code | description |
| --- | --- |
| 5400101 | No memory. |


**Example:**

```cangjie
// index.cj

import kit.MediaKit.*
import ohos.base.BusinessException

try {
 let recorder = createAVScreenCaptureRecorder()
} catch (e: BusinessException) {
 AppLog.error(e.message)
}
```

### public func createMediaSourceWithUrl(url: String, headers!: HashMap<String, String> = HashMap<String, String>()): MediaSource

```cangjie
public func createMediaSourceWithUrl(url: String, headers!: HashMap<String, String> = HashMap<String, String>()): MediaSource
```
功能： 创建流媒体预下载媒体来源实例方法。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | - 流媒体预下载媒体来源url，支持的流媒体格式：HLS、HTTP-FLV、Dash、Https。 - 本地m3u8的fd路径。 | url | - |
| HashMap<String, String> | 否 | 命名参数。 支持流媒体预下载HttpHeader自定义。 | headers | HashMap<String, String>() |

**Returns:**

| type | description |
| --- | --- |
| MediaSource | 媒体数据信息。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 通用错误码 和 Media错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3.Parameter verification failed. |
| 5400101 | No memory. |


**Example:**

```cangjie
// index.cj

import kit.MediaKit.*
import std.collection.HashMap

let headers = HashMap<String, String>()
headers.add("User-Agent", "User-Agent-Value")
let mediaSource: MediaSource = createMediaSourceWithUrl("http://xxx", headers: headers)
```

### public func createSoundPool(maxStreams: Int32, audioRenderInfo: AudioRendererInfo): ?SoundPool

```cangjie
public func createSoundPool(maxStreams: Int32, audioRenderInfo: AudioRendererInfo): ?SoundPool
```
功能： 创建音频池实例。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Int32 | 是 | soundPool实例的最大播放的流数。 | maxStreams | - |
| AudioRendererInfo | 是 | 音频播放参数信息。其中audioRenderInfo中的参数usage取值为STREAM_USAGE_UNKNOWN，STREAM_USAGE_MUSIC，STREAM_USAGE_MOVIE，STREAM_USAGE_AUDIOBOOK时，SoundPool播放短音时为混音模式，不会打断其他音频播放。 | audioRenderInfo | - |

**Returns:**

| type | description |
| --- | --- |
| ? SoundPool | 返回SoundPool实例，失败时返回None。用于音频池实例的加载播放功能。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 Media错误码 。

| code | description |
| --- | --- |
| 5400101 | No memory. |


**Example:**

```cangjie
// index.cj

import kit.MediaKit.*
import kit.AudioKit.*

let audioRendererInfo: AudioRendererInfo = AudioRendererInfo(STREAM_USAGE_MUSIC, 0)
let soundpool = createSoundPool(5, audioRendererInfo)
```


## Classes

### AVDataSrcDescriptor

class AVDataSrcDescriptor
```cangjie
public class AVDataSrcDescriptor { public AVDataSrcDescriptor( public var fileSize: Int64, public var callback: Callback3ArgumentWithReturn<Array<UInt8>, UInt32, Int64, Int32> ) }
```
功能： 音视频文件资源描述，用于DataSource播放方式。使用场景：应用在未获取完整音视频资源时，允许用户创建播放实例并开始播放，达到提前播放的目的。

#### var callback

```cangjie
public var callback: Callback3ArgumentWithReturn<Array<UInt8>, UInt32, Int64, Int32>
```
功能： 用户设置的回调函数，用于填写数据。
Type: Callback3ArgumentWithReturn <Array<UInt8>, UInt32, Int64, Int32>; Readable: true; Writable: true

#### var fileSize

```cangjie
public var fileSize: Int64
```
功能： 待播放文件大小（字节），-1代表大小未知。如果fileSize设置为-1, 播放模式类似于直播，不能进行seek及setSpeed操作，不能设置loop属性，因此不能重新播放。
Type: Int64; Readable: true; Writable: true


### AVFileDescriptor

class AVFileDescriptor
```cangjie
public class AVFileDescriptor { public AVFileDescriptor( public var fd: Int32, public var offset: ?Int64, public var length: ?Int64 ) public init(fd: Int32) }
```
功能： 音视频文件资源描述，一种特殊资源的播放方式，使用场景：应用中的音频资源被连续存储在同一个文件中，需要根据偏移量和长度进行播放。

#### var fd

```cangjie
public var fd: Int32
```
功能： 资源句柄。
Type: Int32; Readable: true; Writable: true

#### var length

```cangjie
public var length: ?Int64
```
功能： 资源长度，默认值为文件中从偏移量开始的剩余字节，需要基于预置资源的信息输入，非法值会造成音视频资源解析错误。
Type: ?Int64; Readable: true; Writable: true

#### var offset

```cangjie
public var offset: ?Int64
```
功能： 资源偏移量，默认值为0，需要基于预置资源的信息输入，非法值会造成音视频资源解析错误。
Type: ?Int64; Readable: true; Writable: true


### AVImageGenerator

class AVImageGenerator
```cangjie
public class AVImageGenerator {}
```
功能： 视频缩略图获取类，用于从视频资源中获取缩略图。在调用AVImageGenerator的方法前，需要先通过 createAVImageGenerator() 构建一个AVImageGenerator实例。

#### prop fdSrc

```cangjie
public mut prop fdSrc: AVFileDescriptor
```
功能： 媒体文件描述，通过该属性设置数据源。
Type: AVFileDescriptor; Readable: true; Writable: true


### AVMetadata

class AVMetadata
```cangjie
public class AVMetadata {}
```
功能： 音视频元数据，包含各个元数据字段。在 AVRecorderConfig 中使用时未声明为当前版本只读的参数可以作为使用 AVRecorder 录制时的入参。

#### var album

```cangjie
public var album: ?String = None
```
功能： 专辑的标题。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var albumArtist

```cangjie
public var albumArtist: ?String = None
```
功能： 专辑的艺术家。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var artist

```cangjie
public var artist: ?String = None
```
功能： 媒体资源的艺术家。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var author

```cangjie
public var author: ?String = None
```
功能： 媒体资源的作者。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var composer

```cangjie
public var composer: ?String = None
```
功能： 媒体资源的作曲家。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var customInfo

```cangjie
public var customInfo: ?HashMap<String, String>= None
```
功能： 从moov.meta.list 获取的自定义参数键值映射。
Type: ?HashMap<String, String>; Readable: true; Writable: true

#### var dateTime

```cangjie
public var dateTime: ?String = None
```
功能： 媒体资源的创建时间。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var dateTimeFormat

```cangjie
public var dateTimeFormat: ?String = None
```
功能： 媒体资源的创建时间，按YYYY-MM-DD HH:mm:ss格式输出。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var duration

```cangjie
public var duration: ?String = None
```
功能： 媒体资源的时长。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var genre

```cangjie
public var genre: ?String = None
```
功能： 媒体资源的类型或体裁。
Type: ?String; Readable: true; Writable: true

#### var hasAudio

```cangjie
public var hasAudio: ?String = None
```
功能： 媒体资源是否包含音频。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var hasVideo

```cangjie
public var hasVideo: ?String = None
```
功能： 媒体资源是否包含视频。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var hdrType

```cangjie
public var hdrType: ?HdrType = None
```
功能： 媒体资源的HDR类型。当前版本为只读成员变量。
Type: ? HdrType; Readable: true; Writable: true

#### var location

```cangjie
public var location: ?Location = None
```
功能： 视频的地理位置信息。
Type: ? Location; Readable: true; Writable: true

#### var mimeType

```cangjie
public var mimeType: ?String = None
```
功能： 媒体资源的mime类型。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var sampleRate

```cangjie
public var sampleRate: ?String = None
```
功能： 音频的采样率，单位为赫兹（Hz）。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var title

```cangjie
public var title: ?String = None
```
功能： 媒体资源的标题。当前版本为只读成员变量。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var trackCount

```cangjie
public var trackCount: ?String = None
```
功能： 媒体资源的轨道数量。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var videoHeight

```cangjie
public var videoHeight: ?String = None
```
功能： 视频的高度，单位为像素。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true

#### var videoOrientation

```cangjie
public var videoOrientation: ?String = None
```
功能： 视频的旋转方向，单位为度（°）。
Type: ?String; Readable: true; Writable: true

#### var videoWidth

```cangjie
public var videoWidth: ?String = None
```
功能： 视频的宽度，单位为像素。当前版本为只读成员变量。
Type: ?String; Readable: true; Writable: true


### AVScreenCaptureRecordConfig

class AVScreenCaptureRecordConfig
```cangjie
public class AVScreenCaptureRecordConfig { public AVScreenCaptureRecordConfig( public var fd: Int32, public var frameWidth: Int32, public var frameHeight: Int32, public var videoBitrate!: Int32 = 10000000, public var audioSampleRate!: Int32 = 48000, public var audioChannelCount!: Int32 = 2, public var audioBitrate!: Int32 = 96000, public var preset!: AVScreenCaptureRecordPreset = AVScreenCaptureRecordPreset.SCREEN_RECORD_PRESET_H264_AAC_MP4 ) }
```
功能： 录屏参数配置。

#### var audioBitrate

```cangjie
public var audioBitrate: Int32 = 96000
```
功能： 录屏的音频比特率，内录的系统音和外录的麦克风都是用此比特率，默认96000。
Type: Int32; Readable: true; Writable: true

#### var audioChannelCount

```cangjie
public var audioChannelCount: Int32 = 2
```
功能： 录屏的音频通道数，内录的系统音和外录的麦克风都是用此通道数，默认2声道，仅支持设置1或2声道。
Type: Int32; Readable: true; Writable: true

#### var audioSampleRate

```cangjie
public var audioSampleRate: Int32 = 48000
```
功能： 录屏的音频采样率，内录的系统音和外录的麦克风都是用此采样率，默认48000，仅支持设置48000或16000。
Type: Int32; Readable: true; Writable: true

#### var fd

```cangjie
public var fd: Int32
```
功能： 录制输出的文件fd。
Type: Int32; Readable: true; Writable: true

#### var frameHeight

```cangjie
public var frameHeight: Int32
```
功能： 录屏的视频高度，默认屏幕高度，根据不同屏幕默认值不同，单位px。
Type: Int32; Readable: true; Writable: true

#### var frameWidth

```cangjie
public var frameWidth: Int32
```
功能： 录屏的视频宽度，默认屏幕宽度，根据不同屏幕默认值不同，单位px。
Type: Int32; Readable: true; Writable: true

#### var preset

```cangjie
public var preset: AVScreenCaptureRecordPreset = AVScreenCaptureRecordPreset.SCREEN_RECORD_PRESET_H264_AAC_MP4
```
功能： 录屏使用的编码和封装格式，默认SCREEN_RECORD_PRESET_H264_AAC_MP4格式。
Type: AVScreenCaptureRecordPreset; Readable: true; Writable: true

#### var videoBitrate

```cangjie
public var videoBitrate: Int32 = 10000000
```
功能： 录屏的视频比特率，默认10000000。
Type: Int32; Readable: true; Writable: true


### AVMetadataExtractor

class AVMetadataExtractor
```cangjie
public class AVMetadataExtractor {}
```
功能： 元数据获取类，用于从媒体资源中获取元数据。在调用AVMetadataExtractor的方法前，需要先通过 createAVMetadataExtractor() 构建一个AVMetadataExtractor实例。

#### prop dataSrc

```cangjie
public mut prop dataSrc: AVDataSrcDescriptor
```
功能： 流式媒体资源描述，通过该属性设置数据源。在获取元数据之前，必须设置数据源属性，只能设置fdSrc和dataSrc的其中一个。 当应用从远端获取音视频媒体文件，在应用未下载完整音视频资源时，可以设置dataSrc提前获取该资源的元数据。
Type: AVDataSrcDescriptor; Readable: true; Writable: true

#### prop fdSrc

```cangjie
public mut prop fdSrc: AVFileDescriptor
```
功能： 媒体文件描述，通过该属性设置数据源。在获取元数据之前，必须设置数据源属性，只能设置fdSrc和dataSrc的其中一个。
Type: AVFileDescriptor; Readable: true; Writable: true


### AVPlayer

class AVPlayer
```cangjie
public class AVPlayer {}
```
功能： 播放管理类，用于管理和播放媒体资源。在调用AVPlayer的方法前，需要先通过 createAVPlayer() 构建一个AVPlayer实例。

#### prop audioEffectMode

```cangjie
public mut prop audioEffectMode: AudioEffectMode
```
功能： 设置音频音效模式，默认值为EFFECT_DEFAULT，动态属性。audioRendererInfo的usage变动时会恢复为默认值，只允许在prepared/playing/paused/completed状态下设置。
Type: AudioEffectMode; Readable: true; Writable: true

#### prop audioInterruptMode

```cangjie
public mut prop audioInterruptMode: InterruptMode
```
功能： 音频焦点模型。
Type: InterruptMode; Readable: true; Writable: true

#### prop audioRendererInfo

```cangjie
public mut prop audioRendererInfo: AudioRendererInfo
```
功能： 设置音频渲染信息。若媒体源包含视频，则usage默认值为STREAM_USAGE_MOVIE，否则usage默认值为STREAM_USAGE_MUSIC。rendererFlags默认值为0。若默认usage不满足需求，则须主动配置 audio.AudioRendererInfo 。 只允许在 initialized 状态下设置。 在第一次调用 prepare() 之前设置，以便音频渲染器信息在之后生效。
Type: AudioRendererInfo; Readable: true; Writable: true

#### prop currentTime

```cangjie
public prop currentTime: Int32
```
功能： 音频的当前播放位置，单位为毫秒（ms）。
Type: Int32; Readable: true; Writable: false

#### prop dataSrc

```cangjie
public mut prop dataSrc: AVDataSrcDescriptor
```
功能： 流式媒体资源描述，只允许在idle状态下设置。
Type: AVDataSrcDescriptor; Readable: true; Writable: true

#### prop duration

```cangjie
public prop duration: Int32
```
功能： 视频时长，单位为毫秒（ms），可查询参数。 返回为(-1)表示无效值， prepared / playing / paused / completed 状态下有效。 直播场景默认返回(-1)。
Type: Int32; Readable: true; Writable: false

#### prop fdSrc

```cangjie
public mut prop fdSrc: AVFileDescriptor
```
功能： 媒体文件描述，只允许在 idle 状态下设置。
Type: AVFileDescriptor; Readable: true; Writable: true

#### prop height

```cangjie
public prop height: Int32
```
功能： 视频高，单位为像素（px），可查询参数。 返回为(0)表示无效值， prepared / playing / paused / completed 状态下有效。
Type: Int32; Readable: true; Writable: false

#### prop loop

```cangjie
public mut prop loop: Bool
```
功能： 视频循环播放属性，默认'false'，设置为'true'表示循环播放，动态属性。 只允许在 prepared / playing / paused / completed 状态下设置。 直播场景不支持loop设置。
Type: Bool; Readable: true; Writable: true

#### prop state

```cangjie
public prop state: AVPlayerState
```
功能： 音视频播放的状态，全状态有效，可查询参数。
Type: AVPlayerState; Readable: true; Writable: false

#### prop surfaceId

```cangjie
public mut prop surfaceId: String
```
功能： 视频窗口ID，默认无窗口。
Type: String; Readable: true; Writable: true

#### prop url

```cangjie
public mut prop url: String
```
功能： 媒体URL，只允许在 idle 状态下设置。
Type: String; Readable: true; Writable: true

#### prop videoScaleType

```cangjie
public mut prop videoScaleType: VideoScaleType
```
功能： 视频缩放模式，默认VIDEO_SCALE_TYPE_FIT，动态属性。 只允许在 prepared / playing / paused / completed 状态下设置。
Type: VideoScaleType; Readable: true; Writable: true

#### prop width

```cangjie
public prop width: Int32
```
功能： 视频宽，单位为像素（px），可查询参数。 返回为(0)表示无效值， prepared / playing / paused / completed 状态下有效。
Type: Int32; Readable: true; Writable: false


### AVRecorder

class AVRecorder
```cangjie
public class AVRecorder {}
```
功能： 音视频录制管理类，用于音视频媒体录制。在调用AVRecorder的方法前，需要先通过 createAVRecorder() 构建一个AVRecorder实例。

#### prop state

```cangjie
public prop state: AVRecorderState
```
功能： 音视频录制的状态。
Type: AVRecorderState; Readable: true; Writable: false


### AVRecorderConfig

class AVRecorderConfig
```cangjie
public class AVRecorderConfig { public AVRecorderConfig( public var profile: AVRecorderProfile, public var url: String, public var audioSourceType!: ?AudioSourceType = None, public var videoSourceType!: ?VideoSourceType = None, public var fileGenerationMode!: ?FileGenerationMode = None, public var metadata!: ?AVMetadata = None, public var maxDuration!: ?Int32 = None ) }
```
功能： 表示音视频录制的参数设置。

#### var audioSourceType

```cangjie
public var audioSourceType: ?AudioSourceType = None
```
功能： 选择录制的音频源类型。选择音频录制时必填。
Type: ? AudioSourceType; Readable: true; Writable: true

#### var fileGenerationMode

```cangjie
public var fileGenerationMode: ?FileGenerationMode = None
```
功能： 创建媒体文件的模式，配合 on(AVRECORDER_PHOTO_ASSET_AVAILABLE) 监听使用。
Type: ? FileGenerationMode; Readable: true; Writable: true

#### var maxDuration

```cangjie
public var maxDuration: ?Int32 = None
```
功能： 设置录制的最大时长，单位为秒，有效值取值范围[1, 2^31-1]，无效输入会重置为最大值。录制到达设定时长后，录制会自动停止，并通过stateChange回调录制状态， AVRecorderState = STOPPED， StateChangeReason = BACKGROUND。
Type: ?Int32; Readable: true; Writable: true

#### var metadata

```cangjie
public var metadata: ?AVMetadata = None
```
功能： 设置元数据信息。详情见 AVMetadata 。
Type: ? AVMetadata; Readable: true; Writable: true

#### var profile

```cangjie
public var profile: AVRecorderProfile
```
功能： 录制的profile，必要参数。
Type: AVRecorderProfile; Readable: true; Writable: true

#### var url

```cangjie
public var url: String
```
功能： 录制输出URL：fd://xx (fd number) 必要参数。
Type: String; Readable: true; Writable: true

#### var videoSourceType

```cangjie
public var videoSourceType: ?VideoSourceType = None
```
功能： 选择录制的视频源类型。选择视频录制时必填。
Type: ? VideoSourceType; Readable: true; Writable: true


### AVRecorderProfile

class AVRecorderProfile
```cangjie
public class AVRecorderProfile { public AVRecorderProfile( public var fileFormat: ContainerFormatType, public var audioBitrate!: ?Int32 = None, public var audioChannels!: ?Int32 = None, public var audioCodec!: ?CodecMimeType = None, public var audioSampleRate!: ?Int32 = None, public var videoBitrate!: ?Int32 = None, public var videoCodec!: ?CodecMimeType = None, public var videoFrameWidth!: ?Int32 = None, public var videoFrameHeight!: ?Int32 = None, public var videoFrameRate!: ?Int32 = None, public var isHdr!: ?Bool = false, public var enableTemporalScale!: ?Bool = false ) }
```
功能： 音视频录制的配置文件。

#### var audioBitrate

```cangjie
public var audioBitrate: ?Int32 = None
```
功能： 音频编码比特率，选择音频录制时必填。
Type: ?Int32; Readable: true; Writable: true

#### var audioChannels

```cangjie
public var audioChannels: ?Int32 = None
```
功能： 音频采集声道数，选择音频录制时必填。
Type: ?Int32; Readable: true; Writable: true

#### var audioCodec

```cangjie
public var audioCodec: ?CodecMimeType = None
```
功能： 音频编码格式，选择音频录制时必填。当前支持AUDIO_AAC，AUDIO_MP3，AUDIO_G711MU。
Type: ? CodecMimeType; Readable: true; Writable: true

#### var audioSampleRate

```cangjie
public var audioSampleRate: ?Int32 = None
```
功能： 音频采样率，选择音频录制时必填。
Type: ?Int32; Readable: true; Writable: true

#### var enableTemporalScale

```cangjie
public var enableTemporalScale: ?Bool = false
```
功能： 视频录制是否支持时域分层编码功能，选择视频录制时选填，enableTemporalScale默认为false。设置为true时，编码输出的码流中部分帧可以支持跳过不编码。
Type: ?Bool; Readable: true; Writable: true

#### var fileFormat

```cangjie
public var fileFormat: ContainerFormatType
```
功能： 文件的容器格式，必要参数。当前支持MP4、M4A、MP3、WAV封装格式，不支持在MP4封装格式下使用AUDIO_MP3编码格式。
Type: ContainerFormatType; Readable: true; Writable: true

#### var isHdr

```cangjie
public var isHdr: ?Bool = false
```
功能： HDR编码，选择视频录制时选填，isHdr默认为false，对应编码格式没有要求，isHdr为true时，对应的编码格式必须为video/hevc。
Type: ?Bool; Readable: true; Writable: true

#### var videoBitrate

```cangjie
public var videoBitrate: ?Int32 = None
```
功能： 视频编码比特率，选择视频录制时必填，支持范围[10000 - 100000000]。
Type: ?Int32; Readable: true; Writable: true

#### var videoCodec

```cangjie
public var videoCodec: ?CodecMimeType = None
```
功能： 视频编码格式，选择视频录制时必填。当前支持VIDEO_AVC。
Type: ? CodecMimeType; Readable: true; Writable: true

#### var videoFrameHeight

```cangjie
public var videoFrameHeight: ?Int32 = None
```
功能： 视频帧的高，选择视频录制时必填，支持范围[144 - 4096]。
Type: ?Int32; Readable: true; Writable: true

#### var videoFrameRate

```cangjie
public var videoFrameRate: ?Int32 = None
```
功能： 视频帧率，选择视频录制时必填，支持范围[1 - 60]。
Type: ?Int32; Readable: true; Writable: true

#### var videoFrameWidth

```cangjie
public var videoFrameWidth: ?Int32 = None
```
功能： 视频帧的宽，选择视频录制时必填，支持范围[176 - 4096]。
Type: ?Int32; Readable: true; Writable: true


### AVScreenCaptureRecorder

class AVScreenCaptureRecorder
```cangjie
public class AVScreenCaptureRecorder {}
```
功能： 屏幕录制管理类，用于进行屏幕录制。在调用AVScreenCaptureRecorder的方法前，需要先通过 createAVScreenCaptureRecorder() 创建一个AVScreenCaptureRecorder实例。


### EncoderInfo

class EncoderInfo
```cangjie
public class EncoderInfo { public let mimeType: String public let `type`: String public let bitRate: Range public let frameRate: ?Range public let width: ?Range public let height: ?Range public let channels: ?Range public let sampleRate: ?Array<Int32> }
```
功能： 编码器和规格参数。

#### let `type`

```cangjie
public let `type`: String
```
功能： 编码器类型，audio表示音频编码器，video表示视频编码器。
Type: String; Readable: true; Writable: false

#### let bitRate

```cangjie
public let bitRate: Range
```
功能： 比特率，包含该编码器的最大和最小值。
Type: Range; Readable: true; Writable: false

#### let channels

```cangjie
public let channels: ?Range
```
功能： 音频采集声道数，包含声道数的最大和最小值，仅音频编码器拥有。
Type: ? Range; Readable: true; Writable: false

#### let frameRate

```cangjie
public let frameRate: ?Range
```
功能： 视频帧率，包含帧率的最大和最小值，仅视频编码器拥有。
Type: ? Range; Readable: true; Writable: false

#### let height

```cangjie
public let height: ?Range
```
功能： 视频帧的高度，包含高度的最大和最小值，仅视频编码器拥有。
Type: ? Range; Readable: true; Writable: false

#### let mimeType

```cangjie
public let mimeType: String
```
功能： 编码器MIME类型名称。
Type: String; Readable: true; Writable: false

#### let sampleRate

```cangjie
public let sampleRate: ?Array<Int32>
```
功能： 音频采样率，包含所有可以使用的音频采样率值，仅音频编码器拥有。
Type: ?Array<Int32>; Readable: true; Writable: false

#### let width

```cangjie
public let width: ?Range
```
功能： 视频帧的宽度，包含宽度的最大和最小值，仅视频编码器拥有。
Type: ? Range; Readable: true; Writable: false


### Location

class Location
```cangjie
public class Location {}
```
功能： 视频录制的地理位置。

#### var latitude

```cangjie
public var latitude: Float64
```
功能： 地理位置的纬度。
Type: Float64; Readable: true; Writable: true

#### var longitude

```cangjie
public var longitude: Float64
```
功能： 地理位置的经度。
Type: Float64; Readable: true; Writable: true


### MediaSource

class MediaSource
```cangjie
public class MediaSource {}
```
功能： 媒体数据信息，通过 createMediaSourceWithUrl 获取。


### OnAVRecorderStateChangeHandler

class OnAVRecorderStateChangeHandler
```cangjie
public class OnAVRecorderStateChangeHandler { public var state: AVRecorderState public var stateChangeReason: StateChangeReason public init( state: AVRecorderState, reason: StateChangeReason ) }
```
功能： 状态机切换事件回调方法类。

#### var state

```cangjie
public var state: AVRecorderState
```
功能： 当前播放状态。
Type: AVRecorderState; Readable: true; Writable: true

#### var stateChangeReason

```cangjie
public var stateChangeReason: StateChangeReason
```
功能： 当前播放状态切换的原因。
Type: StateChangeReason; Readable: true; Writable: true


### PlaybackStrategy

class PlaybackStrategy
```cangjie
public class PlaybackStrategy { public PlaybackStrategy( public var preferredWidth!: UInt32 = 0, public var preferredHeight!: UInt32 = 0, public var preferredBufferDuration!: UInt32 = 0, public var preferredHdr!: Bool = false, public var mutedMediaType!: ?MediaType = None, // will pass 3 to C public var preferredAudioLanguage!: String = "", public var preferredSubtitleLanguage!: String = "" ) }
```
功能： 播放策略。

#### var mutedMediaType

```cangjie
public var mutedMediaType: ?MediaType = None
```
功能： 静音播放的媒体类型，仅支持设置MediaType.MEDIA_TYPE_AUD。
Type: ? MediaType; Readable: true; Writable: true

#### var preferredAudioLanguage

```cangjie
public var preferredAudioLanguage: String = ""
```
功能： 播放策略首选音轨语言。dash场景下应用可按需设置。非dash场景暂不支持，建议缺省。
Type: String; Readable: true; Writable: true

#### var preferredBufferDuration

```cangjie
public var preferredBufferDuration: UInt32 = 0
```
功能： 播放策略首选缓冲持续时间，单位s，取值范围1-20。
Type: UInt32; Readable: true; Writable: true

#### var preferredHdr

```cangjie
public var preferredHdr: Bool = false
```
功能： 播放策略，true是hdr，false非hdr，默认非hdr。
Type: Bool; Readable: true; Writable: true

#### var preferredHeight

```cangjie
public var preferredHeight: UInt32 = 0
```
功能： 播放策略首选高度。
Type: UInt32; Readable: true; Writable: true

#### var preferredSubtitleLanguage

```cangjie
public var preferredSubtitleLanguage: String = ""
```
功能： 播放策略首选字幕语言。dash场景下应用可按需设置。非dash场景暂不支持，建议缺省。
Type: String; Readable: true; Writable: true

#### var preferredWidth

```cangjie
public var preferredWidth: UInt32 = 0
```
功能： 播放策略首选宽度。
Type: UInt32; Readable: true; Writable: true


### Range

class Range
```cangjie
public class Range { public Range( public let min: Int32, public let max: Int32 ) }
```
功能： 表示一个类型的范围。

#### let max

```cangjie
public let max: Int32
```
功能： 范围的最大值。
Type: Int32; Readable: true; Writable: false

#### let min

```cangjie
public let min: Int32
```
功能： 范围的最小值。
Type: Int32; Readable: true; Writable: false


### SoundPool

class SoundPool
```cangjie
public class SoundPool {}
```
功能： 音频池提供了系统声音的加载、播放、音量设置、循环设置、停止播放、资源卸载等功能, 在调用SoundPool的接口前，需要先通过 createSoundPool 创建实例。


### SubtitleInfo

class SubtitleInfo
```cangjie
public class SubtitleInfo <: Equatable<SubtitleInfo> & ToString { public SubtitleInfo ( public var duration!: Int32 = -1, public var startTime!: Int32 = -1, public var text!: String = "" ) }
```
功能： 外挂字幕信息，使用场景：订阅外挂字幕事件，回调返回外挂字幕详细信息。

#### var duration

```cangjie
public var duration: Int32 = - 1
```
功能： 显示当前字幕文本的持续时间（单位：毫秒）。
Type: Int32; Readable: true; Writable: true

#### var startTime

```cangjie
public var startTime: Int32 = - 1
```
功能： 显示当前字幕文本的开始时间（单位：毫秒）。
Type: Int32; Readable: true; Writable: true

#### var text

```cangjie
public var text: String = ""
```
功能： 字幕文本信息。
Type: String; Readable: true; Writable: true



## Structs

### MediaDescriptionKey

struct MediaDescriptionKey
```cangjie
public struct MediaDescriptionKey { public static const MD_KEY_TRACK_INDEX: String = "track_index" public static const MD_KEY_TRACK_TYPE: String = "track_type" public static const MD_KEY_CODEC_MIME: String = "codec_mime" public static const MD_KEY_DURATION: String = "duration" public static const MD_KEY_BITRATE: String = "bitrate" public static const MD_KEY_WIDTH: String = "width" public static const MD_KEY_HEIGHT: String = "height" public static const MD_KEY_FRAME_RATE: String = "frame_rate" public static const MD_KEY_AUD_CHANNEL_COUNT: String = "channel_count" public static const MD_KEY_AUD_SAMPLE_RATE: String = "sample_rate" public static const MD_KEY_AUD_SAMPLE_DEPTH: String = "sample_depth" public static const MD_KEY_LANGUAGE: String = "language" public static const MD_KEY_TRACK_NAME: String = "track_name" public static const MD_KEY_HDR_TYPE: String = "hdr_type" }
```
功能： 媒体信息描述。


### PixelMapParams

struct PixelMapParams
```cangjie
public struct PixelMapParams { public PixelMapParams( public var width: Int32, public var height: Int32 ) }
```
功能： 获取视频缩略图时，输出缩略图的格式参数。


### PlayParameters

struct PlayParameters
```cangjie
public struct PlayParameters { public PlayParameters( public var loop!: Int32 = 0, public var rate!: AudioRendererRate = RENDER_RATE_NORMAL, public var leftVolume!: Float32 = 1.0, public var rightVolume!: Float32 = 1.0, public var priority!: Int32 = 0 ) }
```
功能： 表示音频池播放参数设置。



## Enums

### AVImageQueryOptions

enum AVImageQueryOptions
```cangjie
public enum AVImageQueryOptions <: Equatable<AVImageQueryOptions> & ToString { | AV_IMAGE_QUERY_NEXT_SYNC | AV_IMAGE_QUERY_PREVIOUS_SYNC | AV_IMAGE_QUERY_CLOSEST_SYNC | AV_IMAGE_QUERY_CLOSEST | ... }
```
功能： 需要获取的缩略图时间点与视频帧的对应关系。 在获取视频缩略图时，传入的时间点与实际取得的视频帧所在时间点不一定相等，需要指定传入的时间点与实际取得的视频帧的时间关系。

#### AV_IMAGE_QUERY_CLOSEST

```cangjie
AV_IMAGE_QUERY_CLOSEST
```
功能： 表示选取离传入时间点最近的帧，该帧不一定是关键帧。

#### AV_IMAGE_QUERY_CLOSEST_SYNC

```cangjie
AV_IMAGE_QUERY_CLOSEST_SYNC
```
功能： 表示选取离传入时间点最近的关键帧。

#### AV_IMAGE_QUERY_NEXT_SYNC

```cangjie
AV_IMAGE_QUERY_NEXT_SYNC
```
功能： 表示选取传入时间点或之后的关键帧。

#### AV_IMAGE_QUERY_PREVIOUS_SYNC

```cangjie
AV_IMAGE_QUERY_PREVIOUS_SYNC
```
功能： 表示选取传入时间点或之前的关键帧。


### AVPlayerCallbackType

enum AVPlayerCallbackType
```cangjie
public enum AVPlayerCallbackType <: ToString { | StateChange | AVError | SeekDone | SpeedDone | BitrateDone | AvailableBitrates | VolumeChange | EndOfStream | TimeUpdate | DurationUpdate | BufferingUpdate | StartRenderFrame | VideoSizeChange | AudioInterrupt | AudioOutputDeviceChangeWithInfo | SubtitleUpdate | TrackChange | TrackInfoUpdate | AmplitudeUpdate | ... }
```
功能： 回调事件。

#### AVError

```cangjie
AVError
```
功能： 错误事件。

#### AmplitudeUpdate

```cangjie
AmplitudeUpdate
```
功能： 订阅音频最大电平值。

#### AudioInterrupt

```cangjie
AudioInterrupt
```
功能： 音频焦点变化事件。

#### AudioOutputDeviceChangeWithInfo

```cangjie
AudioOutputDeviceChangeWithInfo
```
功能： 音频流输出设备变化事件。

#### AvailableBitrates

```cangjie
AvailableBitrates
```
功能： HLS/DASH协议网络流可用的比特率列表。

#### BitrateDone

```cangjie
BitrateDone
```
功能： setBitrate生效的事件。

#### BufferingUpdate

```cangjie
BufferingUpdate
```
功能： 音视频缓存更新事件。

#### DurationUpdate

```cangjie
DurationUpdate
```
功能： 资源播放资源的时长。

#### EndOfStream

```cangjie
EndOfStream
```
功能： 资源播放至结尾的事件。

#### SeekDone

```cangjie
SeekDone
```
功能： seek生效的事件。

#### SpeedDone

```cangjie
SpeedDone
```
功能： setSpeed生效的事件。

#### StartRenderFrame

```cangjie
StartRenderFrame
```
功能： 视频播放开始首帧渲染的更新事件。

#### StateChange

```cangjie
StateChange
```
功能： 播放状态机AVPlayerState切换的事件。

#### SubtitleUpdate

```cangjie
SubtitleUpdate
```
功能： 获取外挂字幕的事件。

#### TimeUpdate

```cangjie
TimeUpdate
```
功能： 资源播放当前时间。

#### TrackChange

```cangjie
TrackChange
```
功能： 获取轨道变更的事件。

#### TrackInfoUpdate

```cangjie
TrackInfoUpdate
```
功能： 轨道信息更新的事件。

#### VideoSizeChange

```cangjie
VideoSizeChange
```
功能： 视频播放宽高变化事件。

#### VolumeChange

```cangjie
VolumeChange
```
功能： setVolume生效的事件。


### AVPlayerState

enum AVPlayerState
```cangjie
public enum AVPlayerState <: Equatable<AVPlayerState> & ToString { | Idle | Initialized | Prepared | Playing | Paused | Completed | Stopped | Released | AVError | ... }
```
功能： AVPlayer 的状态机，可通过 state 属性主动获取当前状态，也可通过监听 StateChange 事件上报当前状态。

#### AVError

```cangjie
AVError
```
功能： 错误状态，当播放引擎发生不可逆的错误（详见Media错误码），则会转换至当前状态，可以调用 reset() 重置，也可以调用 release() 销毁重建。

#### Completed

```cangjie
Completed
```
功能： 播放至结尾状态，当媒体资源播放至结尾时，如果用户未设置循环播放（loop = true），AVPlayer会进入completed状态，此时调用 play() 会进入playing状态和重播，调用 stop() 会进入stopped状态。

#### Idle

```cangjie
Idle
```
功能： 闲置状态，AVPlayer刚被创建 createAVPlayer() 或者调用了 reset() 方法之后，进入Idle状态。

#### Initialized

```cangjie
Initialized
```
功能： 资源初始化，在Idle状态设置url或fdSrc属性，AVPlayer会进入initialized状态，此时可以配置窗口、音频等静态属性。

#### Paused

```cangjie
Paused
```
功能： 暂停状态，在playing状态调用pause方法，AVPlayer会进入paused状态。

#### Playing

```cangjie
Playing
```
功能： 正在播放状态，在prepared/paused/completed状态调用 play() 方法，AVPlayer会进入playing状态。

#### Prepared

```cangjie
Prepared
```
功能： 已准备状态，在initialized状态调用 prepare() 方法，AVPlayer会进入prepared状态，此时播放引擎的资源已准备就绪。

#### Released

```cangjie
Released
```
功能： 销毁状态，销毁与当前AVPlayer关联的播放引擎，无法再进行状态转换，调用 release() 方法后，会进入released状态，结束流程。

#### Stopped

```cangjie
Stopped
```
功能： 停止状态，在prepared/playing/paused/completed状态调用 stop() 方法，AVPlayer会进入stopped状态，此时播放引擎只会保留属性，但会释放内存资源，可以调用 prepare() 重新准备，也可以调用 reset() 重置，或者调用 release() 彻底销毁。


### AVRecorderCallbackType

enum AVRecorderCallbackType
```cangjie
public enum AVRecorderCallbackType <: Equatable<AVRecorderCallbackType> & Hashable & ToString { | AVRECORDER_ERROR | AVRECORDER_STATE_CHANGE | AVRECORDER_AUDIO_CAPTURER_CHANGE | AVRECORDER_PHOTO_ASSET_AVAILABLE | ... }
```
功能： AVRecorder的回调类型。

#### AVRECORDER_AUDIO_CAPTURER_CHANGE

```cangjie
AVRECORDER_AUDIO_CAPTURER_CHANGE
```
功能： 录音配置变化事件的回调类型。

#### AVRECORDER_ERROR

```cangjie
AVRECORDER_ERROR
```
功能： AVRecorder的错误事件的回调类型。

#### AVRECORDER_PHOTO_ASSET_AVAILABLE

```cangjie
AVRECORDER_PHOTO_ASSET_AVAILABLE
```
功能： 媒体资源回调事件类型。

#### AVRECORDER_STATE_CHANGE

```cangjie
AVRECORDER_STATE_CHANGE
```
功能： 录制状态机AVRecorderState切换的事件的回调类型。


### AVRecorderState

enum AVRecorderState
```cangjie
public enum AVRecorderState <: Equatable<AVRecorderState> & ToString { | IDLE | PREPARED | STARTED | PAUSED | STOPPED | RELEASED | ERROR | ... }
```
功能： 音视频录制的状态机。可通过state属性获取当前状态。

#### ERROR

```cangjie
ERROR
```
功能： 错误状态。当AVRecorder实例发生不可逆错误，会转换至当前状态。切换至error状态时会伴随 AVRecorder.on(AVRECORDER_ERROR) 事件，该事件会上报详细错误原因。在error状态时，用户需要调用 AVRecorder.reset() 方法重置AVRecorder实例，或者调用 AVRecorder.release() 方法释放资源。

#### IDLE

```cangjie
IDLE
```
功能： 闲置状态。此时可以调用 AVRecorder.prepare() 方法设置录制参数，进入prepared状态。AVRecorder刚被创建，或者在任何非released状态下调用 AVRecorder.reset() 方法，均进入idle状态。

#### PAUSED

```cangjie
PAUSED
```
功能： 录制暂停。此时可以调用 AVRecorder.resume() 方法继续录制，进入started状态。也可以调用 AVRecorder.stop() 方法结束录制，进入stopped状态。

#### PREPARED

```cangjie
PREPARED
```
功能： 参数设置完成。此时可以调用 AVRecorder.start() 方法开始录制，进入started状态。

#### RELEASED

```cangjie
RELEASED
```
功能： 录制资源释放。此时不能再进行任何操作。在任何其他状态下，均可以通过调用 AVRecorder.release() 方法进入released状态。

#### STARTED

```cangjie
STARTED
```
功能： 正在录制。此时可以调用 AVRecorder.pause() 方法暂停录制，进入paused状态。也可以调用 AVRecorder.stop() 方法结束录制，进入stopped状态。

#### STOPPED

```cangjie
STOPPED
```
功能： 录制停止。此时可以调用 AVRecorder.prepare() 方法设置录制参数，重新进入prepared状态。


### AVScreenCaptureRecordPreset

enum AVScreenCaptureRecordPreset
```cangjie
public enum AVScreenCaptureRecordPreset { | SCREEN_RECORD_PRESET_H264_AAC_MP4 | SCREEN_RECORD_PRESET_H265_AAC_MP4 | ... }
```
功能： 进行屏幕录制时的编码、封装格式参数。

#### SCREEN_RECORD_PRESET_H264_AAC_MP4

```cangjie
SCREEN_RECORD_PRESET_H264_AAC_MP4
```
功能： 使用视频H264编码，音频AAC编码，MP4封装格式。

#### SCREEN_RECORD_PRESET_H265_AAC_MP4

```cangjie
SCREEN_RECORD_PRESET_H265_AAC_MP4
```
功能： 使用视频H265编码，音频AAC编码，MP4封装格式。


### AVScreenCaptureStateCode

enum AVScreenCaptureStateCode
```cangjie
public enum AVScreenCaptureStateCode <: Equatable<AVScreenCaptureStateCode> & ToString { | SCREEN_CAPTURE_STATE_INVALID | SCREEN_CAPTURE_STATE_STARTED | SCREEN_CAPTURE_STATE_CANCELED | SCREEN_CAPTURE_STATE_STOPPED_BY_USER | SCREEN_CAPTURE_STATE_INTERRUPTED_BY_OTHER | SCREEN_CAPTURE_STATE_STOPPED_BY_CALL | SCREEN_CAPTURE_STATE_MIC_UNAVAILABLE | SCREEN_CAPTURE_STATE_MIC_MUTED_BY_USER | SCREEN_CAPTURE_STATE_MIC_UNMUTED_BY_USER | SCREEN_CAPTURE_STATE_ENTER_PRIVATE_SCENE | SCREEN_CAPTURE_STATE_EXIT_PRIVATE_SCENE | SCREEN_CAPTURE_STATE_STOPPED_BY_USER_SWITCHES | ... }
```
功能： 表示状态码。

#### SCREEN_CAPTURE_STATE_CANCELED

```cangjie
SCREEN_CAPTURE_STATE_CANCELED
```
功能： 录屏被取消。

#### SCREEN_CAPTURE_STATE_ENTER_PRIVATE_SCENE

```cangjie
SCREEN_CAPTURE_STATE_ENTER_PRIVATE_SCENE
```
功能： 录屏进入隐私页面。

#### SCREEN_CAPTURE_STATE_EXIT_PRIVATE_SCENE

```cangjie
SCREEN_CAPTURE_STATE_EXIT_PRIVATE_SCENE
```
功能： 录屏退出隐私页面。

#### SCREEN_CAPTURE_STATE_INTERRUPTED_BY_OTHER

```cangjie
SCREEN_CAPTURE_STATE_INTERRUPTED_BY_OTHER
```
功能： 录屏被其他录屏打断。

#### SCREEN_CAPTURE_STATE_INVALID

```cangjie
SCREEN_CAPTURE_STATE_INVALID
```
功能： 录屏出现error。

#### SCREEN_CAPTURE_STATE_MIC_MUTED_BY_USER

```cangjie
SCREEN_CAPTURE_STATE_MIC_MUTED_BY_USER
```
功能： 麦克风被用户打开。

#### SCREEN_CAPTURE_STATE_MIC_UNAVAILABLE

```cangjie
SCREEN_CAPTURE_STATE_MIC_UNAVAILABLE
```
功能： 录屏无法使用麦克风收音。

#### SCREEN_CAPTURE_STATE_MIC_UNMUTED_BY_USER

```cangjie
SCREEN_CAPTURE_STATE_MIC_UNMUTED_BY_USER
```
功能： 麦克风被用户关闭。

#### SCREEN_CAPTURE_STATE_STARTED

```cangjie
SCREEN_CAPTURE_STATE_STARTED
```
功能： 录屏已开始。

#### SCREEN_CAPTURE_STATE_STOPPED_BY_CALL

```cangjie
SCREEN_CAPTURE_STATE_STOPPED_BY_CALL
```
功能： 录屏被来电打断。

#### SCREEN_CAPTURE_STATE_STOPPED_BY_USER

```cangjie
SCREEN_CAPTURE_STATE_STOPPED_BY_USER
```
功能： 录屏被用户手动停止。

#### SCREEN_CAPTURE_STATE_STOPPED_BY_USER_SWITCHES

```cangjie
SCREEN_CAPTURE_STATE_STOPPED_BY_USER_SWITCHES
```
功能： 系统用户切换，录屏中断。


### AudioSourceType

enum AudioSourceType
```cangjie
public enum AudioSourceType <: ToString & Equatable<AudioSourceType> { | AUDIO_SOURCE_TYPE_DEFAULT | AUDIO_SOURCE_TYPE_MIC | AUDIO_SOURCE_TYPE_VOICE_RECOGNITION | AUDIO_SOURCE_TYPE_VOICE_COMMUNICATION | AUDIO_SOURCE_TYPE_VOICE_MESSAGE | AUDIO_SOURCE_TYPE_CAMCORDER | ... }
```
功能： 表示视频录制中音频源类型。

#### AUDIO_SOURCE_TYPE_CAMCORDER

```cangjie
AUDIO_SOURCE_TYPE_CAMCORDER
```
功能： 表示相机录像的音频源。

#### AUDIO_SOURCE_TYPE_DEFAULT

```cangjie
AUDIO_SOURCE_TYPE_DEFAULT
```
功能： 默认的音频输入源类型。

#### AUDIO_SOURCE_TYPE_MIC

```cangjie
AUDIO_SOURCE_TYPE_MIC
```
功能： 表示MIC的音频输入源。

#### AUDIO_SOURCE_TYPE_VOICE_COMMUNICATION

```cangjie
AUDIO_SOURCE_TYPE_VOICE_COMMUNICATION
```
功能： 表示语音通话场景的音频源。

#### AUDIO_SOURCE_TYPE_VOICE_MESSAGE

```cangjie
AUDIO_SOURCE_TYPE_VOICE_MESSAGE
```
功能： 表示短语音消息的音频源。

#### AUDIO_SOURCE_TYPE_VOICE_RECOGNITION

```cangjie
AUDIO_SOURCE_TYPE_VOICE_RECOGNITION
```
功能： 表示语音识别场景的音频源。


### BufferingInfoType

enum BufferingInfoType
```cangjie
public enum BufferingInfoType <: Equatable<BufferingInfoType> & ToString { | BUFFERING_START | BUFFERING_END | BUFFERING_PERCENT | CACHED_DURATION | ... }
```
功能： 缓存事件类型枚举。

#### BUFFERING_END

```cangjie
BUFFERING_END
```
功能： 表示结束缓冲。当上报BUFFERING_END时，播放器会恢复播放。

#### BUFFERING_PERCENT

```cangjie
BUFFERING_PERCENT
```
功能： 表示缓冲百分比。可参考该事件感知缓冲进度。

#### BUFFERING_START

```cangjie
BUFFERING_START
```
功能： 表示开始缓冲。当上报BUFFERING_START时，播放器会暂停播放。

#### CACHED_DURATION

```cangjie
CACHED_DURATION
```
功能： 表示已缓冲数据预估可播放时长，单位为毫秒（ms）。缓冲区中的数据变化量大于500ms，上报一次。可参考该事件做进度条。


### CodecMimeType

enum CodecMimeType
```cangjie
public enum CodecMimeType <: ToString & Equatable<CodecMimeType> { | VIDEO_H263 | VIDEO_AVC | VIDEO_MPEG2 | VIDEO_MPEG4 | VIDEO_VP8 | AUDIO_AAC | AUDIO_VORBIS | AUDIO_FLAC | VIDEO_HEVC | AUDIO_MP3 | AUDIO_G711MU | ... }
```
功能： Codec MIME类型枚举。

#### AUDIO_AAC

```cangjie
AUDIO_AAC
```
功能： 表示音频/mp4a-latm类型。

#### AUDIO_FLAC

```cangjie
AUDIO_FLAC
```
功能： 表示音频/flac类型。

#### AUDIO_G711MU

```cangjie
AUDIO_G711MU
```
功能： 表示音频/G711-mulaw类型。

#### AUDIO_MP3

```cangjie
AUDIO_MP3
```
功能： 表示音频/mpeg类型。

#### AUDIO_VORBIS

```cangjie
AUDIO_VORBIS
```
功能： 表示音频/vorbis类型。

#### VIDEO_AVC

```cangjie
VIDEO_AVC
```
功能： 表示视频/avc类型。

#### VIDEO_H263

```cangjie
VIDEO_H263
```
功能： 表示视频/h263类型。

#### VIDEO_HEVC

```cangjie
VIDEO_HEVC
```
功能： 表示视频/H265类型。

#### VIDEO_MPEG2

```cangjie
VIDEO_MPEG2
```
功能： 表示视频/mpeg2类型。

#### VIDEO_MPEG4

```cangjie
VIDEO_MPEG4
```
功能： 表示视频/mpeg4类型。

#### VIDEO_VP8

```cangjie
VIDEO_VP8
```
功能： 表示视频/vp8类型。


### ContainerFormatType

enum ContainerFormatType
```cangjie
public enum ContainerFormatType <: ToString & Equatable<ContainerFormatType> { | CFT_MPEG_4 | CFT_MPEG_4A | CFT_MP3 | CFT_WAV | ... }
```
功能： 表示容器格式类型的枚举，缩写为CFT。

#### CFT_MP3

```cangjie
CFT_MP3
```
功能： 音频的容器格式，MP3。

#### CFT_MPEG_4

```cangjie
CFT_MPEG_4
```
功能： 视频的容器格式，MP4。

#### CFT_MPEG_4A

```cangjie
CFT_MPEG_4A
```
功能： 音频的容器格式，M4A。

#### CFT_WAV

```cangjie
CFT_WAV
```
功能： 音频的容器格式，WAV。


### FileGenerationMode

enum FileGenerationMode
```cangjie
public enum FileGenerationMode <: ToString & Equatable<FileGenerationMode> { | APP_CREATE | AUTO_CREATE_CAMERA_SCENE | ... }
```
功能： 表示创建媒体文件模式。

#### APP_CREATE

```cangjie
APP_CREATE
```
功能： 由应用自行在沙箱创建媒体文件。

#### AUTO_CREATE_CAMERA_SCENE

```cangjie
AUTO_CREATE_CAMERA_SCENE
```
功能： 由系统创建媒体文件，当前仅在相机录制场景下生效，会忽略应用设置的url。


### HdrType

enum HdrType
```cangjie
public enum HdrType <: ToString & Equatable<HdrType> { | AV_HDR_TYPE_NONE | AV_HDR_TYPE_VIVID | ... }
```
功能： 表示视频HDR类型。

#### AV_HDR_TYPE_NONE

```cangjie
AV_HDR_TYPE_NONE
```
功能： 表示无HDR类型。

#### AV_HDR_TYPE_VIVID

```cangjie
AV_HDR_TYPE_VIVID
```
功能： 表示为HDR VIVID类型。


### MediaType

enum MediaType
```cangjie
public enum MediaType <: ToString & Equatable<MediaType> { | MEDIA_TYPE_AUD | MEDIA_TYPE_VID | MEDIA_TYPE_SUBTITLE | ... }
```
功能： 媒体类型枚举。

#### MEDIA_TYPE_AUD

```cangjie
MEDIA_TYPE_AUD
```
功能： 表示音频。

#### MEDIA_TYPE_SUBTITLE

```cangjie
MEDIA_TYPE_SUBTITLE
```
功能： 表示字幕。

#### MEDIA_TYPE_VID

```cangjie
MEDIA_TYPE_VID
```
功能： 表示视频。


### PlaybackInfoKey

enum PlaybackInfoKey
```cangjie
public enum PlaybackInfoKey <: ToString & Hashable & Equatable<PlaybackInfoKey> { | SERVER_IP_ADDRESS | AVG_DOWNLOAD_RATE | DOWNLOAD_RATE | IS_DOWNLOADING | BUFFER_DURATION | ... }
```
功能： 播放信息描述枚举。

#### AVG_DOWNLOAD_RATE

```cangjie
AVG_DOWNLOAD_RATE
```
功能： 表示平均下载速率，其对应键值类型为Int32，单位为比特率（bps）。

#### BUFFER_DURATION

```cangjie
BUFFER_DURATION
```
功能： 表示缓存数据的可播放时长，其对应键值类型为Int64，单位为秒（s）。

#### DOWNLOAD_RATE

```cangjie
DOWNLOAD_RATE
```
功能： 表示1s的下载速率，其对应键值类型为Int64，单位为比特率（bps）。

#### IS_DOWNLOADING

```cangjie
IS_DOWNLOADING
```
功能： 表示下载状态，1表示在下载状态，0表示非下载状态（下载完成），其对应键值类型为Int32。

#### SERVER_IP_ADDRESS

```cangjie
SERVER_IP_ADDRESS
```
功能： 表示服务器IP地址，其对应键值类型为String。


### PlaybackSpeed

enum PlaybackSpeed
```cangjie
public enum PlaybackSpeed <: Equatable<PlaybackSpeed> & ToString { | SPEED_FORWARD_0_75_X | SPEED_FORWARD_1_00_X | SPEED_FORWARD_1_25_X | SPEED_FORWARD_1_75_X | SPEED_FORWARD_2_00_X | SPEED_FORWARD_0_50_X | SPEED_FORWARD_1_50_X | SPEED_FORWARD_0_25_X | SPEED_FORWARD_0_125_X | ... }
```
功能： 视频播放的倍速枚举，可通过setSpeed方法作为参数传递下去。

#### SPEED_FORWARD_0_125_X

```cangjie
SPEED_FORWARD_0_125_X
```
功能： 表示视频播放正常播速的0.125倍。

#### SPEED_FORWARD_0_25_X

```cangjie
SPEED_FORWARD_0_25_X
```
功能： 表示视频播放正常播速的0.25倍。

#### SPEED_FORWARD_0_50_X

```cangjie
SPEED_FORWARD_0_50_X
```
功能： 表示视频播放正常播速的0.50倍。

#### SPEED_FORWARD_0_75_X

```cangjie
SPEED_FORWARD_0_75_X
```
功能： 表示视频播放正常播速的0.75倍。

#### SPEED_FORWARD_1_00_X

```cangjie
SPEED_FORWARD_1_00_X
```
功能： 表示视频播放正常播速。

#### SPEED_FORWARD_1_25_X

```cangjie
SPEED_FORWARD_1_25_X
```
功能： 表示视频播放正常播速的1.25倍。

#### SPEED_FORWARD_1_50_X

```cangjie
SPEED_FORWARD_1_50_X
```
功能： 表示视频播放正常播速的1.50倍。

#### SPEED_FORWARD_1_75_X

```cangjie
SPEED_FORWARD_1_75_X
```
功能： 表示视频播放正常播速的1.75倍。

#### SPEED_FORWARD_2_00_X

```cangjie
SPEED_FORWARD_2_00_X
```
功能： 表示视频播放正常播速的2.00倍。


### ProfileCallbackType

enum ProfileCallbackType
```cangjie
public enum ProfileCallbackType <: Equatable<ProfileCallbackType> & Hashable & ToString { | CONNECTION_STATE_CHANGE | CONNECTION_ERROR | ... }
```
功能： 连接管理。

#### CONNECTION_ERROR

```cangjie
CONNECTION_ERROR
```
功能： 连接无效。

#### CONNECTION_STATE_CHANGE

```cangjie
CONNECTION_STATE_CHANGE
```
功能： 连接状态。


### SeekMode

enum SeekMode
```cangjie
public enum SeekMode <: Equatable<SeekMode> & ToString { | SEEK_NEXT_SYNC | SEEK_PREV_SYNC | SEEK_CLOSEST | ... }
```
功能： 视频播放的Seek模式枚举，可通过seek方法作为参数传递下去。

#### SEEK_CLOSEST

```cangjie
SEEK_CLOSEST
```
功能： 表示跳转到距离指定时间点最近的帧，建议精准跳转进度的时候用这个枚举值。

#### SEEK_NEXT_SYNC

```cangjie
SEEK_NEXT_SYNC
```
功能： 表示跳转到指定时间点的下一个关键帧，建议向后快进的时候用这个枚举值。

#### SEEK_PREV_SYNC

```cangjie
SEEK_PREV_SYNC
```
功能： 表示跳转到指定时间点的上一个关键帧，建议向前快进的时候用这个枚举值。


### SoundPoolEvent

enum SoundPoolEvent
```cangjie
public enum SoundPoolEvent <: ToString { | LoadCompleted | PlayFinished | EventError | ... }
```
功能： soundPool事件状态。

#### EventError

```cangjie
EventError
```
功能： 错误事件。

#### LoadCompleted

```cangjie
LoadCompleted
```
功能： 事件加载完成。

#### PlayFinished

```cangjie
PlayFinished
```
功能： 事件播放完成。


### StateChangeReason

enum StateChangeReason
```cangjie
public enum StateChangeReason <: Equatable<StateChangeReason> & ToString { | USER | BACKGROUND | ... }
```
功能： 表示播放或录制实例状态机切换原因的枚举，伴随state一起上报。

#### BACKGROUND

```cangjie
BACKGROUND
```
功能： 表示后台系统行为造成的状态切换，比如应用未注册播控中心权限，退到后台时被系统强制暂停或停止。

#### USER

```cangjie
USER
```
功能： 表示用户行为造成的状态切换，由用户或客户端主动调用接口产生。


### SwitchMode

enum SwitchMode
```cangjie
public enum SwitchMode <: ToString & Equatable<SwitchMode> { | SMOOTH | SEGMENT | CLOSEST | ... }
```
功能： 视频播放的selectTrack模式枚举，可通过selectTrack方法作为参数传递下去，当前仅DASH协议视频轨支持该扩展参数。

#### CLOSEST

```cangjie
CLOSEST
```
功能： 表示从距离当前播放时间点最近的帧开始播放，该模式立即切换，切换后会卡住3到5s，然后恢复播放。

#### SEGMENT

```cangjie
SEGMENT
```
功能： 表示切换后从当前分片开始位置播放，该模式立即切换，会有重复播放。

#### SMOOTH

```cangjie
SMOOTH
```
功能： 表示切换后视频平滑播放，该模式切换存在延迟，不会立即生效。


### ValueType

enum ValueType
```cangjie
public enum ValueType { | INT(Int32) | INT64(Int64) | DOUBLE(Float64) | STRING(String) | ... }
```
功能： 表示 PlaybackInfo 和 MediaDescription 键值对的值类型。

#### DOUBLE(Float64)

```cangjie
DOUBLE(Float64)
```
功能： 表示Float64类型数据。

#### INT(Int32)

```cangjie
INT(Int32)
```
功能： 表示Int32类型数据。

#### INT64(Int64)

```cangjie
INT64(Int64)
```
功能： 表示Int64类型数据。

#### STRING(String)

```cangjie
STRING(String)
```
功能： 表示String类型数据。


### VideoScaleType

enum VideoScaleType
```cangjie
public enum VideoScaleType <: Equatable<VideoScaleType> & ToString { | VIDEO_SCALE_TYPE_FIT | VIDEO_SCALE_TYPE_FIT_CROP | ... }
```
功能： 视频缩放模式。

#### VIDEO_SCALE_TYPE_FIT

```cangjie
VIDEO_SCALE_TYPE_FIT
```
功能： 默认比例类型，视频拉伸至与窗口等大。

#### VIDEO_SCALE_TYPE_FIT_CROP

```cangjie
VIDEO_SCALE_TYPE_FIT_CROP
```
功能： 保持视频宽高比拉伸至填满窗口，内容可能会有裁剪。


### VideoSourceType

enum VideoSourceType
```cangjie
public enum VideoSourceType <: ToString & Equatable<VideoSourceType> { | VIDEO_SOURCE_TYPE_SURFACE_YUV | VIDEO_SOURCE_TYPE_SURFACE_ES | ... }
```
功能： 表示视频录制中视频源类型。

#### VIDEO_SOURCE_TYPE_SURFACE_ES

```cangjie
VIDEO_SOURCE_TYPE_SURFACE_ES
```
功能： 输入surface中携带的是ES data。

#### VIDEO_SOURCE_TYPE_SURFACE_YUV

```cangjie
VIDEO_SOURCE_TYPE_SURFACE_YUV
```
功能： 输入surface中携带的是raw data。



## Types

### MediaDescription

type MediaDescription
```cangjie
public type MediaDescription = HashMap<String, ValueType>
```
功能： MediaDescription 是HashMap<String, ValueType >类型的别名。


### OnAVPlayerStateChangeHandle

type OnAVPlayerStateChangeHandle
```cangjie
public type OnAVPlayerStateChangeHandle = Callback2Argument<AVPlayerState, StateChangeReason>
```
功能： OnAVPlayerStateChangeHandle 是 Callback2Argument < AVPlayerState , StateChangeReason >类型的别名。


### OnBufferingUpdateHandler

type OnBufferingUpdateHandler
```cangjie
public type OnBufferingUpdateHandler = Callback2Argument<BufferingInfoType, Int32>
```
功能： OnBufferingUpdateHandler 是 Callback2Argument < BufferingInfoType , Int32>类型的别名。


### OnTrackChangeHandler

type OnTrackChangeHandler
```cangjie
public type OnTrackChangeHandler = Callback2Argument<Int32, Bool>
```
功能： OnTrackChangeHandler 是 Callback2Argument <Int32, Bool>类型的别名。


### OnVideoSizeChangeHandler

type OnVideoSizeChangeHandler
```cangjie
public type OnVideoSizeChangeHandler = Callback2Argument<Int32, Int32>
```
功能： OnVideoSizeChangeHandler 是 Callback2Argument <Int32, Int32>类型的别名。


### PlaybackInfo

type PlaybackInfo
```cangjie
public type PlaybackInfo = HashMap<PlaybackInfoKey, ValueType>
```
功能： PlaybackInfo 是HashMap< PlaybackInfo , ValueType >类型的别名。



