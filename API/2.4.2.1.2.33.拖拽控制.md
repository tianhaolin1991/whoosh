# 拖拽控制

设置组件是否可以响应拖拽事件。

## Functions

### public open func draggable(value: Bool): This

```cangjie
public open func draggable(value: Bool): This
```
功能： 设置该组件是否允许进行拖拽。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 组件是否允许进行拖拽。true表示允许拖拽，false表示不允许拖拽。 初始值：false。 | value | - |

### public func dragPreview(value: DragItemInfo): This

```cangjie
public func dragPreview(value: DragItemInfo): This
```
功能： 设置组件拖拽过程中的预览图。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| DragItemInfo | 是 | 组件拖拽过程中的预览图，仅在 onDragStart 拖拽方式中有效。 当组件支持拖拽并同时设置 bindContextMenu 的预览图时，则长按浮起的预览图以 bindContextMenu 设置的预览图为准。开发者在 onDragStart 中返回的背板图优先级低于 dragPreview 设置的预览图，当设置了 dragPreview 预览图时，拖拽过程中的背板图使用 dragPreview 预览图。 当传入类型为string的id时，则将id对应组件的截图作为预览图。如果id对应的组件无法查找到，或者id对应的组件Visibility属性设置成none/hidden，则对组件自身进行截图作为拖拽预览图。目前截图不含有亮度、阴影、模糊和旋转等视觉效果。 初始值：空。 | value | - |

### public func dragPreview(value: String): This

```cangjie
public func dragPreview(value: String): This
```
功能： 设置组件拖拽过程中的预览图。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 组件拖拽过程中的预览图，仅在 onDragStart 拖拽方式中有效。 当组件支持拖拽并同时设置 bindContextMenu 的预览图时，则长按浮起的预览图以 bindContextMenu 设置的预览图为准。开发者在 onDragStart 中返回的背板图优先级低于 dragPreview 设置的预览图，当设置了 dragPreview 预览图时，拖拽过程中的背板图使用 dragPreview 预览图。 当传入类型为string的id时，则将id对应组件的截图作为预览图。如果id对应的组件无法查找到，或者id对应的组件Visibility属性设置成none/hidden，则对组件自身进行截图作为拖拽预览图。目前截图不含有亮度、阴影、模糊和旋转等视觉效果。 初始值：空。 | value | - |

### public func dragPreview(builder: () -> Unit): This

```cangjie
public func dragPreview(builder: () -> Unit): This
```
功能： 设置组件拖拽过程中的预览图。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| () -> Unit | 是 | 组件拖拽过程中的预览图，仅在 onDragStart 拖拽方式中有效。 当组件支持拖拽并同时设置 bindContextMenu 的预览图时，则长按浮起的预览图以 bindContextMenu 设置的预览图为准。开发者在 onDragStart 中返回的背板图优先级低于 dragPreview 设置的预览图，当设置了 dragPreview 预览图时，拖拽过程中的背板图使用 dragPreview 预览图。 当传入类型为string的id时，则将id对应组件的截图作为预览图。如果id对应的组件无法查找到，或者id对应的组件Visibility属性设置成none/hidden，则对组件自身进行截图作为拖拽预览图。目前截图不含有亮度、阴影、模糊和旋转等视觉效果。 初始值：空。使用时结合 @Builder 和 bind 方法使用。 | builder | - |


## Classes

### DragInteractionOptions

class DragInteractionOptions
```cangjie
public class DragInteractionOptions { public DragInteractionOptions( public let isMultiSelectionEnabled!: Bool = false, public let defaultAnimationBeforeLifting!: Bool = false ) }
```
功能： 拖拽过程中的效果。

#### let isMultiSelectionEnabled

```cangjie
public let isMultiSelectionEnabled: Bool = false
```
功能： 表示拖拽过程中背板图是否支持多选聚拢效果。true表示支持多选聚拢效果，false表示不支持多选聚拢效果。该参数只在 Grid 和 List 组件中的 GridItem 组件和 ListItem 组件生效。 当一个item组件设置为多选拖拽时，该组件的子组件不可拖拽。聚拢组件预览图设置的优先级为 dragPreview 中的string，组件自截图，不支持dragPreview中的Builder形式。 不支持组件绑定 bindContextMenu 中参数存在isShown的模式。
Type: Bool; Readable: true; Writable: false

#### let defaultAnimationBeforeLifting

```cangjie
public let defaultAnimationBeforeLifting: Bool = false
```
功能： 表示是否启用长按浮起阶段组件自身的默认点按效果（缩小）。true表示启用默认点按效果，false表示不启用默认点按效果。
Type: Bool; Readable: true; Writable: false



## Enums

### DragPreviewMode

enum DragPreviewMode
```cangjie
public enum DragPreviewMode { | AUTO | DISABLE_SCALE | ENABLE_DEFAULT_SHADOW | ENABLE_DEFAULT_RADIUS }
```
功能： 拖拽行为控制。

#### AUTO

```cangjie
AUTO
```
功能： 系统根据拖拽场景自动改变跟手点位置，根据规则自动对拖拽背板图进行缩放变换等。

#### DISABLE_SCALE

```cangjie
DISABLE_SCALE
```
功能： 禁用系统对拖拽背板图的缩放行为。

#### ENABLE_DEFAULT_SHADOW

```cangjie
ENABLE_DEFAULT_SHADOW
```
功能： 启用非文本类组件默认阴影效果。

#### ENABLE_DEFAULT_RADIUS

```cangjie
ENABLE_DEFAULT_RADIUS
```
功能： 启用非文本类组件统一圆角效果，默认值12vp。当应用自身设置的圆角值大于默认值或modifier设置的圆角时，则显示应用自定义圆角效果。



## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import kit.LocalizationKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @Builder
 func dragPreviewBuilder() {
 Text("dragPreview")
 .width(150)
 .height(50)
 .fontSize(20)
 .borderRadius(10)
 .textAlign(TextAlign.Center)
 .fontColor(Color.BLACK)
 .backgroundColor(Color.PINK)
 }

 @Builder
 func MenuBuilder() {
 Flex(FlexParams(direction: FlexDirection.Column)) {
 Text('Test menu item 1').fontSize(20).width(200).height(50).textAlign(TextAlign.Center)
 Divider().height(10)
 Text('Test menu item 2').fontSize(20).width(200).height(50).textAlign(TextAlign.Center)
 }
 .width(200)
 .height(200)
 }

 func build() {
 Column {
 Image(@r(app.media.startIcon))
 .width(200)
 .height(200)
 .draggable(true)
 .dragPreview({ => this.dragPreviewBuilder(this).build() })
 .bindContextMenu(builder: this.MenuBuilder)
 }
 .width(100.percent)
 }
}
```

