# 组件内转场 (transition)

组件内转场主要通过transition属性配置转场参数，在组件插入和删除时显示过渡动效，主要用于容器组件中的子组件插入和删除时，提升用户体验。

## Functions

### public func transition(): This

```cangjie
public func transition(): This
```
功能： 设置组件插入显示和删除隐藏的过渡效果。

### public func transition(effect: TransitionEffect): This

```cangjie
public func transition(effect: TransitionEffect): This
```
功能： 设置组件插入显示和删除隐藏的过渡效果。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| TransitionEffect | 是 | 以函数的形式指定转场效果。 | effect | - |

### public func transition(effect: TransitionEffect, onFinish: (Bool) -> Unit)

```cangjie
public func transition(effect: TransitionEffect, onFinish: (Bool) -> Unit)
```
功能： 设置组件插入显示和删除隐藏的过渡效果和转场动画结束回调。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| TransitionEffect | 是 | 以函数的形式指定转场效果。 | effect | - |
| (Bool) -> Unit | 是 | 组件转场动画的结束回调类型。 该参数为true表示该转场回调是出现动画的结束回调，该参数为false表示该转场回调是消失动画的结束回调。 | onFinish | - |


## Classes

### TransitionEffect

class TransitionEffect
```cangjie
public class TransitionEffect { public static let IDENTITY: TransitionEffect public static let OPACITY: TransitionEffect public static let SLIDE: TransitionEffect public static let SLIDE_SWITCH: TransitionEffect }
```
功能： 以函数形式指定转场效果类型。

#### let IDENTITY

```cangjie
public static let IDENTITY: TransitionEffect
```
功能： 禁用转场效果。
Type: TransitionEffect; Readable: true; Writable: false

#### let OPACITY

```cangjie
public static let OPACITY: TransitionEffect
```
功能： 为组件添加透明度转场效果，出现时透明度从0到1、消失时透明度从1到0，相当于TransitionEffect.opacity(0.0)。
Type: TransitionEffect; Readable: true; Writable: false

#### let SLIDE

```cangjie
public static let SLIDE: TransitionEffect
```
功能： 设置从START边滑入，END边滑出。即在LTR模式下，从左侧滑入，右侧滑出；在RTL模式下，从右侧滑入，左侧滑出。相当于TransitionEffect.asymmetric(TransitionEffect.move(TransitionEdge.START), TransitionEffect.move(TransitionEdge.END))。
Type: TransitionEffect; Readable: true; Writable: false

#### let SLIDE_SWITCH

```cangjie
public static let SLIDE_SWITCH: TransitionEffect
```
功能： 指定出现时从右先缩小再放大侧滑入、消失时从左侧先缩小再放大滑出的转场效果。自带动画参数，也可覆盖动画参数，自带的动画参数时长600ms，指定动画曲线cubicBezierCurve(0.24, 0.0, 0.50, 1.0)，最小缩放比例为0.8。
Type: TransitionEffect; Readable: true; Writable: false


### RotateOptions

class RotateOptions
```cangjie
public class RotateOptions { public var angle: Float32 public var x: Float32 public var y: Float32 public var z: Float32 public var centerX: Length public var centerY: Length public var centerZ: Length public var perspective: Float32 public init( angle: Float32, x!: Float32 = 0.0, y!: Float32 = 0.0, z!: Float32 = 0.0, centerX!: Length = 50.percent, centerY!: Length = 50.percent, centerZ!: Length = 0, perspective!: Float32 = 0.0 ) }
```
功能： 设置旋转参数。

#### var angle

```cangjie
public var angle: Float32
```
功能： 表示旋转角度。
Type: Float32; Readable: true; Writable: true

#### var x

```cangjie
public var x: Float32
```
功能： 表示旋转轴向量x坐标。
Type: Float32; Readable: true; Writable: true

#### var y

```cangjie
public var y: Float32
```
功能： 表示旋转轴向量y坐标。
Type: Float32; Readable: true; Writable: true

#### var z

```cangjie
public var z: Float32
```
功能： 表示旋转轴向量z坐标。
Type: Float32; Readable: true; Writable: true

#### var centerX

```cangjie
public var centerX: Length
```
功能： 表示组件变换中心点（即锚点）的x方向坐标。
Type: Length; Readable: true; Writable: true

#### var centerY

```cangjie
public var centerY: Length
```
功能： 表示组件变换中心点（即锚点）的y方向坐标。
Type: Length; Readable: true; Writable: true

#### var centerZ

```cangjie
public var centerZ: Length
```
功能： 表示z轴锚点，即3D旋转中心点的z轴分量。
Type: Length; Readable: true; Writable: true

#### var perspective

```cangjie
public var perspective: Float32
```
功能： 表示视距，即视点到z=0平面的距离。
Type: Length; Readable: true; Writable: true


### ScaleOptions

class ScaleOptions
```cangjie
public class ScaleOptions { public var x: Float32 public var y: Float32 public var z: Float32 public var centerX: Length public var centerY: Length public init( x!: Float32 = 0.0, y!: Float32 = 0.0, z!: Float32 = 0.0, centerX!: Length = 50.percent, centerY!: Length = 50.percent ) }
```
功能： 设置缩放参数。

#### var x

```cangjie
public var x: Float32
```
功能： 表示x轴的缩放倍数。x>1时以x轴方向放大，0<x<1时以x轴方向缩小，x<0时沿x轴反向并缩放。
Type: Float32; Readable: true; Writable: true

#### var y

```cangjie
public var y: Float32
```
功能： 表示y轴的缩放倍数。y>1时以y轴方向放大，0<y<1时以y轴方向缩小，y<0时沿y轴反向并缩放。
Type: Float32; Readable: true; Writable: true

#### var z

```cangjie
public var z: Float32
```
功能： 表示z轴的缩放倍数。z>1时以z轴方向放大，0<z<1时以z轴方向缩小，z<0时沿z轴反向并缩放。
Type: Float32; Readable: true; Writable: true

#### var centerX

```cangjie
public var centerX: Length
```
功能： 表示变换中心点x轴坐标。
Type: Length; Readable: true; Writable: true

#### var centerY

```cangjie
public var centerY: Length
```
功能： 表示变换中心点y轴坐标。
Type: Length; Readable: true; Writable: true


### TranslateOptions

class TranslateOptions
```cangjie
public class TranslateOptions { public var x: Length public var y: Length public var z: Length public init( x!: Length = 0.0.vp, y!: Length = 0.0.vp, z!: Length = 0.0.vp ) }
```
功能： 设置平移参数。

#### var x

```cangjie
public var x: Length
```
功能： 表示x轴的平移距离。
Type: Length; Readable: true; Writable: true

#### var y

```cangjie
public var y: Length
```
功能： 表示y轴的平移距离。
Type: Length; Readable: true; Writable: true

#### var z

```cangjie
public var z: Length
```
功能： 表示z轴的平移距离。
Type: Length; Readable: true; Writable: true



## Enums

### TransitionEdge

enum TransitionEdge
```cangjie
public enum TransitionEdge { | TOP | BOTTOM | START | END }
```
功能： 窗口的边缘信息。

#### BOTTOM

```cangjie
BOTTOM
```
功能： 设置窗口的下边缘。

#### END

```cangjie
END
```
功能： 设置窗口的终止边缘，LTR时为右边缘，RTL时为左边缘。

#### START

```cangjie
START
```
功能： 设置窗口的起始边缘，LTR时为左边缘，RTL时为右边缘。

#### TOP

```cangjie
TOP
```
功能： 设置窗口的上边缘。



## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State var flag = true
 @State var show = "show"
 func build() {
 Column {
 Button(this.show)
 .onClick {
 evt =>
 AppLog.info("Hello Cangjie")
 if (this.flag) {
 this.show = "hide"
 } else {
 this.show = "show"
 }
 this.flag = !this.flag
 }
 .width(800.px)
 .height(400.px)

 if (this.flag) {
 Button("abc")
 .width(800.px)
 .height(400.px)
 .transition(
 TransitionEffect
 .OPACITY
 .animation(AnimateParam(duration: 2000, curve: Curve.Ease))
 .combine(TransitionEffect.rotate(RotateOptions(180.0, z: 1.0))))
 }
 }
 }
}
```
```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State var flag = true
 @State var show = "show"
 func build() {
 Column {
 Button(this.show)
 .onClick {
 evt =>
 AppLog.info("Hello Cangjie")
 if (this.flag) {
 this.show = "hide"
 } else {
 this.show = "show"
 }
 this.flag = !this.flag
 }
 .width(800.px)
 .height(400.px)

 if (this.flag) {
 Button("abc")
 .width(800.px)
 .height(400.px)
 .transition(
 TransitionEffect
 .OPACITY
 .animation(AnimateParam(duration: 2000, curve: Curve.Ease))
 .combine(TransitionEffect.rotate(RotateOptions(180.0, z: 1.0))))

 Button("abc")
 .width(800.px)
 .height(400.px)
 .transition(
 TransitionEffect
 .asymmetric(
 TransitionEffect.scale(ScaleOptions()),
 TransitionEffect.IDENTITY
 )
 .animation(AnimateParam(duration: 2000, curve: Curve.Ease)))
 }
 }
 }
}
```
```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*
import ohos.resource_manager.__GenerateResource__

@Entry
@Component
class EntryView {
 @State var flag = true
 @State var show = "show"
 func build() {
 Column {
 Button(this.show)
 .onClick {
 evt =>
 AppLog.info("Hello Cangjie")
 if (this.flag) {
 this.show = "hide"
 } else {
 this.show = "show"
 }
 this.flag = !this.flag
 }
 .width(800.px)
 .height(400.px)

 if (this.flag) {
 Column() {
 Row() {
 Image(@r(app.media.startIcon))
 .width(150)
 .height(150)
 .id("image1")
 .transition(TransitionEffect
 .OPACITY
 .animation(AnimateParam(duration: 2000)))
 }
 Image(@r(app.media.startIcon))
 .width(150)
 .height(150)
 .id("image2")
 .transition(TransitionEffect
 .OPACITY
 .animation(AnimateParam(duration: 1000)))
 }.transition(TransitionEffect
 .OPACITY
 .animation(AnimateParam(duration: 1000)))
 }
 }
 }
}
```

