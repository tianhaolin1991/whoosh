# ohos.webview（Webview）

提供web控制能力，组件提供网页显示的能力。

```cangjie
import kit.ArkWeb.*
```
## Functions

### public func once(onceType: String, callback: () -> Unit): Unit

```cangjie
public func once(onceType: String, callback: () -> Unit): Unit
```
功能： 订阅一次指定类型Web事件的回调，Web事件的类型目前仅支持"webInited"，在Web引擎初始化完成时触发。

**Parameters:**

| type | description | name | required |
| --- | --- | --- | --- |
| String | Web事件的类型，目前支持："webInited"（Web初始化完成）。 | onceType | 是 |
| Callback | 所订阅的回调函数。 | callback | 是 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3.Parameter verification failed. |


**Example:**

```cangjie
// main_ability.cj

internal import kit.AbilityKit.AbilityStage
internal import kit.AbilityKit.LaunchReason
import ohos.base.*
import kit.ArkWeb.*

class MainAbility <: UIAbility {
 public init() {
 super()
 registerSelf()
 }
 public override func onCreate(want: Want, launchParam: LaunchParam): Unit {
 AppLog.info("MainAbility OnCreated.${want.abilityName}")
 once(
 "webInited",
 {
 => AppLog.info("webInited")
 }
 )
 match (launchParam.launchReason) {
 case LaunchReason.START_ABILITY => AppLog.info("START_ABILITY")
 case _ => ()
 }
 }
 public override func onWindowStageCreate(windowStage: WindowStage): Unit {
 AppLog.info("MainAbility onWindowStageCreate.")
 windowStage.loadContent("EntryView")
 }
}
```


## Classes

### AdsBlockManager

class AdsBlockManager
```cangjie
public class AdsBlockManager {}
```
功能： 通过AdsBlockManager可以在Web组件中设置自定义的广告过滤配置、关闭特定网站的广告过滤功能，其中每个应用中的所有Web组件都共享一个AdsBlockManager实例。


### BackForwardCacheOptions

class BackForwardCacheOptions
```cangjie
public class BackForwardCacheOptions { public BackForwardCacheOptions ( public var size: Int32, public var timeToLive: Int32 ) }
```
功能： 前进后退缓存相关设置对象，用来控制Web组件前进后退缓存相关选项。

#### var size

```cangjie
public var size: Int32
```
功能： 设置每个Web组件允许缓存的最大页面个数。
Type: Int32; Readable: true; Writable: true

#### var timeToLive

```cangjie
public var timeToLive: Int32
```
功能： 设置每个Web组件允许页面在前进后退缓存中停留的时间，默认为600秒。设置为0或负数时，前进后退缓存功能不生效。
Type: Int32; Readable: true; Writable: true


### BackForwardCacheSupportedFeatures

class BackForwardCacheSupportedFeatures
```cangjie
public class BackForwardCacheSupportedFeatures { public BackForwardCacheSupportedFeatures ( public var nativeEmbed: Bool, public var mediaTakeOver: Bool ) }
```
功能： 选择性允许使用以下特性的页面进入前进后退缓存。

#### var mediaTakeOver

```cangjie
public var mediaTakeOver: Bool
```
功能： 是否允许使用视频托管的页面进入前进后退缓存。
Type: Bool; Readable: true; Writable: true

#### var nativeEmbed

```cangjie
public var nativeEmbed: Bool
```
功能： 是否允许使用同层渲染的页面进入前进后退缓存。
Type: Bool; Readable: true; Writable: true


### BackForwardList

class BackForwardList
```cangjie
public class BackForwardList {}
```
功能： 当前Webview的历史信息列表。

#### prop currentIndex

```cangjie
public prop currentIndex: Int32
```
功能： 当前页面在历史列表中的索引。
Type: Int32; Readable: true; Writable: false

#### prop size

```cangjie
public prop size: Int32
```
功能： 历史列表中索引的数量，最多保存50条，超过时起始记录会被覆盖。
Type: Int32; Readable: true; Writable: false


### GeolocationPermissions

class GeolocationPermissions
```cangjie
public class GeolocationPermissions {}
```
功能： Web组件地理位置权限管理对象。


### JsMessageExt

class JsMessageExt
```cangjie
public class JsMessageExt {}
```
功能： runJavaScirptExt 执行脚本返回的数据对象。


### MediaSourceInfo

class MediaSourceInfo
```cangjie
public class MediaSourceInfo { public MediaSourceInfo( let format: String, let source: String, let `type`: SourceType ) }
```
功能： 表示媒体源的信息。


### NativeMediaPlayerBridge

class NativeMediaPlayerBridge
```cangjie
public abstract class NativeMediaPlayerBridge { public init() }
```
功能： CreateNativeMediaPlayerCallback 回调函数的返回值类型。接管网页媒体的播放器和ArkWeb内核之间的一个接口类。ArkWeb内核通过该接口类的实例对象来控制应用创建的用来接管网页媒体的播放器。


### NativeMediaPlayerHandler

class NativeMediaPlayerHandler
```cangjie
public class NativeMediaPlayerHandler { public init() }
```
功能： CreateNativeMediaPlayerCallback 回调函数的参数。应用通过该对象将播放器的状态报告给ArkWeb内核。


### NativeMediaPlayerSurfaceInfo

class NativeMediaPlayerSurfaceInfo
```cangjie
public class NativeMediaPlayerSurfaceInfo { public NativeMediaPlayerSurfaceInfo( let id: String, let rect: RectEvent ) }
```
功能： 应用接管网页媒体播放功能 中用于同层渲染的 surface 信息。


### WebCookieManager

class WebCookieManager
```cangjie
public class WebCookieManager {}
```
功能： 通过WebCookie可以控制Web组件中的cookie的各种行为，其中每个应用中的所有web组件共享一个WebCookieManager实例。


### WebDataBase

class WebDataBase
```cangjie
public class WebDataBase {}
```
功能： Web组件数据库管理对象。


### WebDownloadDelegate

class WebDownloadDelegate
```cangjie
public class WebDownloadDelegate { public init() }
```
功能： 通过该类的回调接口将下载任务的状态通知给用户。


### WebDownloadItem

class WebDownloadItem
```cangjie
public class WebDownloadItem { public init() }
```
功能： 表示下载任务。可以使用此对象来操作相应的下载任务。


### WebDownloadManager

class WebDownloadManager
```cangjie
public class WebDownloadManager {}
```
功能： 恢复失败下载任务的管理类。


### WebHttpBodyStream

class WebHttpBodyStream
```cangjie
public class WebHttpBodyStream {}
```
功能： POST、PUT请求的数据体。支持BYTES、FILE、BLOB、CHUNKED类型的数据。


### WebMessageExt

class WebMessageExt
```cangjie
public class WebMessageExt { public init() }
```
功能： WebMessagePort 接收、发送的数据对象。


### WebMessagePort

class WebMessagePort
```cangjie
public class WebMessagePort {}
```
功能： 通过WebMessagePort可以进行消息的发送以及接收。

#### prop isExtentionType

```cangjie
public prop isExtentionType: Bool
```
功能： 判断创建WebMessagePort时是否指定使用扩展增强接口， postMessageEventExt 、 onMessageEventExt 。
Type: Bool; Readable: true; Writable: false


### WebResourceHandler

class WebResourceHandler
```cangjie
public class WebResourceHandler {}
```
功能： 通过WebResourceHandler，可以提供自定义的返回头以及返回体给Web组件。


### WebSchemeHandler

class WebSchemeHandler
```cangjie
public class WebSchemeHandler { public init() }
```
功能： 用于拦截指定scheme请求的拦截器。


### WebSchemeHandlerRequest

class WebSchemeHandlerRequest
```cangjie
public class WebSchemeHandlerRequest {}
```
功能： 通过 WebSchemeHandler 拦截到的请求。


### WebSchemeHandlerResponse

class WebSchemeHandlerResponse
```cangjie
public class WebSchemeHandlerResponse { public init() }
```
功能： 请求的响应，可以为被拦截的请求创建一个Response，并填充自定义的内容返回给Web组件。


### WebStorage

class WebStorage
```cangjie
public class WebStorage {}
```
功能： 通过WebStorage可管理Web SQL数据库接口和HTML5 Web存储接口，每个应用中的所有Web组件共享一个WebStorage。


### WebviewController

class WebviewController
```cangjie
public class WebviewController { public init() public init(webTag: String) }
```
功能： 清除主名称所拥有的的IP地址。


### CacheOptions

class CacheOptions
```cangjie
public class CacheOptions { public CacheOptions( public var responseHeaders: Array<WebHeader> ) }
```
功能： Web组件预编译JavaScript生成字节码缓存的配置对象，用于控制字节码缓存更新。

#### var responseHeaders

```cangjie
public var responseHeaders: Array<WebHeader>
```
功能： 请求此JavaScript文件时服务器返回的响应头，使用E-Tag或Last-Modified标识文件版本，判断是否需要更新。
Type: Array< WebHeader >; Readable: true; Writable: true


### Error

class Error
```cangjie
public class Error { public Error( public let errorName: String, public let errorMsg: String ) }
```
功能： WebMessageExt 设置或返回的错误对象类型的数据。

#### let errorMsg

```cangjie
public let errorMsg: String
```
功能： 错误信息。
Type: String; Readable: true; Writable: false

#### let errorName

```cangjie
public let errorName: String
```
功能： 错误名。
Type: String; Readable: true; Writable: false


### HistoryItem

class HistoryItem
```cangjie
public class HistoryItem { public HistoryItem( public let icon: ?PixelMap, public let historyUrl: String, public let historyRawUrl: String, public let title: String ) }
```
功能： 页面历史记录项。

#### let historyRawUrl

```cangjie
public let historyRawUrl: String
```
功能： 历史记录项的原始URL地址。
Type: String; Readable: true; Writable: false

#### let historyUrl

```cangjie
public let historyUrl: String
```
功能： 历史记录项的URL地址。
Type: String; Readable: true; Writable: false

#### let icon

```cangjie
public let icon: ?PixelMap
```
功能： 历史页面图标的PixelMap对象。
Type: ? PixelMap; Readable: true; Writable: false

#### let title

```cangjie
public let title: String
```
功能： 历史记录项的标题。
Type: String; Readable: true; Writable: false


### HitTestValue

class HitTestValue
```cangjie
public class HitTestValue {}
```
功能： 提供点击区域的元素信息。示例代码参考 getHitTestValue 。

#### let extra

```cangjie
public let extra: String
```
功能： 点击区域的附加参数信息。若被点击区域为图片或链接，则附加参数信息为其URL地址。
Type: String; Readable: true; Writable: false

#### let hitTestType

```cangjie
public let hitTestType: WebHitTestType
```
功能： 当前被点击区域的元素类型。
Type: WebHitTestType; Readable: true; Writable: false


### MediaInfo

class MediaInfo
```cangjie
public class MediaInfo { public MediaInfo( public let embedID: String, public let mediaType: MediaType, public let mediaSrcList: Array<MediaSourceInfo>, public let surfaceInfo: NativeMediaPlayerSurfaceInfo, public let controlsShown: Bool, public let controlList: Array<String>, public let muted: Bool, public let posterUrl: String, public let preload: Preload, public let headers: HashMap<String, String>, public let attributes: HashMap<String, String> ) }
```
功能： CreateNativeMediaPlayerCallback 回调函数的一个参数。

#### let attributes

```cangjie
public let attributes: HashMap<String, String>
```
功能： <video> 或 <audio> 标签中的属性。
Type: HashMap<String, String>; Readable: true; Writable: false

#### let controlList

```cangjie
public let controlList: Array<String>
```
功能： <video> 或 <audio> 中的 controlslist 属性的值。
Type: Array<String>; Readable: true; Writable: false

#### let controlsShown

```cangjie
public let controlsShown: Bool
```
功能： <video> 或 <audio> 中是否有 controls 属性。
Type: Bool; Readable: true; Writable: false

#### let embedID

```cangjie
public let embedID: String
```
功能： 网页中的 <video> 或 <audio> 的ID。
Type: String; Readable: true; Writable: false

#### let headers

```cangjie
public let headers: HashMap<String, String>
```
功能： 播放器请求媒体资源时，需要携带的 HTTP 头。
Type: HashMap<String, String>; Readable: true; Writable: false

#### let mediaSrcList

```cangjie
public let mediaSrcList: Array<MediaSourceInfo>
```
功能： 媒体的源。可能有多个源，应用需要选择一个支持的源来播放。
Type: Array< MediaSourceInfo >; Readable: true; Writable: false

#### let mediaType

```cangjie
public let mediaType: MediaType
```
功能： 媒体的类型。
Type: MediaType; Readable: true; Writable: false

#### let muted

```cangjie
public let muted: Bool
```
功能： 是否要求静音播放。
Type: Bool; Readable: true; Writable: false

#### let posterUrl

```cangjie
public let posterUrl: String
```
功能： 海报的地址。
Type: String; Readable: true; Writable: false

#### let preload

```cangjie
public let preload: Preload
```
功能： 是否需要预加载。
Type: Preload; Readable: true; Writable: false

#### let surfaceInfo

```cangjie
public let surfaceInfo: NativeMediaPlayerSurfaceInfo
```
功能： 用于同层渲染的surface信息。
Type: NativeMediaPlayerSurfaceInfo; Readable: true; Writable: false


### OfflineResourceMap

class OfflineResourceMap
```cangjie
public class OfflineResourceMap { public OfflineResourceMap( var urlList: Array<String>, var resource: Array<UInt8>, var responseHeaders: Array<WebHeader>, var _type: OfflineResourceType ) }
```
功能： 本地离线资源配置对象，用于配置将被 injectOfflineResources 接口注入到内存缓存的本地离线资源的相关信息，内核会根据此信息生成资源缓存，并据此控制缓存的有效期。


### RectEvent

class RectEvent
```cangjie
public class RectEvent { public RectEvent ( public let x: Float64, public let y: Float64, public let width: Float64, public let height: Float64 ) }
```
功能： 矩形定义。

#### let height

```cangjie
public let height: Float64
```
功能： 矩形的高度。
Type: Float64; Readable: true; Writable: false

#### let width

```cangjie
public let width: Float64
```
功能： 矩形的宽度。
Type: Float64; Readable: true; Writable: false

#### let x

```cangjie
public let x: Float64
```
功能： 矩形区域左上角x坐标。
Type: Float64; Readable: true; Writable: false

#### let y

```cangjie
public let y: Float64
```
功能： 矩形区域左上角y坐标。
Type: Float64; Readable: true; Writable: false


### RequestInfo

class RequestInfo
```cangjie
public class RequestInfo { public RequestInfo( public var url: String, public var method: String, public var formData: String ) }
```
功能： Web组件发送的资源请求信息。

#### var formData

```cangjie
public var formData: String
```
功能： 请求的表单数据。
Type: String; Readable: true; Writable: true

#### var method

```cangjie
public var method: String
```
功能： 请求的方法。
Type: String; Readable: true; Writable: true

#### var url

```cangjie
public var url: String
```
功能： 请求的链接。
Type: String; Readable: true; Writable: true


### SnapshotInfo

class SnapshotInfo
```cangjie
public class SnapshotInfo { public SnapshotInfo( public var id!: String = "", public var size!: SizeOptions = SizeOptions() ) }
```
功能： 获取全量绘制结果入参。

#### var id

```cangjie
public var id: String = ""
```
功能： snapshot的id。
Type: String; Readable: true; Writable: true

#### var size

```cangjie
public var size: SizeOptions = SizeOptions()
```
功能： web绘制的尺寸，最多支持16000px * 16000px，长度单位支持px、vp、%，需保持不同参数传入长度单位一致，默认单位vp，超过规格时返回最大规格。只写数字时单位为vp。
Type: SizeOptions; Readable: true; Writable: true


### SnapshotResult

class SnapshotResult
```cangjie
public class SnapshotResult { public SnapshotResult( public var id: ?String, public var image: ?PixelMap, public var status: ?Bool, public var size: ?SizeOptions ) }
```
功能： 全量绘制回调结果。

#### var id

```cangjie
public var id: ?String
```
功能： snapshot的id。
Type: ?String; Readable: true; Writable: true

#### var image

```cangjie
public var image: ?PixelMap
```
功能： PixelMap 格式的全量绘制结果。
Type: PixelMap; Readable: true; Writable: true

#### var size

```cangjie
public var size: ?SizeOptions
```
功能： web绘制的真实尺寸，默认单位vp。
Type: SizeOptions; Readable: true; Writable: true

#### var status

```cangjie
public var status: ?Bool
```
功能： snapshot的状态，正常为true，失败为false，获取全量绘制结果失败，返回size的长宽都为0，map为空。
Type: ?Bool; Readable: true; Writable: true


### WebHeader

class WebHeader
```cangjie
public class WebHeader { public WebHeader( public var headerKey: String, public var headerValue: String ) }
```
功能： Web组件返回的请求/响应头对象。

#### var headerKey

```cangjie
public var headerKey: String
```
功能： 请求/响应头的key。
Type: String; Readable: true; Writable: true

#### var headerValue

```cangjie
public var headerValue: String
```
功能： 请求/响应头的value。
Type: String; Readable: true; Writable: true


### WebStorageOrigin

class WebStorageOrigin
```cangjie
public class WebStorageOrigin { public WebStorageOrigin( public var origin: String, public var quota: Int64, public var usage: Int64 ) }
```
功能： 提供Web SQL数据库的使用信息。

#### var origin

```cangjie
public var origin: String
```
功能： 指定源的字符串索引。
Type: String; Readable: true; Writable: true

#### var quota

```cangjie
public var quota: Int64
```
功能： 指定源的存储配额。
Type: Int64; Readable: true; Writable: true

#### var usage

```cangjie
public var usage: Int64
```
功能： 指定源的存储量。
Type: Int64; Readable: true; Writable: true



## Structs

### SizeOptions

struct SizeOptions
```cangjie
public struct SizeOptions { public SizeOptions( public var width!: Length = 0.vp, public var height!: Length = 0.vp ) {} }
```
功能： 设置宽高尺寸。



## Enums

### JsMessageType

enum JsMessageType
```cangjie
public enum JsMessageType <: Equatable<JsMessageType> & ToString { | NOTSUPPORT | STRING | NUMBER | BOOLEAN | ARRAY_BUFFER | ARRAY | ... }
```
功能： runJavaScirptExt 脚本执行后返回的结果的类型。

#### ARRAY

```cangjie
ARRAY
```
功能： 数组类型。

#### ARRAY_BUFFER

```cangjie
ARRAY_BUFFER
```
功能： 原始二进制数据缓冲区。

#### BOOLEAN

```cangjie
BOOLEAN
```
功能： 布尔类型。

#### NOTSUPPORT

```cangjie
NOTSUPPORT
```
功能： 用于描述 webMessagePort 所支持的数据类型。

#### NUMBER

```cangjie
NUMBER
```
功能： 数值类型。

#### STRING

```cangjie
STRING
```
功能： 字符串类型。


### MediaError

enum MediaError
```cangjie
public enum MediaError <: Equatable<MediaError> & ToString { | NETWORK_ERROR | FORMAT_ERROR | DECODE_ERROR | ... }
```
功能： 播放器的错误类型。

#### DECODE_ERROR

```cangjie
DECODE_ERROR
```
功能： 解码错误。

#### FORMAT_ERROR

```cangjie
FORMAT_ERROR
```
功能： 媒体格式错误。

#### NETWORK_ERROR

```cangjie
NETWORK_ERROR
```
功能： 网络错误。


### MediaPlaybackState

enum MediaPlaybackState
```cangjie
public enum MediaPlaybackState <: Equatable<MediaPlaybackState> & ToString { | NONE | PLAYING | PAUSED | STOPPED | ... }
```
功能： 当前网页的播控状态。

#### NONE

```cangjie
NONE
```
功能： 表示页面无音视频启播。

#### PAUSED

```cangjie
PAUSED
```
功能： 表示页面音视频暂停。

#### PLAYING

```cangjie
PLAYING
```
功能： 表示页面音视频播放中。

#### STOPPED

```cangjie
STOPPED
```
功能： 表示页面音视频停止。


### MediaType

enum MediaType
```cangjie
public enum MediaType <: Equatable<MediaType> & ToString { | AUDIO | VIDEO | ... }
```
功能： 表示媒体类型。

#### AUDIO

```cangjie
AUDIO
```
功能： 视频。

#### VIDEO

```cangjie
VIDEO
```
功能： 音频。


### MessageArrayValue

enum MessageArrayValue
```cangjie
public enum MessageArrayValue <: Equatable<MessageArrayValue> & ToString { | ARRAYSTRING(Array<String>) | ARRAYI64(Array<Int64>) | ARRAYF64(Array<Float64>) | ARRAYBOOL(Array<Bool>) | ... }
```
功能： 数组类型数据。

#### ARRAYBOOL(Array<Bool>)

```cangjie
ARRAYBOOL(Array<Bool>)
```
功能： Bool数组类型数据。

#### ARRAYF64(Array<Float64>)

```cangjie
ARRAYF64(Array<Float64>)
```
功能： Float64数组类型数据。

#### ARRAYI64(Array<Int64>)

```cangjie
ARRAYI64(Array<Int64>)
```
功能： Int64数组类型数据。

#### ARRAYSTRING(Array<String>)

```cangjie
ARRAYSTRING(Array<String>)
```
功能： 字符串数组类型数据。


### NetworkState

enum NetworkState
```cangjie
public enum NetworkState <: Equatable<NetworkState> & ToString { | EMPTY | IDLE | LOADING | NETWORK_ERROR | ... }
```
功能： 播放器的网络状态。

#### EMPTY

```cangjie
EMPTY
```
功能： 播放器还没有开始下载数据。

#### IDLE

```cangjie
IDLE
```
功能： 播放器网络状态空闲，比如媒体分片下载完成，下一个分片还没有开始下载。

#### LOADING

```cangjie
LOADING
```
功能： 播放器正在下载媒体数据。

#### NETWORK_ERROR

```cangjie
NETWORK_ERROR
```
功能： 发生了网络错误。


### OfflineResourceType

enum OfflineResourceType
```cangjie
public enum OfflineResourceType <: Equatable<OfflineResourceType> & ToString { | IMAGE | CSS | CLASSIC_JS | MODULE_JS | ... }
```
功能： 本地离线资源的接口类型。

#### CLASSIC_JS

```cangjie
CLASSIC_JS
```
功能： 通过<script src=“” />标签加载的Javascript资源。

#### CSS

```cangjie
CSS
```
功能： CSS类型的资源。

#### IMAGE

```cangjie
IMAGE
```
功能： 图片类型的资源。

#### MODULE_JS

```cangjie
MODULE_JS
```
功能： 通过<script src=“” type=“module” />标签加载的Javascript资源。


### PlaybackStatus

enum PlaybackStatus
```cangjie
public enum PlaybackStatus <: Equatable<PlaybackStatus> & ToString { | PAUSED | PLAYING | ... }
```
功能： 用于表示播放器的播放状态。

#### PAUSED

```cangjie
PAUSED
```
功能： 前台不可交互状态，例如从屏幕底部上划，应用进入到多任务界面后的状态。

#### PLAYING

```cangjie
PLAYING
```
功能： 表示页面音视频播放中。


### Preload

enum Preload
```cangjie
public enum Preload <: Equatable<Preload> & ToString { | NONE | METADATA | AUTO | ... }
```
功能： 播放器预加载媒体数据。

#### AUTO

```cangjie
AUTO
```
功能： 预加载足够多的媒体数据，以保证能流畅地播放。

#### METADATA

```cangjie
METADATA
```
功能： 只预加载媒体的元数据。

#### NONE

```cangjie
NONE
```
功能： 不预加载。


### ReadyState

enum ReadyState
```cangjie
public enum ReadyState <: Equatable<ReadyState> & ToString { | HAVE_NOTHING | HAVE_METADATA | HAVE_CURRENT_DATA | HAVE_FUTURE_DATA | HAVE_ENOUGH_DATA | ... }
```
功能： 播放器的缓存状态。

#### HAVE_CURRENT_DATA

```cangjie
HAVE_CURRENT_DATA
```
功能： 表示只缓存到当前的播放进度。

#### HAVE_ENOUGH_DATA

```cangjie
HAVE_ENOUGH_DATA
```
功能： 表示缓存了足够的数据，保证播放流畅。

#### HAVE_FUTURE_DATA

```cangjie
HAVE_FUTURE_DATA
```
功能： 表示缓存时长超过了当前的播放进度, 但是仍有可能导致卡顿。

#### HAVE_METADATA

```cangjie
HAVE_METADATA
```
功能： 表示只缓存了媒体元数据。

#### HAVE_NOTHING

```cangjie
HAVE_NOTHING
```
功能： 表示没有缓存。


### RenderProcessMode

enum RenderProcessMode
```cangjie
public enum RenderProcessMode <: Equatable<RenderProcessMode> & ToString { | SINGLE | MULTIPLE | ... }
```
功能： ArkWeb渲染子进程模式类型。

#### MULTIPLE

```cangjie
MULTIPLE
```
功能： ArkWeb多渲染子进程模式。该模式下，每个Web一个渲染子进程。

#### SINGLE

```cangjie
SINGLE
```
功能： ArkWeb单渲染子进程模式。该模式下，多个Web复用一个渲染子进程。


### SecureDnsMode

enum SecureDnsMode
```cangjie
public enum SecureDnsMode <: Equatable<SecureDnsMode> & ToString { | SECURE_ONLY | AUTO | OFF | ... }
```
功能： Web组件使用HTTPDNS的模式。

#### AUTO

```cangjie
AUTO
```
功能： 自动模式，用于解析的设定dns服务器不可用时，可自动回落至系统DNS。

#### OFF

```cangjie
OFF
```
功能： 不使用HTTPDNS，可以用于撤销之前使用的HTTPDNS配置。

#### SECURE_ONLY

```cangjie
SECURE_ONLY
```
功能： 强制使用设定的HTTPDNS服务器进行域名解析。


### SecurityLevel

enum SecurityLevel
```cangjie
public enum SecurityLevel <: Equatable<SecurityLevel> & ToString { | NONE | SECURE | WARNING | DANGEROUS | ... }
```
功能： 当前网页的安全级别。

#### DANGEROUS

```cangjie
DANGEROUS
```
功能： 页面不安全。尝试HTTPS并失败、页面未通过身份验证、页面上包含不安全活动内容的HTTPS、恶意软件、网络钓鱼或任何其他可能危险的严重安全问题。

#### NONE

```cangjie
NONE
```
功能： 页面既不绝对安全，也不是不安全，即是中立。例如，部分scheme非http/https的URL。

#### SECURE

```cangjie
SECURE
```
功能： 页面安全，页面使用的是HTTPS协议，且使用了信任的证书。

#### WARNING

```cangjie
WARNING
```
功能： 页面不安全。例如，使用HTTP协议或使用HTTPS协议但使用旧版TLS版本。


### SourceType

enum SourceType
```cangjie
public enum SourceType <: Equatable<SourceType> & ToString { | URL | MSE | ... }
```
功能： 表示媒体源的类型。

#### MSE

```cangjie
MSE
```
功能： 媒体源的类型是blob。

#### URL

```cangjie
URL
```
功能： 媒体源的类型是URL。


### SuspendType

enum SuspendType
```cangjie
public enum SuspendType <: Equatable<SuspendType> & ToString { | ENTER_BACK_FORWARD_CACHE | ENTER_BACKGROUND | AUTO_CLEANUP | ... }
```
功能： 表示播放器的挂起类型。

#### AUTO_CLEANUP

```cangjie
AUTO_CLEANUP
```
功能： 系统自动清理。

#### ENTER_BACKGROUND

```cangjie
ENTER_BACKGROUND
```
功能： 页面进后台。

#### ENTER_BACK_FORWARD_CACHE

```cangjie
ENTER_BACK_FORWARD_CACHE
```
功能： 页面进BFCache。


### WebDownloadErrorCode

enum WebDownloadErrorCode
```cangjie
public enum WebDownloadErrorCode <: Equatable<WebDownloadErrorCode> & ToString { | ERROR_UNKNOWN | FILE_FAILED | FILE_ACCESS_DENIED | FILE_NO_SPACE | FILE_NAME_TOO_LONG | FILE_TOO_LARGE | FILE_TRANSIENT_ERROR | FILE_BLOCKED | FILE_TOO_SHORT | FILE_HASH_MISMATCH | FILE_SAME_AS_SOURCE | NETWORK_FAILED | NETWORK_TIMEOUT | NETWORK_DISCONNECTED | NETWORK_SERVER_DOWN | NETWORK_INVALID_REQUEST | SERVER_FAILED | SERVER_NO_RANGE | SERVER_BAD_CONTENT | SERVER_UNAUTHORIZED | SERVER_CERT_PROBLEM | SERVER_FORBIDDEN | SERVER_UNREACHABLE | SERVER_CONTENT_LENGTH_MISMATCH | SERVER_CROSS_ORIGIN_REDIRECT | USER_CANCELED | USER_SHUTDOWN | CRASH | ... }
```
功能： 下载任务的错误码。

#### CRASH

```cangjie
CRASH
```
功能： 应用发生了崩溃。

#### ERROR_UNKNOWN

```cangjie
ERROR_UNKNOWN
```
功能： 未知的错误。

#### FILE_ACCESS_DENIED

```cangjie
FILE_ACCESS_DENIED
```
功能： 没有权限访问文件。

#### FILE_BLOCKED

```cangjie
FILE_BLOCKED
```
功能： 由于某些本地策略，文件被阻止访问。

#### FILE_FAILED

```cangjie
FILE_FAILED
```
功能： 常规文件操作失败。

#### FILE_HASH_MISMATCH

```cangjie
FILE_HASH_MISMATCH
```
功能： 哈希不匹配。

#### FILE_NAME_TOO_LONG

```cangjie
FILE_NAME_TOO_LONG
```
功能： 文件名字过长。

#### FILE_NO_SPACE

```cangjie
FILE_NO_SPACE
```
功能： 磁盘没有足够的空间。

#### FILE_SAME_AS_SOURCE

```cangjie
FILE_SAME_AS_SOURCE
```
功能： 文件已存在。

#### FILE_TOO_LARGE

```cangjie
FILE_TOO_LARGE
```
功能： 文件太大。

#### FILE_TOO_SHORT

```cangjie
FILE_TOO_SHORT
```
功能： 当尝试恢复下载时，发现文件不够长，可能该文件已不存在。

#### FILE_TRANSIENT_ERROR

```cangjie
FILE_TRANSIENT_ERROR
```
功能： 出现了一些临时问题，例如内存不足、文件正在使用以及同时打开的文件过多。

#### NETWORK_DISCONNECTED

```cangjie
NETWORK_DISCONNECTED
```
功能： 网络断开连接。

#### NETWORK_FAILED

```cangjie
NETWORK_FAILED
```
功能： 一般网络错误。

#### NETWORK_INVALID_REQUEST

```cangjie
NETWORK_INVALID_REQUEST
```
功能： 无效的网络请求，可能重定向到不支持的方案或无效的URL。

#### NETWORK_SERVER_DOWN

```cangjie
NETWORK_SERVER_DOWN
```
功能： 服务器关闭。

#### NETWORK_TIMEOUT

```cangjie
NETWORK_TIMEOUT
```
功能： 网络超时。

#### SERVER_BAD_CONTENT

```cangjie
SERVER_BAD_CONTENT
```
功能： 服务器没有请求的数据。

#### SERVER_CERT_PROBLEM

```cangjie
SERVER_CERT_PROBLEM
```
功能： 服务器证书错误。

#### SERVER_CONTENT_LENGTH_MISMATCH

```cangjie
SERVER_CONTENT_LENGTH_MISMATCH
```
功能： 接收到的数据与内容长度不匹配。

#### SERVER_CROSS_ORIGIN_REDIRECT

```cangjie
SERVER_CROSS_ORIGIN_REDIRECT
```
功能： 发生意外的跨站重定向。

#### SERVER_FAILED

```cangjie
SERVER_FAILED
```
功能： 服务器返回了一个一般性错误。

#### SERVER_FORBIDDEN

```cangjie
SERVER_FORBIDDEN
```
功能： 服务器访问被禁止。

#### SERVER_NO_RANGE

```cangjie
SERVER_NO_RANGE
```
功能： 服务器不支持范围请求。

#### SERVER_UNAUTHORIZED

```cangjie
SERVER_UNAUTHORIZED
```
功能： 服务器不允许下载该文件。

#### SERVER_UNREACHABLE

```cangjie
SERVER_UNREACHABLE
```
功能： 无法访问服务器。

#### USER_CANCELED

```cangjie
USER_CANCELED
```
功能： 用户取消了下载。

#### USER_SHUTDOWN

```cangjie
USER_SHUTDOWN
```
功能： 用户关闭了应用。


### WebDownloadState

enum WebDownloadState
```cangjie
public enum WebDownloadState <: Equatable<WebDownloadState> & ToString { | IN_PROGRESS | COMPLETE | CANCELED | INTERRUPTED | PENDING | PAUSED | UNKNOWN | ... }
```
功能： 下载任务的状态。

#### CANCELED

```cangjie
CANCELED
```
功能： 下载任务已经被取消。

#### COMPLETE

```cangjie
COMPLETE
```
功能： 获取下载的进度，100代表下载完成。

#### INTERRUPTED

```cangjie
INTERRUPTED
```
功能： 下载任务被中断。

#### IN_PROGRESS

```cangjie
IN_PROGRESS
```
功能： 下载任务正在进行中。

#### PAUSED

```cangjie
PAUSED
```
功能： 下载任务已经被暂停。

#### PENDING

```cangjie
PENDING
```
功能： 下载任务等待开始。

#### UNKNOWN

```cangjie
UNKNOWN
```
功能： 下载任务未知状态。


### WebHitTestType

enum WebHitTestType
```cangjie
public enum WebHitTestType <: Equatable<WebHitTestType> & ToString { | EditText | Email | HttpAnchor | HttpAnchorImg | Img | Map | Phone | Unknown | ... }
```
功能： getHitTest 用于指示游标节点。

#### EditText

```cangjie
EditText
```
功能： 可编辑的区域。

#### Email

```cangjie
Email
```
功能： 电子邮件地址。

#### HttpAnchor

```cangjie
HttpAnchor
```
功能： 超链接，其中src为http。

#### HttpAnchorImg

```cangjie
HttpAnchorImg
```
功能： 带有超链接的图片，其中src为http+HTML::img。

#### Img

```cangjie
Img
```
功能： HTML::img标签。

#### Map

```cangjie
Map
```
功能： 地理地址。

#### Phone

```cangjie
Phone
```
功能： 电话号码。

#### Unknown

```cangjie
Unknown
```
功能： 未知内容。


### WebMessage

enum WebMessage
```cangjie
public enum WebMessage <: Equatable<WebMessage> & ToString { | STRING(String) | ARRAY_BUFFER(Array<UInt8>) | ... }
```
功能： 用于描述 WebMessagePort 所支持的数据类型。

#### ARRAY_BUFFER(Array<UInt8>)

```cangjie
ARRAY_BUFFER(Array<UInt8>)
```
功能： 二进制类型数据。

#### STRING(String)

```cangjie
STRING(String)
```
功能： 字符串类型数据。


### WebMessageType

enum WebMessageType
```cangjie
public enum WebMessageType <: Equatable<WebMessageType> & ToString { | NOTSUPPORT | STRING | NUMBER | BOOLEAN | ARRAY_BUFFER | ARRAY | ERROR | ... }
```
功能： 用于描述webMessagePort所支持的数据类型。

#### ARRAY

```cangjie
ARRAY
```
功能： 数组类型。

#### ARRAY_BUFFER

```cangjie
ARRAY_BUFFER
```
功能： 原始二进制数据缓冲区。

#### BOOLEAN

```cangjie
BOOLEAN
```
功能： 布尔类型。

#### ERROR

```cangjie
ERROR
```
功能： 错误类型。

#### NOTSUPPORT

```cangjie
NOTSUPPORT
```
功能： 不支持的数据类型。

#### NUMBER

```cangjie
NUMBER
```
功能： 数值类型。

#### STRING

```cangjie
STRING
```
功能： 字符串类型。


### WebResourceType

enum WebResourceType
```cangjie
public enum WebResourceType <: Equatable<WebResourceType> & ToString { | MAIN_FRAME | SUB_FRAME | STYLE_SHEET | SCRIPT | IMAGE | FONT_RESOURCE | SUB_RESOURCE | OBJECT | MEDIA | WORKER | SHARED_WORKER | PREFETCH | FAVICON | XHR | PING | SERVICE_WORKER | CSP_REPORT | PLUGIN_RESOURCE | NAVIGATION_PRELOAD_MAIN_FRAME | NAVIGATION_PRELOAD_SUB_FRAME | ... }
```
功能： 资源请求的资源类型。

#### CSP_REPORT

```cangjie
CSP_REPORT
```
功能： 内容安全策略违规报告。

#### FAVICON

```cangjie
FAVICON
```
功能： 网站图标。

#### FONT_RESOURCE

```cangjie
FONT_RESOURCE
```
功能： 字体。

#### IMAGE

```cangjie
IMAGE
```
功能： 图片（jpg/gif/png/以及其他）。

#### MAIN_FRAME

```cangjie
MAIN_FRAME
```
功能： 顶层页面。

#### MEDIA

```cangjie
MEDIA
```
功能： 媒体资源。

#### NAVIGATION_PRELOAD_MAIN_FRAME

```cangjie
NAVIGATION_PRELOAD_MAIN_FRAME
```
功能： 触发service worker预热的主frame跳转请求。

#### NAVIGATION_PRELOAD_SUB_FRAME

```cangjie
NAVIGATION_PRELOAD_SUB_FRAME
```
功能： 触发service worker预热的子frame跳转请求。

#### OBJECT

```cangjie
OBJECT
```
功能： 插件的Object（或embed）标签，或者插件请求的资源。

#### PING

```cangjie
PING
```
功能： <a ping>/sendBeacon的Ping请求。

#### PLUGIN_RESOURCE

```cangjie
PLUGIN_RESOURCE
```
功能： 插件请求的资源。

#### PREFETCH

```cangjie
PREFETCH
```
功能： 明确的预取请求。

#### SCRIPT

```cangjie
SCRIPT
```
功能： 外部脚本。

#### SERVICE_WORKER

```cangjie
SERVICE_WORKER
```
功能： service worker的主资源。

#### SHARED_WORKER

```cangjie
SHARED_WORKER
```
功能： 共享工作线程的主资源。

#### STYLE_SHEET

```cangjie
STYLE_SHEET
```
功能： CSS样式表。

#### SUB_FRAME

```cangjie
SUB_FRAME
```
功能： Frame或Iframe。

#### SUB_RESOURCE

```cangjie
SUB_RESOURCE
```
功能： 其他子资源。如果实际类型未知，则是默认类型。

#### WORKER

```cangjie
WORKER
```
功能： 专用工作线程的主资源。

#### XHR

```cangjie
XHR
```
功能： XMLHttpRequest。



## Types

### CreateNativeMediaPlayerCallback

type CreateNativeMediaPlayerCallback
```cangjie
public type CreateNativeMediaPlayerCallback = (handler: NativeMediaPlayerHandler, mediaInfo: MediaInfo) -> NativeMediaPlayerBridge
```
功能： CreateNativeMediaPlayerCallback 是(handler: NativeMediaPlayerHandler, mediaInfo: MediaInfo) -> NativeMediaPlayerBridge类型的别名。



