# 自定义弹窗（CustomDialog）

通过CustomDialogController类显示自定义弹窗。使用弹窗组件时，可优先考虑自定义弹窗，便于自定义弹窗的样式与内容。

## Classes

### CustomDialogController

class CustomDialogController
```cangjie
public class CustomDialogController { public init(options: CustomDialogControllerOptions) }
```
功能： 构造一个CustomDialogController类型的对象。


### CustomDialogControllerOptions

class CustomDialogControllerOptions
```cangjie
public class CustomDialogControllerOptions { public var cancel:() -> Unit public var autoCancel: Bool public var alignment: DialogAlignment public var offset: Offset public var customStyle: Bool public var gridCount: Option<Int32> public var maskColor: ResourceColor public var maskRect: Rectangle public var openAnimation: Option<AnimateParam> public var closeAnimation: Option<AnimateParam> public var showInSubWindow: Bool public var backgroundColor: Option<ResourceColor> public var cornerRadius: Length public var isModal: Option<Bool> public var onWillDismiss: Option <(DismissDialogAction) -> Unit> public var borderWidth: Option<Length> public var borderColor: Option<ResourceColor> public var borderStyle: Option<EdgeStyle> public var width: Option<Length> public var height: Option<Length> public var shadow: Option<ShadowOptions> public var backgroundBlurStyle: Option<BlurStyle> public init( cancel!: () -> Unit = { => }, autoCancel!: Bool = true, alignment!: DialogAlignment = DialogAlignment.Default, offset!: Offset = Offset(0.vp, 0.vp), customStyle!: Bool = false, gridCount!: Option<Int32> = Option.None, maskColor!: ResourceColor = Color(0x33000000), maskRect!: Rectangle = Rectangle(), openAnimation!: Option<AnimateParam> = Option.None, closeAnimation!: Option<AnimateParam> = Option.None, showInSubWindow!: Bool = false, backgroundColor!: Option<ResourceColor> = Option.None, cornerRadius!: Length = 24.vp, isModal!: Option<Bool> = true, onWillDismiss!: Option<(DismissDialogAction) -> Unit> = Option.None, borderWidth!: Option<Length> = 0.vp, borderColor!: Option<ResourceColor> = Color.BLACK, borderStyle!: Option<EdgeStyle> = EdgeStyle.SOILD, width!: Option<Length> = Option<Length>.None, height!: Option<Length> = Option<Length>.None, shadow!: Option<ShadowOptions> = Option<ShadowOptions>.None, backgroundBlurStyle!: Option<BlurStyle> = BlurStyle.COMPONENT_ULTRA_THICK ) }
```
功能： 声明自定义弹窗相关设置的参数。

#### var alignment

```cangjie
public var alignment: DialogAlignment
```
功能： 弹窗在竖直方向上的对齐方式。
Type: DialogAlignment; Readable: true; Writable: true

#### var autoCancel

```cangjie
public var autoCancel: Bool
```
功能： 是否允许点击遮障层退出。true表示关闭弹窗，false表示不关闭弹窗。
Type: Bool; Readable: true; Writable: true

#### var backgroundBlurStyle

```cangjie
public var backgroundBlurStyle: Option<BlurStyle>
```
功能： 弹窗背板模糊材质。
Type: Option< BlurStyle >; Readable: true; Writable: true

#### var backgroundColor

```cangjie
public var backgroundColor: Option<ResourceColor>
```
功能： 设置弹窗背板填充。
Type: Option< ResourceColor >; Readable: true; Writable: true

#### var borderColor

```cangjie
public var borderColor: Option<ResourceColor>
```
功能： 设置弹窗背板的边框颜色。
Type: Option< ResourceColor >; Readable: true; Writable: true

#### var borderStyle

```cangjie
public var borderStyle: Option<EdgeStyle>
```
功能： 设置弹窗背板的边框样式。
Type: Option< EdgeStyle >; Readable: true; Writable: true

#### var borderWidth

```cangjie
public var borderWidth: Option<Length>
```
功能： 设置弹窗背板的边框宽度。
Type: Option< Length >; Readable: true; Writable: true

#### var cancel

```cangjie
public var cancel:() -> Unit
```
功能： 返回、ESC键和点击遮障层弹窗退出时的回调。
Type: ()->Unit; Readable: true; Writable: true

#### var closeAnimation

```cangjie
public var closeAnimation: Option<AnimateParam>
```
功能： 自定义设置弹窗关闭的动画效果相关参数。
Type: Option< AnimateParam >; Readable: true; Writable: true

#### var cornerRadius

```cangjie
public var cornerRadius: Length
```
功能： 设置背板的圆角半径。
Type: Length; Readable: true; Writable: true

#### var customStyle

```cangjie
public var customStyle: Bool
```
功能： 弹窗容器样式是否自定义。
Type: Bool; Readable: true; Writable: true

#### var gridCount

```cangjie
public var gridCount: Option<Int32>
```
功能： 弹窗宽度占栅格宽度的个数。
Type: Option<Int32>; Readable: true; Writable: true

#### var height

```cangjie
public var height: Option<Length>
```
功能： 设置弹窗背板的高度。
Type: Option< Length >; Readable: true; Writable: true

#### var isModal

```cangjie
public var isModal: Option<Bool>
```
功能： 弹窗是否为模态窗口，模态窗口有蒙层，非模态窗口无蒙层。
Type: Option<Bool>; Readable: true; Writable: true

#### var maskColor

```cangjie
public var maskColor: ResourceColor
```
功能： 自定义蒙层颜色。
Type: ResourceColor; Readable: true; Writable: true

#### var maskRect

```cangjie
public var maskRect: Rectangle
```
功能： 弹窗遮蔽层区域，在遮蔽层区域内的事件不透传，在遮蔽层区域外的事件透传。
Type: Rectangle; Readable: true; Writable: true

#### var offset

```cangjie
public var offset: Offset
```
功能： 弹窗相对alignment所在位置的偏移量。
Type: Offset; Readable: true; Writable: true

#### var onWillDismiss

```cangjie
public var onWillDismiss: Option <(DismissDialogAction) -> Unit>
```
功能： 交互式关闭回调函数。
Type: Option<( DismissDialogAction )->Unit>; Readable: true; Writable: true

#### var openAnimation

```cangjie
public var openAnimation: Option<AnimateParam>
```
功能： 自定义设置弹窗弹出的动画效果相关参数。
Type: Option< AnimateParam >; Readable: true; Writable: true

#### var shadow

```cangjie
public var shadow: Option<ShadowOptions>
```
功能： 设置弹窗背板的阴影。
Type: Option< ShadowOptions >; Readable: true; Writable: true

#### var showInSubWindow

```cangjie
public var showInSubWindow: Bool
```
功能： 某弹框需要显示在主窗口之外时，是否在子窗口显示此弹窗。
Type: Bool; Readable: true; Writable: true

#### var width

```cangjie
public var width: Option<Length>
```
功能： 设置弹窗背板的宽度。
Type: Option< Length >; Readable: true; Writable: true



## Examples

```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*

@CustomDialog
class MyDialog {
 var controller: Option<CustomDialogController> = Option.None
 func build() {
 Row(60) {
 Button("cancel").onClick { evt =>
 controller?.close()
 }

 Button("confirm").onClick { evt =>
 controller?.close()
 }
 }.height(500.px)
 }
}

@Entry
@Component
class EntryView {
 var dialogController: CustomDialogController = CustomDialogController(CustomDialogControllerOptions(builder: MyDialog()))
 func build() {
 Column {
 Button("open dialog").onClick({evt =>
 dialogController.`open`()
 })
 }
 }
}
```

