# TextPicker

滑动选择文本内容的组件。

## Component Constructors

### public init(options:TextPickerOptions)

```cangjie
public init(options:TextPickerOptions)
```
功能： 根据range指定的选择范围创建文本选择器。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| TextPickerOptions | 是 | 配置文本选择器的参数。 | options | - |

### public init( range: Array<String>, selected!: Option<UInt32> = Option.None, value!: Option<String> = Option.None )

```cangjie
public init( range: Array<String>, selected!: Option<UInt32> = Option.None, value!: Option<String> = Option.None )
```
功能： 根据range指定的选择范围创建文本选择器。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Array<String> | 是 | 选择器的数据选择列表。不可设置为空数组，若设置为空数组，则不显示；若动态变化为空数组，则保持当前正常值显示。 | range | - |
| Option<UInt32> | 否 | 命名参数。 设置默认选中项在数组中的索引值。 初始值：0。 | selected | Option.None |
| Option<String> | 否 | 命名参数。 设置默认选中项的值，优先级低于selected。 初始值：第一个元素值。 说明： 只有显示文本列表时该值有效。显示图片或图片加文本的列表时，该值无效。 | value | Option.None |


## Functions

### public func canLoop(value: Bool): This

```cangjie
public func canLoop(value: Bool): This
```
功能： 设置是否可循环滚动。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 是否可循环滚动。 true：可循环，false：不可循环。 初始值：true。 | value | - |

### public func defaultPickerItemHeight(height: Length): This

```cangjie
public func defaultPickerItemHeight(height: Length): This
```
功能： 设置Picker各选择项的高度。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | Picker各选择项的高度。 | height | - |

### public func defaultPickerItemHeight(height: Float64): This

```cangjie
public func defaultPickerItemHeight(height: Float64): This
```
功能： 设置Picker各选择项的高度。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Float64 | 是 | Picker各选择项的高度。 | height | - |

### public func defaultPickerItemHeight(height: Int64): This

```cangjie
public func defaultPickerItemHeight(height: Int64): This
```
功能： 设置Picker各选择项的高度。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Int64 | 是 | Picker各选择项的高度。 | height | - |

### public func divider(value!: ?DividerOptions = None): This

```cangjie
public func divider(value!: ?DividerOptions = None): This
```
功能： 设置分割线样式，不设置该属性则按初始值展示分割线。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ? DividerOptions | 否 | 命名参数。 1.设置DividerOptions，则按设置的样式显示分割线。 初始值：DividerOptions(strokeWidth: 2.px,color:0x33000000) 2.设置为None时，不显示分割线。 | value | None |

### public func gradientHeight(value: Length): This

```cangjie
public func gradientHeight(value: Length): This
```
功能： 设置渐隐效果高度，不设置该属性则显示默认渐隐效果。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | 内容区上下边缘的渐隐高度（支持百分比，100.percent为TextPicker高度的一半即最大值），设置为0时不显示渐隐效果，负数等非法值显示默认渐隐效果。初始值为36.vp。 | value | - |

### public func selectedIndex(value: UInt32): This

```cangjie
public func selectedIndex(value: UInt32): This
```
功能： 单列数据选择器设置默认选中项在数组中的索引值，优先级高于options中的选中值。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| UInt32 | 是 | 默认选中项在数组中的索引值。 初始值：0。 | value | - |

### public func selectedIndex(value: Array<UInt32>): This

```cangjie
public func selectedIndex(value: Array<UInt32>): This
```
功能： 多列、多列联动数据选择器设置默认选中项在数组中的索引值，优先级高于options中的选中值。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Array<UInt32> | 是 | 默认选中项在数组中的索引值。初始值：0。 | value | - |

### public func selectedTextStyle(value: PickerTextStyle): This

```cangjie
public func selectedTextStyle(value: PickerTextStyle): This
```
功能： 设置选中项的文本颜色、字号、字体粗细。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| PickerTextStyle | 是 | 选中项的文本颜色、字号、字体粗细。 初始值：PickerTextStyle(0xff007dff, MyFont(size: 20.vp,weight: FontWeight.Medium)) | value | - |

### public func textStyle(value: PickerTextStyle): This

```cangjie
public func textStyle(value: PickerTextStyle): This
```
功能： 设置所有选项中除了最上、最下及选中项以外的文本颜色、字号、字体粗细。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| PickerTextStyle | 是 | 所有选项中除了最上、最下及选中项以外的文本颜色、字号、字体粗细。 初始值：PickerTextStyle(0xff007dff, MyFont(size: 20.vp,weight: FontWeight.Medium))。 | value | - |

### public func onChange(callback: (TextPickerResData)->Unit): This

```cangjie
public func onChange(callback: (TextPickerResData)->Unit): This
```
功能： 滑动选中TextPicker文本内容后，触发该回调。当显示文本或图片加文本列表时，value值为选中项中的文本值，当显示图片列表时，value值为空。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ( TextPickerResData )->Unit | 是 | 当前选中项的文本和索引值。 | callback | - |


## Classes

### TextCascadePickerRangeContent

class TextCascadePickerRangeContent
```cangjie
public class TextCascadePickerRangeContent { public TextCascadePickerRangeContent( public var text: String, public var children!: Option<Array<TextCascadePickerRangeContent>> = Option.None ) }
```
功能： 多列联动数据选择器的数据选择列表。

#### var children

```cangjie
public var children: Option<Array<TextCascadePickerRangeContent>>= Option.None
```
功能： 联动数据。
Type: Option<Array< TextCascadePickerRangeContent >>; Readable: true; Writable: true

#### var text

```cangjie
public var text: String
```
功能： 文本信息。
Type: String; Readable: true; Writable: true


### TextPickerOptions

class TextPickerOptions
```cangjie
public class TextPickerOptions { public TextPickerOptions( public var range : Array<String>, public var selected!: Option<UInt32> = Option.None, public var value!: Option<String> = Option.None ) }
```
功能： 配置文本选择器的参数。

#### var range

```cangjie
public var range: Array<String>
```
功能： 选择器的数据选择列表。不可设置为空数组，若设置为空数组，则不显示；若动态变化为空数组，则保持当前正常值显示。
Type: Array<String>; Readable: true; Writable: true

#### var selected

```cangjie
public var selected: Option<UInt32>= Option.None
```
功能： 设置默认选中项在数组中的索引值。
Type: Option<UInt32>; Readable: true; Writable: true

#### var value

```cangjie
public var value: Option<String>= Option.None
```
功能： 设置默认选中项的值，优先级低于selected。
Type: Option<String>; Readable: true; Writable: true


### TextPickerRangeContent

class TextPickerRangeContent
```cangjie
public class TextPickerRangeContent { public var icon: String public var text: Option<String> public init(icon: String,text!: ?String = None) public init(icon: AppResource,text!: ?String = None) public init(icon: String,text!: ?AppResource = None) public init(icon: AppResource,text!: ?AppResource = None) }
```
功能： 数据选择器数据选择列表。

#### var icon

```cangjie
public var icon: String
```
功能： 图片资源。
Type: String; Readable: true; Writable: true

#### var text

```cangjie
public var text: Option<String>
```
功能： 文本信息。
Type: Option<String>; Readable: true; Writable: true


### TextPickerResData

class TextPickerResData
```cangjie
public class TextPickerResData { public var value: String public var index: UInt32 public init(value: String, index: UInt32) }
```
功能： TextPickerResData用做onChange事件的参数，返回当前选择的文本index以及value。

#### var index

```cangjie
public var index: UInt32
```
功能： 当前选中项的索引值。
Type: UInt32; Readable: true; Writable: true

#### var value

```cangjie
public var value: String
```
功能： 当前选中项的文本。
Type: String; Readable: true; Writable: true


### RangeParams

class RangeParams (deprecated)
```cangjie
public class RangeParams { public var singlerange: Array<String> public var multirange: Array<Array<String>> public var cascaderange: Array<TextCascadePickerRangeContent> public init(singlerange: Array<String>) public init(multirange: Array<Array<String>>) public init(cascaderange: Array<TextCascadePickerRangeContent>) }
```
功能： 数据选择器可选择范围参数。

#### var cascaderange

```cangjie
public var cascaderange: Array<TextCascadePickerRangeContent>
```
功能： 级联范围参数。
Type: Array< TextCascadePickerRangeContent >; Readable: true; Writable: true

#### var multirange

```cangjie
public var multirange: Array<Array<String>>
```
功能： 多范围参数。
Type: Array<Array<String>>; Readable: true; Writable: true

#### var singlerange

```cangjie
public var singlerange: Array<String>
```
功能： 单范围参数。
Type: Array<String>; Readable: true; Writable: true


### SelectedParams

class SelectedParams (deprecated)
```cangjie
public class SelectedParams { public var selected: UInt32 public var selectedchangeEvent:(UInt32) -> Unit public init(selected!: UInt32 = 0) public init(selected!: (UInt32, (UInt32) -> Unit) = ( 0, {value => })) }
```
功能： 记录选择结果参数的结构。

#### var selected

```cangjie
public var selected: UInt32
```
功能： 选择结果所在结果数组的下标。
Type: UInt32; Readable: true; Writable: true

#### var selectedchangeEvent

```cangjie
public var selectedchangeEvent:(UInt32) -> Unit
```
功能： 选择结果改变时回调的事件。
Type: (UInt32)->Unit; Readable: true; Writable: true


### SelectedsParams

class SelectedsParams (deprecated)
```cangjie
public class SelectedsParams { public var selecteds: Option<Array<UInt32>> public var selectedschangeEvent:(Array<UInt32>) -> Unit public init(selecteds!: ?Array<UInt32> = None) public init(selecteds!: (?Array<UInt32>, (Array<UInt32>) -> Unit) = ( None, {values => })) }
```
功能： 记录选择结果参数的结构。

#### var selecteds

```cangjie
public var selecteds: Option<Array<UInt32>>
```
功能： 选择结果所在结果数组的下标。
Type: Option<Array<UInt32>>; Readable: true; Writable: true

#### var selectedschangeEvent

```cangjie
public var selectedschangeEvent:(Array<UInt32>) -> Unit
```
功能： 选择结果改变时回调的事件。
Type: (Array<UInt32>)->Unit; Readable: true; Writable: true


### ValueParams

class ValueParams (deprecated)
```cangjie
public class ValueParams { public var value: String public var valuechangeEvent:(String) -> Unit public init(value!: String="") public init(value!: (String, (String) -> Unit) = ( "", {value => })) }
```
功能： 记录文本选择器组件参数的结构。

#### var value

```cangjie
public var value: String
```
功能： 文本选择器的值参数。
Type: String; Readable: true; Writable: true

#### var valuechangeEvent

```cangjie
public var valuechangeEvent:(String) -> Unit
```
功能： 文本选择器值改变时回调的事件。
Type: (String)->Unit; Readable: true; Writable: true


### ValuesParams

class ValuesParams (deprecated)
```cangjie
public class ValuesParams { public var values: Option<Array<String>> public var valueschangeEvent:(Array<String>) -> Unit public init(values!: ?Array<String> = None) public init(values!: (?Array<String>, (Array<String>) -> Unit) = (None, {values => })) }
```
功能： 记录文本选择器组件参数的结构。

#### var values

```cangjie
public var values: Option<Array<String>>
```
功能： 文本选择器的值参数。
Type: Option<Array<String>>; Readable: true; Writable: true

#### var valueschangeEvent

```cangjie
public var valueschangeEvent:(Array<String>) -> Unit
```
功能： 文本选择器值改变时回调的事件。
Type: (Array<String>)->Unit; Readable: true; Writable: true



## Structs

### TextPickerResult

struct TextPickerResult (deprecated)
```cangjie
public struct TextPickerResult { public TextPickerResult( public let value: CString, public let index: UInt32 ) }
```
功能： 记录文本选择器组件的结果。



## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 var select: UInt32 = 1
 @State var fruits: Array<String> = ["apple", "banana", "orange", "peach"]
 func build() {
 Column {
 TextPicker(this.fruits, selected: this.select)
 .onChange({result: TextPickerResData =>
 nativeLog("Picker item changed, value: ${result.index}")
 })
 }
 .width(100.percent)
 .height(100.percent)
 .alignItems(HorizontalAlign.Center)
 .justifyContent(FlexAlign.Center)
 }
}
```
```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 var select: UInt32 = 1
 @State var fruits: Array<String> = ["apple", "banana", "orange", "peach"]
 func build() {
 Column {
 TextPicker(this.fruits, selected: this.select)
 .onChange({result: TextPickerResData =>
 nativeLog("Picker item changed, value: ${result.index}")
 })
 .textStyle(PickerTextStyle(Color.BLACK, MyFont(size: 20, weight: FontWeight.Normal)))
 .selectedTextStyle(PickerTextStyle(Color.RED, MyFont(size: 30, weight: FontWeight.Bold)))
 }
 .width(100.percent)
 .height(100.percent)
 .alignItems(HorizontalAlign.Center)
 .justifyContent(FlexAlign.Center)
 }
}
```
```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 var select: UInt32 = 1
 @State var fruits: Array<String> = ["apple", "banana", "orange", "peach"]
 func build() {
 Column {
 TextPicker(this.fruits, selected: this.select)
 .divider(value: DividerOptions(strokeWidth: 0,color: Color.RED,startMargin: 0,endMargin: 0))
 .onChange({result: TextPickerResData =>
 nativeLog("Picker item changed, value: ${result.index}")
 })

 }
 .width(100.percent)
 .height(100.percent)
 .alignItems(HorizontalAlign.Center)
 .justifyContent(FlexAlign.Center)
 }
}
```
```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 var select: UInt32 = 1
 @State var fruits: Array<String> = ["apple", "banana", "orange", "peach"]
 func build() {
 Column {
 TextPicker(this.fruits, selected: this.select)
 .divider(value: DividerOptions(strokeWidth: 10,color: Color.RED,startMargin: 10,endMargin: 20))
 .onChange({result: TextPickerResData =>
 nativeLog("Picker item changed, value: ${result.index}")
 })

 }
 .width(100.percent)
 .height(100.percent)
 .alignItems(HorizontalAlign.Center)
 .justifyContent(FlexAlign.Center)
 }
}
```
```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 var select: UInt32 = 1
 @State var fruits: Array<String> = ["apple", "banana", "orange", "peach"]
 func build() {
 Column {
 TextPicker(this.fruits, selected: this.select)
 .onChange({result: TextPickerResData =>
 nativeLog("Picker item changed, value: ${result.index}")
 })
 .gradientHeight(100)
 }
 .width(100.percent)
 .height(100.percent)
 .alignItems(HorizontalAlign.Center)
 .justifyContent(FlexAlign.Center)
 }
}
```

