# 按键事件

按键事件指组件与键盘、遥控器等按键设备交互时触发的事件，适用于所有可获焦组件，例如Button。对于Text和Image等默认不可获焦的组件，当前暂不支持，后续可以设置focusable属性为true后使用按键事件。

## Functions

### public open func onKeyEvent(callback: (KeyEvent)->Unit): This

```cangjie
public open func onKeyEvent(callback: (KeyEvent)->Unit): This
```
功能： 绑定该方法的组件获焦后，按键动作触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ( KeyEvent )->Unit | 是 | 绑定该方法的组件获焦后，按键动作触发该回调。 | callback | - |


## Classes

### KeyEvent

class KeyEvent
```cangjie
public class KeyEvent { public var isStopPropagation: Bool = false public KeyEvent( public var keyText: String, public var keyType: KeyType, public var keyCode: Int32, public var keySource: KeySource, public var metaKey: Int32, public var deviceId: Int64, public var timestamp: Int64 ) }
```
功能： 按键事件。

#### var isStopPropagation

```cangjie
public var isStopPropagation: Bool = false
```
功能： 控制事件的传播。
Type: Bool; Readable: true; Writable: true

#### var keyText

```cangjie
public var keyText: String
```
功能： 按键的键值。
Type: String; Readable: true; Writable: true

#### var keyType

```cangjie
public var keyType: KeyType
```
功能： 按键的类型。
Type: KeyType; Readable: true; Writable: true

#### var keyCode

```cangjie
public var keyCode: Int32
```
功能： 按键的键值。
Type: Int32; Readable: true; Writable: true

#### var keySource

```cangjie
public var keySource: KeySource
```
功能： 触发当前按键的输入设备类型。
Type: KeySource; Readable: true; Writable: true

#### var metaKey

```cangjie
public var metaKey: Int32
```
功能： 按键发生时元键的状态，1表示按压态，0表示未按压态。
Type: Int32; Readable: true; Writable: true

#### var deviceId

```cangjie
public var deviceId: Int64
```
功能： 触发当前按键的输入设备ID。
Type: Int64; Readable: true; Writable: true

#### var timestamp

```cangjie
public var timestamp: Int64
```
功能： 按键发生时的时间戳。
Type: Int64; Readable: true; Writable: true



## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State var text: String = ""
 func build() {
 Column() {
 Button("KeyEvent").backgroundColor(0x2788D9)
 .onKeyEvent({event =>
 text = """
 keyType: ${event.keyType.toString()}
 keyCode: ${event.keyCode.toString()}
 keyText: ${event.keyText}
 deviceId: ${event.deviceId.toString()}
 metaKey: ${event.metaKey.toString()}
 timestamp: ${event.timestamp.toString()}
 """
 AppLog.info(text)
 })
 Text(text).padding(15)
 }.height(300).width(100.percent).padding(35)
 }
}
```

