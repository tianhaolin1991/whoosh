# 页面间转场 (pageTransition)

当路由进行切换时，可以通过在pageTransition函数中自定义页面入场和页面退场的转场动效。

## Classes

### CommonTransition

class CommonTransition
```cangjie
sealed abstract class CommonTransition {}
```
功能： 页面转场通用动效基类。


### PageTransitionEnter

class PageTransitionEnter
```cangjie
public class PageTransitionEnter <: CommonTransition { public init(value: PageTransitionOptions) }
```
功能： 当前页面的自定义入场动效类型。


### PageTransitionExit

class PageTransitionExit
```cangjie
public class PageTransitionExit <: CommonTransition { public init(value: PageTransitionOptions) }
```
功能： 当前页面的自定义退场动效类型。


### PageTransitionOptions

class PageTransitionOptions
```cangjie
public class PageTransitionOptions { public PageTransitionOptions( public var `type`!: RouteType = RouteType.None, public var duration!: Int32 = 1000, public var curve!: Curve = Curve.Linear, public var delay!: Int32 = 0 ) }
```
功能： 页面转场配置参数类型。

#### var curve

```cangjie
public var curve: Curve
```
功能： 设置动画曲线。
Type: Curve; Readable: true; Writable: true

#### var delay

```cangjie
public var delay: Int32
```
功能： 设置动画延迟时长。
Type: Int32; Readable: true; Writable: true

#### var duration

```cangjie
public var duration: Int32
```
功能： 设置动画的时长。
Type: Int32; Readable: true; Writable: true

#### var `type`

```cangjie
public var `type`: RouteType
```
功能： 设置页面转场效果生效的路由类型。
Type: RouteType; Readable: true; Writable: true



## Enums

### RouteType

enum RouteType
```cangjie
public enum RouteType { | None | Push | Pop }
```
功能： 页面路由类型。

#### None

```cangjie
None
```
功能： 设置页面未重定向。

#### Pop

```cangjie
Pop
```
功能： 设置重定向指定页面。

#### Push

```cangjie
Push
```
功能： 设置跳转到下一页面。


### SlideEffect

enum SlideEffect
```cangjie
public enum SlideEffect { | Left | Right | Top | Bottom | START | END }
```
功能： 页面滑动效果类型。

#### Bottom

```cangjie
Bottom
```
功能： 设置到入场时表示从下边滑入，出场时表示滑出到下边。

#### END

```cangjie
END
```
功能： 设置LTR入场时表示从右边滑入，出场时表示滑出到右边。RTL入场时表示从左边滑入，出场时表示滑出到左边。

#### Left

```cangjie
Left
```
功能： 设置到入场时表示从左边滑入，出场时表示滑出到左边。

#### Right

```cangjie
Right
```
功能： 设置到入场时表示从右边滑入，出场时表示滑出到右边。

#### START

```cangjie
START
```
功能： 设置LTR入场时表示从左边滑入，出场时表示滑出到左边。RTL入场时表示从右边滑入，出场时表示滑出到右边。

#### Top

```cangjie
Top
```
功能： 设置到入场时表示从上边滑入，出场时表示滑出到上边。



## Examples

```cangjie
//index.cj
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.LocalizationKit.*

@Entry
@Component
class EntryView {
 @State var scale2: Float32 = 1.0
 @State var opacity2: Float64 = 1.0

 func build() {
 Column() {
 Image(@r(app.media.background))
 .width(100.percent)
 .height(100.percent)
 }
 .width(100.percent)
 .height(100.percent)
 .scale(x: scale2, y: 1.0)
 .opacity(this.opacity2)
 .onClick {
 e => Router.push(url: "Page1")
 }
 }

 protected func onTransition(): Unit {
 PageTransitionEnter(PageTransitionOptions(duration: 1200, curve: Curve.Linear)).onEnter {
 ty: RouteType, progress: Float64 => match (ty) {
 case RouteType.Push | RouteType.Pop =>
 scale2 = Float32(progress)
 opacity2 = progress
 case _ => ()
 }
 }
 PageTransitionExit(PageTransitionOptions(duration: 1200, curve: Curve.Ease)).onExit {
 ty: RouteType, progress: Float64 => match (ty) {
 case RouteType.Push =>
 this.scale2 = Float32(1.0 - progress)
 this.opacity2 = 1.0 - progress
 case _ => ()
 }
 }
 }
}
```
```cangjie
//page1.cj
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.LocalizationKit.*

@Entry
@Component
class Page1 {
 @State var scale1: Float32 = 1.0
 @State var opacity1: Float64 = 1.0

 func build() {
 Column() {
 Image(@r(app.media.background))
 .width(50.percent)
 .height(50.percent)
 }
 .width(100.percent)
 .height(100.percent)
 .scale(x: scale1, y: 1.0)
 .opacity(opacity1)
 .onClick {
 e => Router.push(url: "EntryView")
 }
 }

 protected func onTransition(): Unit {
 PageTransitionEnter(PageTransitionOptions(duration: 1200, curve: Curve.Linear)).onEnter {
 ty: RouteType, progress: Float64 => match (ty) {
 case RouteType.Push | RouteType.Pop =>
 scale1 = Float32(progress)
 opacity1 = progress
 case _ => ()
 }
 }
 PageTransitionExit(PageTransitionOptions(duration: 1200, curve: Curve.Ease)).onExit {
 ty: RouteType, progress: Float64 => match (ty) {
 case RouteType.Push =>
 this.scale1 = Float32(1.0 - progress)
 this.opacity1 = 1.0 - progress
 case _ => ()
 }
 }
 }
}
```
```cangjie
//index.cj
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.LocalizationKit.*

@Entry
@Component
class EntryView {
 @State var scale2: Float32 = 1.0
 @State var opacity2: Float64 = 1.0

 func build() {
 Column() {
 Button("页面1").onClick {
 e => Router.push(url: "Page1")
 }
 .width(200)
 .height(60)
 .fontSize(36)
 Text("START")
 .fontSize(36)
 .textAlign(TextAlign.Center)
 }
 .width(100.percent)
 .height(100.percent)
 .scale(x: scale2, y: 1.0)
 .opacity(this.opacity2)
 .justifyContent(FlexAlign.Center)
 }

 protected func onTransition(): Unit {
 PageTransitionEnter(PageTransitionOptions(duration: 1200, curve: Curve.Linear)).slide(SlideEffect.START)
 PageTransitionExit(PageTransitionOptions(duration: 1200, curve: Curve.Ease)).slide(SlideEffect.START)
 }
}
```
```cangjie
//page1.cj
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*
import kit.LocalizationKit.*

@Entry
@Component
class Page1 {
 @State var scale1: Float32 = 1.0
 @State var opacity1: Float64 = 1.0

 func build() {
 Column() {
 Button("页面2").onClick {
 e => Router.push(url: "EntryView")
 }
 .width(200)
 .height(60)
 .fontSize(36)
 Text("END")
 .fontSize(36)
 .textAlign(TextAlign.Center)
 }
 .width(100.percent)
 .height(100.percent)
 .scale(x: scale1, y: 1.0)
 .opacity(this.opacity1)
 .justifyContent(FlexAlign.Center)
 }

 protected func onTransition(): Unit {
 PageTransitionEnter(PageTransitionOptions(duration: 1200)).slide(SlideEffect.END)
 PageTransitionExit(PageTransitionOptions(duration: 1200)).slide(SlideEffect.END)
 }
}
```

