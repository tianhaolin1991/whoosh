# LongPressGesture

用于触发长按手势事件，触发长按手势的最少手指数为1，最短长按时间为500毫秒。

## Component Constructors

### public init(fingers!: Int32 = 1, repeat!: Bool = false, duration!: Int32 = 500)

```cangjie
public init(fingers!: Int32 = 1, repeat!: Bool = false, duration!: Int32 = 500)
```
功能： 创建一个长按手势处理器。当组件默认支持可拖拽时，如Text、TextInput、TextArea、HyperLink、Image和RichEditor等组件。长按手势与拖拽会出现冲突，事件优先级如下：

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Int32 | 否 | 命名参数。 触发长按的最少手指数，最小为1指， 最大取值为10指。 说明： 手指按下后若发生超过15px的移动，则判定当前长按手势识别失败。 | fingers | 1 |
| Bool | 否 | 命名参数。 是否连续触发事件回调 | repeat | false |
| Int32 | 否 | 命名参数。 触发长按的最短时间，单位为毫秒（ms）。 说明： 设置小于等于0时，按照默认值500处理。 | duration | 500 |


## Functions

### public func onAction(callback: (GestureEvent) -> Unit): This

```cangjie
public func onAction(callback: (GestureEvent) -> Unit): This
```
功能： LongPress手势识别成功回调。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ( GestureEvent )->Unit | 是 | 回调函数，LongPress手势识别成功时触发。 | callback | - |

### public func onActionCancel(callback: () -> Unit): This

```cangjie
public func onActionCancel(callback: () -> Unit): This
```
功能： LongPress手势识别成功，接收到触摸取消事件触发回调。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ()->Unit | 是 | 回调函数，LongPress手势识别成功，接收到触摸取消事件触发。 | callback | - |

### public func onActionEnd(callback: (GestureEvent) -> Unit): This

```cangjie
public func onActionEnd(callback: (GestureEvent) -> Unit): This
```
功能： LongPress手势识别成功，最后一根手指抬起后触发回调。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ( GestureEvent )->Unit | 是 | 回调函数，LongPress手势识别成功，最后一根手指抬起后触发。 | callback | - |


## Examples

```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State var count: Int64 = 0

 func build() {
 Column() {
 Text("LongPress onAction:" + this.count.toString()).fontSize(28)
 .gesture(
 LongPressGesture(repeat: true)
 .onAction({event: GestureEvent =>
 if(event.repeat) {
 this.count ++
 }
 })
 .onActionEnd({event: GestureEvent =>
 this.count = 0
 })
 )
 }
 .height(200)
 .width(300)
 .padding(20)
 .border(width: 3.vp)
 .margin(30)
 }
}
```

