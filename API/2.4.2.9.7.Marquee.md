# Marquee

跑马灯组件，用于滚动展示一段单行文本。仅当文本内容宽度超过跑马灯组件宽度时滚动，不超过时不滚动。

## Component Constructors

### public init( start!: Bool, src!: String, step!: Float64 = 6.0, loop!: Int32 = -1, fromStart!: Bool = true )

```cangjie
public init( start!: Bool, src!: String, step!: Float64 = 6.0, loop!: Int32 = -1, fromStart!: Bool = true )
```
功能： 创建跑马灯组件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 命名参数。 控制跑马灯是否进入播放状态。 有限的滚动次数播放完毕后，不可以通过改变start重置滚动次数重新开始播放。 | start | - |
| String | 是 | 命名参数。 需要滚动的文本。 | src | - |
| Float64 | 否 | 命名参数。 滚动动画文本滚动步长，当step大于Marquee的文本宽度时，取默认值。 | step | 6.0 |
| Int32 | 否 | 命名参数。 设置重复滚动的次数，小于等于零时无限循环。 | loop | -1 |
| Bool | 否 | 命名参数。 设置文本从头开始滚动或反向滚动。 | fromStart | true |

### public init( start!: Bool, src!: String, step!: Int64, loop!: Int32 = -1, fromStart!: Bool = true )

```cangjie
public init( start!: Bool, src!: String, step!: Int64, loop!: Int32 = -1, fromStart!: Bool = true )
```
功能： 创建跑马灯组件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 命名参数。 控制跑马灯是否进入播放状态。 有限的滚动次数播放完毕后，不可以通过改变start重置滚动次数重新开始播放。 | start | - |
| String | 是 | 命名参数。 需要滚动的文本。 | src | - |
| Int64 | 是 | 命名参数。 滚动动画文本滚动步长。 | step | - |
| Int32 | 否 | 命名参数。 设置重复滚动的次数，小于等于零时无限循环。 | loop | -1 |
| Bool | 否 | 命名参数。 设置文本从头开始滚动或反向滚动。 | fromStart | true |


## Functions

### public func allowScale(value: Bool): This

```cangjie
public func allowScale(value: Bool): This
```
功能： 设置是否允许文本缩放。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 是否允许文本缩放。 初始值：false。 说明: 仅当fontSize为fp为单位时生效。 | value | - |

### public func fontColor(color: ResourceColor): This

```cangjie
public func fontColor(color: ResourceColor): This
```
功能： 设置字体颜色。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ResourceColor | 是 | 字体颜色。 | color | - |

### public func fontFamily(content: String): This

```cangjie
public func fontFamily(content: String): This
```
功能： 设置字体列表。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 字体列表。默认字体'HarmonyOS Sans'。 应用当前支持'HarmonyOS Sans'字体和 注册自定义字体 。 | content | - |

### public func fontFamily(content: AppResource): This

```cangjie
public func fontFamily(content: AppResource): This
```
功能： 设置字体列表。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| AppResource | 是 | 字体列表。默认字体'HarmonyOS Sans'。 应用当前支持'HarmonyOS Sans'字体和 注册自定义字体 。 | content | - |

### public func fontSize(size: Length): This

```cangjie
public func fontSize(size: Length): This
```
功能： 设置字体大小。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | 字体大小。 | size | - |

### public func fontWeight(value: FontWeight): This

```cangjie
public func fontWeight(value: FontWeight): This
```
功能： 设置文本的字体粗细，设置过大可能会在不同字体下有截断。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| FontWeight | 是 | 文本的字体粗细。 | value | - |

### public func marqueeUpdateStrategy(content: MarqueeUpdateStrategy): This

```cangjie
public func marqueeUpdateStrategy(content: MarqueeUpdateStrategy): This
```
功能： 跑马灯组件属性更新后，跑马灯的滚动策略。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| MarqueeUpdateStrategy | 是 | 跑马灯组件属性更新后，跑马灯的滚动策略。 初始值：MarqueeUpdateStrategy.DEFAULT。 | content | - |

### public func onBounce(callback: () -> Unit): This

```cangjie
public func onBounce(callback: () -> Unit): This
```
功能： 完成一次滚动时触该事件，若循环次数不为1，则会多次触发。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ()->Unit | 是 | 回调函数，完成一次滚动时触发。 | callback | - |

### public func onFinish(callback: () -> Unit): This

```cangjie
public func onFinish(callback: () -> Unit): This
```
功能： 滚动全部循环次数完成时触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ()->Unit | 是 | 回调函数，滚动全部循环次数完成时触发。 | callback | - |

### public func onStart(callback: () -> Unit): This

```cangjie
public func onStart(callback: () -> Unit): This
```
功能： 当滚动的文本内容变化或者开始滚动时触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ()->Unit | 是 | 回调函数，当滚动的文本内容变化或者开始滚动时触发。 | callback | - |


## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State var message: String = "Hello Cangjie"
 @State var start: Bool = false
 @State var controller: TextClockController = TextClockController()
 @State var MyString: String = ""
 @State var Mystep: Float64 = 26.0
 func build() {
 Row {
 Column {
 Button("Start")
 .onClick {
 evt =>
 this.start = true
 this.controller.start()
 }
 .fontSize(40)
 .height(80)
 Button("change step").onClick {
 this.Mystep = 6.0
 }
 Marquee(start: this.start, src: this.message + this.MyString, step: this.Mystep)
 .width(300)
 .height(80)
 .fontSize(40)
 .fontColor(Color.RED)
 .fontWeight(FontWeight.Medium)
 .marqueeUpdateStrategy(MarqueeUpdateStrategy.PRESERVE_POSITION)
 .margin(bottom: 40)
 .allowScale(false)
 .onStart({
 => AppLog.info('Marquee animation complete onStart')
 })
 .onBounce({
 => AppLog.info('Marquee animation complete onBounce')})
 .onFinish({
 => AppLog.info('Marquee animation complete onFinish')
 })
 .onClick({
 env => this.Mystep = 16.0
 })
 TextClock(controller: this.controller).onDateChange {
 value => this.MyString = value.toString()
 }
 }
 .width(100.percent)
 }
 .height(100.percent)
 }
}
```

