# ohos.multimedia.photo_accesshelper（相册管理模块）

该模块提供相册管理模块能力，包括创建相册以及访问、修改相册中的媒体数据信息等。

```cangjie
import kit.MediaLibraryKit.*
```
## Functions

### public func getPhotoAccessHelper(context: UIAbilityContext): PhotoAccessHelper

```cangjie
public func getPhotoAccessHelper(context: UIAbilityContext): PhotoAccessHelper
```
功能： 获取相册管理模块的实例，用于访问和修改相册中的媒体文件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| UIAbilityContext | 是 | 传入Ability实例的Context。 | context | - |

**Returns:**

| type | description |
| --- | --- |
| PhotoAccessHelper | 相册管理模块的实例。 |

**Example:**

```cangjie
// index.cj

import kit.MediaLibraryKit.*

let ctx = Global.getAbilityContext() // 需获取Context应用上下文，详见本文使用说明
let phAccessHelper = getPhotoAccessHelper(ctx)
```


## Interfaces

### MediaChangeRequest

interface MediaChangeRequest
```cangjie
public interface MediaChangeRequest {}
```
功能： 媒体变更请求，资产变更请求和相册变更请求的父类型。



## Classes

### Album

class Album
```cangjie
public class Album {}
```
功能： 实体相册。

#### prop albumName

```cangjie
public mut prop albumName: String
```
功能： 获取相册名称。
Type: String; Readable: true; Writable: true

#### prop albumSubtype

```cangjie
public prop albumSubtype: AlbumSubtype
```
功能： 获取相册子类型。
Type: AlbumSubtype; Readable: true; Writable: false

#### prop albumType

```cangjie
public prop albumType: AlbumType
```
功能： 获取相册类型。
Type: AlbumType; Readable: true; Writable: false

#### prop albumUri

```cangjie
public prop albumUri: String
```
功能： 获取相册Uri。
Type: String; Readable: true; Writable: false

#### prop count

```cangjie
public prop count: Int32
```
功能： 相册中文件数量。
Type: Int32; Readable: true; Writable: false

#### prop coverUri

```cangjie
public prop coverUri: String
```
功能： 获取封面文件Uri。
Type: String; Readable: true; Writable: false

#### prop imageCount

```cangjie
public prop imageCount: Int32
```
功能： 获取相册中图片数量。
Type: Int32; Readable: true; Writable: false

#### prop videoCount

```cangjie
public prop videoCount: Int32
```
功能： 获取相册中图片数量。
Type: Int32; Readable: true; Writable: false


### BaseSelectOptions

class BaseSelectOptions
```cangjie
public open class BaseSelectOptions { public BaseSelectOptions( public var MIMEType!: PhotoViewMIMETypes = IMAGE_VIDEO_TYPE, public var maxSelectNumber!: Int32 = 50, public var isPhotoTakingSupported!: Bool = true, public var isSearchSupported!: Bool = true, public var recommendationOptions!: RecommendationOptions = RecommendationOptions(), public var preselectedUris!: Array<String> = Array<String>(), public var isPreviewForSingleSelectionSupported!: Bool = true ) }
```
功能： 图库选择选项基类。

#### var MIMEType

```cangjie
public var MIMEType: PhotoViewMIMETypes = IMAGE_VIDEO_TYPE
```
功能： 媒体文件类型。
Type: PhotoViewMIMETypes; Readable: true; Writable: true

#### var isPhotoTakingSupported

```cangjie
public var isPhotoTakingSupported: Bool = true
```
功能： 是否支持拍照。
Type: Bool; Readable: true; Writable: true

#### var isPreviewForSingleSelectionSupported

```cangjie
public var isPreviewForSingleSelectionSupported: Bool = true
```
功能： 单选模式下是否需要进大图预览。
Type: Bool; Readable: true; Writable: true

#### var isSearchSupported

```cangjie
public var isSearchSupported: Bool = true
```
功能： 是否支持搜索。
Type: Bool; Readable: true; Writable: true

#### var maxSelectNumber

```cangjie
public var maxSelectNumber: Int32 = 50
```
功能： 媒体文件数量的最大值。
Type: Int32; Readable: true; Writable: true

#### var preselectedUris

```cangjie
public var preselectedUris: Array<String>= Array<String>()
```
功能： 预选择图片的uri数据。
Type: Array<String>; Readable: true; Writable: true

#### var recommendationOptions

```cangjie
public var recommendationOptions: RecommendationOptions = RecommendationOptions()
```
功能： 图片推荐相关配置参数。
Type: RecommendationOptions; Readable: true; Writable: true


### ChangeData

class ChangeData
```cangjie
public class ChangeData {}
```
功能： 监听器回调函数的值。

#### let `type`

```cangjie
public let `type`: NotifyType
```
功能： ChangeData的通知类型。
Type: NotifyType; Readable: true; Writable: false

#### let extraUris

```cangjie
public let extraUris: Array<String>
```
功能： 相册中变动文件的uri数组。
Type: Array<String>; Readable: true; Writable: false

#### let uris

```cangjie
public let uris: Array<String>
```
功能： 相同 NotifyType 的所有uri，可以是PhotoAsset或Album。。
Type: Array<String>; Readable: true; Writable: false


### FetchOptions

class FetchOptions
```cangjie
public class FetchOptions { public FetchOptions( public var fetchColumns!: Array<String> = [], public var predicates!: DataSharePredicates = DataSharePredicates() ) }
```
功能： 检索条件。

#### var fetchColumns

```cangjie
public var fetchColumns: Array<String>=[]
```
功能： 检索条件。
Type: Array<String>; Readable: true; Writable: true

#### var predicates

```cangjie
public var predicates: DataSharePredicates = DataSharePredicates()
```
功能： 谓词查询。
Type: DataSharePredicates; Readable: true; Writable: true


### FetchResult

class FetchResult
```cangjie
public class FetchResult<T> {}
```
功能： 文件检索结果集。


### MediaAlbumChangeRequest

class MediaAlbumChangeRequest
```cangjie
public class MediaAlbumChangeRequest <: MediaChangeRequest { public init(album: Album) }
```
功能： 相册变更请求。


### MediaAssetChangeRequest

class MediaAssetChangeRequest
```cangjie
public class MediaAssetChangeRequest <: MediaChangeRequest { public init(asset: PhotoAsset) }
```
功能： 资产变更请求。


### MediaAssetDataHandler

class MediaAssetDataHandler
```cangjie
public abstract class MediaAssetDataHandler<T> {}
```
功能： 媒体资源处理器，应用在onDataPrepared方法中可自定义媒体资源处理逻辑。


### MediaAssetManager

class MediaAssetManager
```cangjie
public class MediaAssetManager {}
```
功能： 根据不同的策略模式，请求图片资源。


### MovingPhoto

class MovingPhoto
```cangjie
public class MovingPhoto {}
```
功能： 动态照片对象。


### PhotoAccessHelper

class PhotoAccessHelper
```cangjie
public class PhotoAccessHelper {}
```
功能： 获取图片和视频资源。


### PhotoAsset

class PhotoAsset
```cangjie
public class PhotoAsset {}
```
功能： 提供封装文件属性的方法。

#### prop displayName

```cangjie
public prop displayName: String
```
功能： 获取文件名，包含后缀名。
Type: String; Readable: true; Writable: false

#### prop photoType

```cangjie
public prop photoType: PhotoType
```
功能： 获取媒体文件类型。
Type: PhotoType; Readable: true; Writable: false

#### prop uri

```cangjie
public prop uri: String
```
功能： 获取媒体文件资源uri。
Type: String; Readable: true; Writable: false


### PhotoSelectOptions

class PhotoSelectOptions
```cangjie
public class PhotoSelectOptions <: BaseSelectOptions { public var isEditSupported: Bool = true public var isOriginalSupported: Bool = false public var subWindowName: ?String = None public init( MIMEType!: PhotoViewMIMETypes = IMAGE_VIDEO_TYPE, maxSelectNumber!: Int32 = 50, isPhotoTakingSupported!: Bool = true, isSearchSupported!: Bool = true, recommendationOptions!: RecommendationOptions = RecommendationOptions(), preselectedUris!: Array<String> = Array<String>(), isPreviewForSingleSelectionSupported!: Bool = true, isEditSupported!: Bool = true, isOriginalSupported!: Bool = false, subWindowName!: ?String = None ) }
```
功能： 图库选择选项子类，继承于BaseSelectOptions。

#### var isEditSupported

```cangjie
public var isEditSupported: Bool = true
```
功能： 是否支持编辑照片。
Type: Bool; Readable: true; Writable: true

#### var isOriginalSupported

```cangjie
public var isOriginalSupported: Bool = false
```
功能： 是否显示选择原图按钮。
Type: Bool; Readable: true; Writable: true

#### var subWindowName

```cangjie
public var subWindowName: ?String = None
```
功能： 子窗窗口名称。
Type: ?String; Readable: true; Writable: true


### PhotoViewPicker

class PhotoViewPicker
```cangjie
public class PhotoViewPicker { public init(gcontext: UIAbilityContext) }
```
功能： 图库选择器对象，用来支撑选择图片/视频等用户场景。在使用前，需要先创建PhotoViewPicker实例。


### RequestOptions

class RequestOptions
```cangjie
public class RequestOptions { public RequestOptions( public var deliveryMode: DeliveryMode ) }
```
功能： 请求策略。

#### var deliveryMode

```cangjie
public var deliveryMode: DeliveryMode
```
功能： 请求资源分发模式。
Type: DeliveryMode; Readable: true; Writable: true



## Structs

### CreateOptions

struct CreateOptions
```cangjie
public struct CreateOptions { public CreateOptions( public var title!: ?String = None, public var subtype!: ?PhotoSubtype = None ) }
```
功能： 图片或视频的创建选项。


### PhotoCreationConfig

struct PhotoCreationConfig
```cangjie
public struct PhotoCreationConfig { public PhotoCreationConfig( public let fileNameExtension: String, public let photoType: PhotoType, public let title!: String = "", public let subtype!: PhotoSubtype = DEFAULT ) }
```
功能： 保存图片/视频到媒体库的配置，包括保存的文件名等。


### PhotoSelectResult

struct PhotoSelectResult
```cangjie
public struct PhotoSelectResult { public PhotoSelectResult( public var photoUris: Array<String>, public var isOriginalPhoto: Bool ) }
```
功能： 返回图库选择后的结果集。


### RecommendationOptions

struct RecommendationOptions
```cangjie
public struct RecommendationOptions { public RecommendationOptions( public var recommendationType!: ?RecommendationType = None, public var textContextInfo!: ?TextContextInfo = None ) }
```
功能： 图片推荐选项(基于图片数据分析结果，依赖设备适配)。


### TextContextInfo

struct TextContextInfo
```cangjie
public struct TextContextInfo { public TextContextInfo ( public let text!: String = "" ) }
```
功能： 文本信息，用于推荐图片的文本信息。



## Enums

### AlbumKeys

enum AlbumKeys
```cangjie
public enum AlbumKeys <: ToString & Equatable<AlbumKeys> { | URI | ALBUM_NAME | ... }
```
功能： 相册关键信息。

#### ALBUM_NAME

```cangjie
ALBUM_NAME
```
功能： 相册名字。

#### URI

```cangjie
URI
```
功能： 相册uri。


### AlbumSubtype

enum AlbumSubtype
```cangjie
public enum AlbumSubtype <: Equatable<AlbumSubtype> & ToString { | USER_GENERIC | FAVORITE | VIDEO | IMAGE | ANY | ... }
```
功能： 相册子类型，表示具体的相册类型。

#### ANY

```cangjie
ANY
```
功能： 任意相册。

#### FAVORITE

```cangjie
FAVORITE
```
功能： 收藏夹。

#### IMAGE

```cangjie
IMAGE
```
功能： 图片相册。

#### USER_GENERIC

```cangjie
USER_GENERIC
```
功能： 用户相册。

#### VIDEO

```cangjie
VIDEO
```
功能： 视频相册。


### AlbumType

enum AlbumType
```cangjie
public enum AlbumType <: Equatable<AlbumType> & ToString { | USER | SYSTEM | ... }
```
功能： 相册类型，表示是用户相册还是系统预置相册。

#### SYSTEM

```cangjie
SYSTEM
```
功能： 系统预置相册。

#### USER

```cangjie
USER
```
功能： 用户相册。


### DefaultChangeUri

enum DefaultChangeUri
```cangjie
public enum DefaultChangeUri <: ToString & Equatable<DefaultChangeUri> { | DEFAULT_PHOTO_URI | DEFAULT_ALBUM_URI | ... }
```
功能： DefaultChangeUri子类型。

#### DEFAULT_ALBUM_URI

```cangjie
DEFAULT_ALBUM_URI
```
功能： 默认相册的Uri，与forSubUri{true}一起使用，将接收所有相册的更改通知。

#### DEFAULT_PHOTO_URI

```cangjie
DEFAULT_PHOTO_URI
```
功能： 默认PhotoAsset的Uri，与forSubUri{true}一起使用，将接收所有PhotoAsset的更改通知。


### DeliveryMode

enum DeliveryMode
```cangjie
public enum DeliveryMode <: Equatable<DeliveryMode> & ToString { | FAST_MODE | HIGH_QUALITY_MODE | BALANCE_MODE | ... }
```
功能： 资源分发模式。

#### BALANCE_MODE

```cangjie
BALANCE_MODE
```
功能： 均衡模式。

#### FAST_MODE

```cangjie
FAST_MODE
```
功能： 快速模式。

#### HIGH_QUALITY_MODE

```cangjie
HIGH_QUALITY_MODE
```
功能： 高质量模式。


### DynamicRangeType

enum DynamicRangeType
```cangjie
public enum DynamicRangeType <: Equatable<DynamicRangeType> & ToString { | SDR | HDR | ... }
```
功能： 媒体文件的动态范围类型。

#### HDR

```cangjie
HDR
```
功能： 高动态范围类型。

#### SDR

```cangjie
SDR
```
功能： 标准动态范围类型。


### MemberType

enum MemberType
```cangjie
public enum MemberType { | INT64(Int64) | STRING(String) | BOOL(Bool) | ... }
```
功能： PhotoAsset的成员类型。

#### BOOL(Bool)

```cangjie
BOOL(Bool)
```
功能： 表示值类型为布尔类型。

#### INT64(Int64)

```cangjie
INT64(Int64)
```
功能： 表示值类型为数字，可取任意值。

#### STRING(String)

```cangjie
STRING(String)
```
功能： 表示值类型为字符，可取任意值。


### NotifyType

enum NotifyType
```cangjie
public enum NotifyType <: Equatable<NotifyType> & ToString { | NOTIFY_ADD | NOTIFY_UPDATE | NOTIFY_REMOVE | NOTIFY_ALBUM_ADD_ASSET | NOTIFY_ALBUM_REMOVE_ASSET | ... }
```
功能： 通知事件的类型。

#### NOTIFY_ADD

```cangjie
NOTIFY_ADD
```
功能： 添加文件集或相册通知的类型。

#### NOTIFY_ALBUM_ADD_ASSET

```cangjie
NOTIFY_ALBUM_ADD_ASSET
```
功能： 在相册中添加的文件集的通知类型。

#### NOTIFY_ALBUM_REMOVE_ASSET

```cangjie
NOTIFY_ALBUM_REMOVE_ASSET
```
功能： 在相册中删除的文件集的通知类型。

#### NOTIFY_REMOVE

```cangjie
NOTIFY_REMOVE
```
功能： 删除文件集或相册的通知类型。

#### NOTIFY_UPDATE

```cangjie
NOTIFY_UPDATE
```
功能： 文件集或相册的更新通知类型。


### PhotoKeys

enum PhotoKeys
```cangjie
public enum PhotoKeys <: ToString & Equatable<PhotoKeys> { | URI | PHOTO_TYPE | DISPLAY_NAME | SIZE | DATE_ADDED | DATE_MODIFIED | DURATION | WIDTH | HEIGHT | DATE_TAKEN | ORIENTATION | FAVORITE | TITLE | DATE_ADDED_MS | DATE_MODIFIED_MS | PHOTO_SUBTYPE | DYNAMIC_RANGE_TYPE | COVER_POSITION | BURST_KEY | LCD_SIZE | THM_SIZE | ... }
```
功能： 图片和视频文件关键信息。

#### BURST_KEY

```cangjie
BURST_KEY
```
功能： 一组连拍照片的唯一标识：uuid。

#### COVER_POSITION

```cangjie
COVER_POSITION
```
功能： 动态照片的封面位置，具体表示封面帧所对应的视频时间戳（单位：微秒）。

#### DATE_ADDED

```cangjie
DATE_ADDED
```
功能： 添加日期（添加文件时间距1970年1月1日的秒数值）。

#### DATE_ADDED_MS

```cangjie
DATE_ADDED_MS
```
功能： 添加日期（添加文件时间距1970年1月1日的毫秒数值）。

#### DATE_MODIFIED

```cangjie
DATE_MODIFIED
```
功能： 修改日期（修改文件时间距1970年1月1日的秒数值，修改文件名不会改变此值，当文件内容发生修改时才会更新）。

#### DATE_MODIFIED_MS

```cangjie
DATE_MODIFIED_MS
```
功能： 修改日期（修改文件时间距1970年1月1日的毫秒数值，修改文件名不会改变此值，当文件内容发生修改时才会更新）。

#### DATE_TAKEN

```cangjie
DATE_TAKEN
```
功能： 拍摄日期（文件拍照时间距1970年1月1日的秒数值）。

#### DISPLAY_NAME

```cangjie
DISPLAY_NAME
```
功能： 显示名字。

#### DURATION

```cangjie
DURATION
```
功能： 持续时间（单位：毫秒）。

#### DYNAMIC_RANGE_TYPE

```cangjie
DYNAMIC_RANGE_TYPE
```
功能： 媒体文件的动态范围类型。

#### FAVORITE

```cangjie
FAVORITE
```
功能： 收藏。

#### HEIGHT

```cangjie
HEIGHT
```
功能： 图片高度（单位：像素）。

#### LCD_SIZE

```cangjie
LCD_SIZE
```
功能： LCD图片的宽高，值为width:height拼接而成的字符串。

#### ORIENTATION

```cangjie
ORIENTATION
```
功能： 文件的旋转角度，单位为度。

#### PHOTO_SUBTYPE

```cangjie
PHOTO_SUBTYPE
```
功能： 媒体文件的动态范围类型。

#### PHOTO_TYPE

```cangjie
PHOTO_TYPE
```
功能： 媒体文件类型。

#### SIZE

```cangjie
SIZE
```
功能： 文件大小（单位：字节）。

#### THM_SIZE

```cangjie
THM_SIZE
```
功能： THUMB图片的宽高，值为width:height拼接而成的字符串。

#### TITLE

```cangjie
TITLE
```
功能： 文件标题。

#### URI

```cangjie
URI
```
功能： 文件uri。

#### WIDTH

```cangjie
WIDTH
```
功能： 图片宽度（单位：像素）。


### PhotoSubtype

enum PhotoSubtype
```cangjie
public enum PhotoSubtype <: Equatable<PhotoSubtype> & ToString { | DEFAULT | MOVING_PHOTO | BURST | ... }
```
功能： 连拍照片文件类型。

#### BURST

```cangjie
BURST
```
功能： 连拍照片文件类型。

#### DEFAULT

```cangjie
DEFAULT
```
功能： 默认照片类型。

#### MOVING_PHOTO

```cangjie
MOVING_PHOTO
```
功能： 动态照片文件类型。


### PhotoType

enum PhotoType
```cangjie
public enum PhotoType <: Equatable<PhotoType> & ToString { | IMAGE | VIDEO | ... }
```
功能： 媒体文件类型。

#### IMAGE

```cangjie
IMAGE
```
功能： 图片。

#### VIDEO

```cangjie
VIDEO
```
功能： 视频。


### PhotoViewMIMETypes

enum PhotoViewMIMETypes
```cangjie
public enum PhotoViewMIMETypes <: Equatable<PhotoViewMIMETypes> & ToString { | IMAGE_TYPE | VIDEO_TYPE | IMAGE_VIDEO_TYPE | MOVING_PHOTO_IMAGE_TYPE | ... }
```
功能： 可选择的媒体文件类型。

#### IMAGE_TYPE

```cangjie
IMAGE_TYPE
```
功能： 图片类型。

#### IMAGE_VIDEO_TYPE

```cangjie
IMAGE_VIDEO_TYPE
```
功能： 图片和视频类型。

#### MOVING_PHOTO_IMAGE_TYPE

```cangjie
MOVING_PHOTO_IMAGE_TYPE
```
功能： 动态照片类型。

#### VIDEO_TYPE

```cangjie
VIDEO_TYPE
```
功能： 视频类型。


### RecommendationType

enum RecommendationType
```cangjie
public enum RecommendationType <: Equatable<RecommendationType> & ToString { | QR_OR_BAR_CODE | QR_CODE | BAR_CODE | ID_CARD | PROFILE_PICTURE | PASSPORT | BANK_CARD | DRIVER_LICENSE | DRIVING_LICENSE | FEATURED_SINGLE_PORTRAIT | ... }
```
功能： 推荐的图片类型。

#### BANK_CARD

```cangjie
BANK_CARD
```
功能： 银行卡。

#### BAR_CODE

```cangjie
BAR_CODE
```
功能： 条码。

#### DRIVER_LICENSE

```cangjie
DRIVER_LICENSE
```
功能： 驾驶证。

#### DRIVING_LICENSE

```cangjie
DRIVING_LICENSE
```
功能： 行驶证。

#### FEATURED_SINGLE_PORTRAIT

```cangjie
FEATURED_SINGLE_PORTRAIT
```
功能： 推荐人像。

#### ID_CARD

```cangjie
ID_CARD
```
功能： 身份证。

#### PASSPORT

```cangjie
PASSPORT
```
功能： 护照。

#### PROFILE_PICTURE

```cangjie
PROFILE_PICTURE
```
功能： 头像。

#### QR_CODE

```cangjie
QR_CODE
```
功能： 二维码。

#### QR_OR_BAR_CODE

```cangjie
QR_OR_BAR_CODE
```
功能： 二维码或条码。


### ResourceType

enum ResourceType
```cangjie
public enum ResourceType <: Equatable<ResourceType> & ToString { | IMAGE_RESOURCE | VIDEO_RESOURCE | ... }
```
功能： 表示图片资源。

#### IMAGE_RESOURCE

```cangjie
IMAGE_RESOURCE
```
功能： 表示图片资源。

#### VIDEO_RESOURCE

```cangjie
VIDEO_RESOURCE
```
功能： 表示视频资源。



