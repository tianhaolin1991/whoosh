# ohos.effect_kit（图像效果）

图像效果提供处理图像的一些基础能力，包括对当前图像的亮度调节、模糊化、灰度调节、智能取色等。

```cangjie
import kit.ArkGraphics2D.*
```
## Functions

### public func createColorPicker(source: PixelMap, region!: ?Array<Float64> = None): ?ColorPicker

```cangjie
public func createColorPicker(source: PixelMap, region!: ?Array<Float64> = None): ?ColorPicker
```
功能： 通过传入的PixelMap创建ColorPicker实例。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| PixelMap | 是 | image模块创建的PixelMap实例。可通过图片解码或直接创建获得。 | source | - |
| ?Array<Float64> | 否 | 命名参数。 指定图片的取色区域。默认为None。数组元素个数为4，取值范围为[0.0, 1.0]，数组元素分别表示图片区域的左、上、右、下位置，图片最左侧和最上侧对应位置0.0，最右侧和最下侧对应位置1.0。数组第三个元素需大于第一个元素，第四个元素需大于第二个元素。 | region | None |

**Returns:**

| type | description |
| --- | --- |
| ? ColorPicker | 返回创建的ColorPicker实例。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 通用错误码 。

| code | description |
| --- | --- |
| 401 | Parameter error. |


### public func createEffect(source: PixelMap): ?Filter

```cangjie
public func createEffect(source: PixelMap): ?Filter
```
功能： 通过传入的PixelMap创建Filter实例。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| PixelMap | 是 | image模块创建的PixelMap实例。可通过图片解码或直接创建获得。 | source | - |

**Returns:**

| type | description |
| --- | --- |
| ? Filter | 返回不带任何效果的Filter链表的头节点，失败时返回None。 |

**Example:**

```cangjie
// index.cj

import ohos.base.*
import kit.ArkGraphics2D.*
import kit.ImageKit.*

let color = Array<UInt8>(16, repeat: 0)
let opts = InitializationOptions(editable: true, pixelFormat: RGBA_8888, size: Size(height: 2, width: 2), alphaType: PREMUL)
var map: PixelMap = createPixelMap(color, opts)
let imagesource = createImageSource("data/storage/el2/base/haps/entry/files/test.jpg")
map = imagesource.createPixelMap()
let headFilter = createEffect(map)
```


## Classes

### Color

class Color
```cangjie
public class Color {}
```
功能： 颜色类，用于保存取色的结果。

#### let alpha

```cangjie
public let alpha: Int32
```
功能： 透明通道分量值，取值范围[0x0, 0xFF]。
Type: Int32; Readable: true; Writable: false

#### let blue

```cangjie
public let blue: Int32
```
功能： 蓝色分量值，取值范围[0x0, 0xFF]。
Type: Int32; Readable: true; Writable: false

#### let green

```cangjie
public let green: Int32
```
功能： 绿色分量值，取值范围[0x0, 0xFF]。
Type: Int32; Readable: true; Writable: false

#### let red

```cangjie
public let red: Int32
```
功能： 红色分量值，取值范围[0x0, 0xFF]。
Type: Int32; Readable: true; Writable: false


### ColorPicker

class ColorPicker
```cangjie
public class ColorPicker {}
```
功能： 取色类，用于从一张图像数据中获取它的主要颜色。在调用ColorPicker的方法前，需要先通过 createColorPicker 创建一个ColorPicker实例。


### Filter

class Filter
```cangjie
public class Filter <: RemoteDataLite {}
```
功能： 图像效果类，用于将指定的效果添加到输入图像中。在调用Filter的方法前，需要先通过 createEffect 创建一个Filter实例。



