# 线程控制

仓颉开发HarmonyOS应用的过程中，代码逻辑主要分为两部分：UI 相关逻辑代码和 UI 无关逻辑代码。

```cangjie
import kit.UIKit.Main
```
## Functions

### public func launch(task: ()->Unit): Unit

```cangjie
public func launch(task: ()->Unit): Unit
```

## Examples

```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*
import std.time.*
import std.sync.*

@Entry
@Component
class EntryView {
 @State
 var isRefreshing: Bool = false
 @State
 var arr: Array<String> = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]

 func build() {
 Column() {
 Refresh(RefreshParams(refreshing: @Binder(this.isRefreshing))) {
 List {
 ForEach(
 this.arr,
 itemGeneratorFunc: {
 item: String, idx: Int64 => ListItem() {
 Text("item, this.isRefreshing is : ${this.isRefreshing}")
 .width(100.percent)
 .height(100)
 .fontSize(16)
 .textAlign(TextAlign.Center)
 .borderRadius(10)
 .backgroundColor(0xFFFFFF)
 }
 },
 keyGeneratorFunc: {
 item: String, idx: Int64 => return item
 }
 )
 }
 .onScrollIndex(
 {
 first: Int32, last: Int32 =>
 AppLog.info("list onScrollIndex")
 AppLog.info("fist:" + first.toString())
 AppLog.info("last:" + last.toString())
 }
 )
 .width(100.percent)
 .height(100.percent)
 .divider(strokeWidth: 1.vp, color: Color(0X808080), startMargin: 10.vp, endMargin: 10.vp)
 .scrollBar(BarState.Off)
 }
 .onStateChange(
 {
 refreshStatus: RefreshStatus =>
 AppLog.info("Refresh onStatueChange this.isRefreshing is is======= ${this.isRefreshing}")
 }
 )
 .onRefreshing(
 {
 =>
 AppLog.info("onRefreshing this.isRefreshing is is======= ${this.isRefreshing}")
 Timer.once(2000 * Duration.millisecond) {
 => spawn (Main) {
 this.isRefreshing = false
 AppLog.info("setTimeout this.isRefreshing is======= ${this.isRefreshing}")
 }
 }

 AppLog.info("onRefreshing test")
 }
 )
 .backgroundColor(0x89CFF0)
 }
 }
}
```

