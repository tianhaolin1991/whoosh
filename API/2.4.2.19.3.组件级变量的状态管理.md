# 组件级变量的状态管理

提供ObservedArray和ObservedArrayList作为状态管理的数组类型，当其中数组发生变化时，如修改其中一项的值，删除或添加一项，就会触发UI更新。

```cangjie
import kit.UIKit.*
```
## Classes

### ObservedArray

class ObservedArray
```cangjie
public class ObservedArray<T> <: ObservedComplexAbstract & ArrayLike<T> { public init(initValue: Array<T>) }
```
功能： 表示用于进行状态管理的数组类型。

#### prop size

```cangjie
public prop size: Int64
```
功能： 获取状态管理数组的大小。
Type: Int64; Readable: true; Writable: false


### ObservedArrayList

class ObservedArrayList
```cangjie
public class ObservedArrayList<T> <: ObservedComplexAbstract & ArrayLike<T> { public init(initValue: ArrayList<T>) public init(initValue: Array<T>) }
```
父类型：

#### prop size

```cangjie
public prop size: Int64
```
功能： 此 ObservedArrayList 中的元素个数。
Type: Int64; Readable: true; Writable: false


### ObservedProperty

class ObservedProperty
```cangjie
public open class ObservedProperty<T> <: ObservedPropertyAbstract { public init(info: String, initValue: T) }
```
父类型：



## Examples

```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State var text: String = "begin"

 func build() {
 Column(30) {
 Button(text).onClick { evt =>
 changeText({ p: String =>
 // 使用launch表达式在主线程中更新状态变量
 launch {
 text = p
 }
 })
 }
 }.width(100.percent)
 }

 private func changeText(callback: (String) -> Unit): Unit {
 spawn {
 while (true) {
 callback("blink 0")
 sleep(Duration.millisecond * 100)
 callback("blink 1")
 sleep(Duration.millisecond * 100)
 }
 }
 }
}
```

