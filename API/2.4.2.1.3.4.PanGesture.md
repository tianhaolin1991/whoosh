# PanGesture

滑动手势事件，当滑动的最小距离达到设定的最小值时触发滑动手势事件

## Component Constructors

### public init(fingers!: Int32 = 1, direction!: PanDirection = PanDirection.All, distance!: Float64 = 5.0)

```cangjie
public init(fingers!: Int32 = 1, direction!: PanDirection = PanDirection.All, distance!: Float64 = 5.0)
```
功能： 创建一个滑动手势。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Int32 | 否 | 命名参数。 触发滑动的最少手指数，最小为1指， 最大取值为10指。 说明： 手当设置的值小于1或不设置时，会被转化为默认值。 | fingers | 1 |
| PanDirection | 否 | 用于指定触发滑动的手势方向，此枚举值支持逻辑与(&)和逻辑或(| 命名参数。 )运算。 | direction | PanDirection.All |
| Float64 | 否 | 命名参数。 用于指定触发滑动手势事件的最小滑动距离，单位为px。 说明： 当设定的值小于0时，按默认值5处理。 | distance | 5.0 |

### public init(panGestureOptions: PanGestureOptions)

```cangjie
public init(panGestureOptions: PanGestureOptions)
```
功能： 创建一个滑动手势。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| PanGestureOptions | 是 | 通过PanGestureOptions对象接口可以动态修改平移手势识别器的属性，从而避免通过状态变量修改属性（状态变量修改会导致UI刷新）。 | panGestureOptions | - |


## Functions

### public func onActionCancel(callback: () -> Unit): This

```cangjie
public func onActionCancel(callback: () -> Unit): This
```
功能： Pan手势识别成功，接收到触摸取消事件触发回调。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ()->Unit | 是 | 回调函数，Pan手势识别成功，接收到触摸取消事件触发。 | callback | - |

### public func onActionEnd(callback: (GestureEvent) -> Unit): This

```cangjie
public func onActionEnd(callback: (GestureEvent) -> Unit): This
```
功能： Pan手势识别成功，手指抬起后触发回调。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ( GestureEvent )->Unit | 是 | 回调函数，Pan手势识别成功，手指抬起后触发。 | callback | - |

### public func onActionStart(callback: (GestureEvent) -> Unit): This

```cangjie
public func onActionStart(callback: (GestureEvent) -> Unit): This
```
功能： Pan手势识别成功回调。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ( GestureEvent )->Unit | 是 | 回调函数，Pan手势识别成功触发。 | callback | - |

### public func onActionUpdate(callback: (GestureEvent) -> Unit): This

```cangjie
public func onActionUpdate(callback: (GestureEvent) -> Unit): This
```
功能： Pan手势移动过程中回调。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ( GestureEvent )->Unit | 是 | 回调函数，Pan手势移动过程中触发。 | callback | - |


## Classes

### PanGestureOptions

class PanGestureOptions
```cangjie
public class PanGestureOptions { public init(fingers!: Int32 = 1, direction!: PanDirection = PanDirection.All, distance!: Float64 = 5.0) }
```
功能： 通过PanGestureOptions对象接口可以动态修改平移手势识别器的属性，从而避免通过状态变量修改属性（状态变量修改会导致UI刷新）。



## Enums

### PanDirection

enum PanDirection
```cangjie
public enum PanDirection { | None | Left | Right | Horizontal | Up | Down | Vertical | All | Computed(UInt32) }
```
功能： 拖动手势方向。

#### All

```cangjie
All
```
功能： 所有方向。

#### Computed(UInt32)

```cangjie
Computed(UInt32)
```
功能： 支持逻辑与(&)和逻辑或(|)运算。

#### Down

```cangjie
Down
```
功能： 向下拖动。

#### Horizontal

```cangjie
Horizontal
```
功能： 水平方向。

#### Left

```cangjie
Left
```
功能： 向左拖动。

#### None

```cangjie
None
```
功能： 所有方向。

#### Right

```cangjie
Right
```
功能： 向右拖动。

#### Up

```cangjie
Up
```
功能： 向上拖动。

#### Vertical

```cangjie
Vertical
```
功能： 竖直方向。



## Examples

```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State var offsetX: Float64 = 0.0
 @State var offsetY: Float64 = 0.0
 @State var positionX: Float64 = 0.0
 @State var positionY: Float64 = 0.0

 func build() {
 Column() {
 Column() {
 Text('PanGesture offset:\nX: ' + this.offsetX.toString() + '\n' + 'Y: ' + this.offsetY.toString())
 }
 .height(200)
 .width(300)
 .padding(20)
 .border(width: 3.vp)
 .margin(50)
 .translate(x: this.offsetX, y: this.offsetY, z: 0.0) // 以组件左上角为坐标原点进行移动
 .gesture(
 PanGesture()
 .onActionUpdate({ event: GestureEvent =>
 this.offsetX = this.positionX + event.offsetX
 this.offsetY = this.positionY + event.offsetY
 })
 .onActionEnd({ event: GestureEvent =>
 this.positionX = this.offsetX
 this.positionY = this.offsetY
 })
 )
 }
 }
}
```

