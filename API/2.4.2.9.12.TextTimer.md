# TextTimer

通过文本显示计时信息并控制其计时器状态的组件。

## Component Constructors

### public init(isCountDown!: Bool = false, count!: Int64 = 60000, controller!: TextTimerController = TextTimerController())

```cangjie
public init(isCountDown!: Bool = false, count!: Int64 = 60000, controller!: TextTimerController = TextTimerController())
```
功能： 创建一个TextTimer组件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 否 | 命名参数。 是否倒计时。值为true时，计时器开启倒计时，例如从30秒 ~ 0秒。值为false时，计时器开始计时，例如从0秒 ~ 30秒。 | isCountDown | false |
| Int64 | 否 | 命名参数。 计时器时间（isCountDown为true时生效），单位为毫秒。最长不超过86400000毫秒（24小时）。 0<count<86400000时，count值为计时器初始值。否则，使用默认值为计时器初始值。 | count | 60000 |
| TextTimerController | 否 | 命名参数。 TextTimer控制器。 | controller | TextTimerController() |


## Functions

### public func fontColor(value: ResourceColor): This

```cangjie
public func fontColor(value: ResourceColor): This
```
功能： 设置字体颜色。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ResourceColor | 是 | 字体颜色。 | value | - |

### public func fontFamily(value: String): This

```cangjie
public func fontFamily(value: String): This
```
功能： 设置字体列表。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 字体列表。 初始字体：'HarmonyOS Sans'。 应用当前支持'HarmonyOS Sans'字体和 注册自定义字体 。 | value | - |

### public func fontFamily(content: AppResource): This

```cangjie
public func fontFamily(content: AppResource): This
```
功能： 设置字体列表。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| AppResource | 是 | 字体列表。 初始字体：'HarmonyOS Sans'。 应用当前支持'HarmonyOS Sans'字体和 注册自定义字体 。 | content | - |

### public func fontSize(value: Length): This

```cangjie
public func fontSize(value: Length): This
```
功能： 设置字体大小。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | 字体大小。fontSize为Int64、Float64类型时，使用fp单位。字体初始大小16.fp。不支持设置百分比。 | value | - |

### public func fontStyle(value: FontStyle): This

```cangjie
public func fontStyle(value: FontStyle): This
```
功能： 设置字体样式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| FontStyle | 是 | 字体样式。 初始值：FontStyle.Normal | value | - |

### public func fontWeight(value: FontWeight): This

```cangjie
public func fontWeight(value: FontWeight): This
```
功能： 设置文本的字体粗细，设置过大可能会在不同字体下有截断。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| FontWeight | 是 | 文本的字体粗细。 初始值：FontWeight.Normal | value | - |

### public func format(value: String): This

```cangjie
public func format(value: String): This
```
功能： 设置自定义格式，需至少包含一个HH、mm、ss、SS中的关键字。如使用yy、MM、dd等日期格式，则使用默认值。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 自定义格式。 初始值：'HH:mm:ss.SS' | value | - |

### public func textShadow(values: Array<ShadowOptions>): This

```cangjie
public func textShadow(values: Array<ShadowOptions>): This
```
功能： 设置文字阴影效果。该接口支持以数组形式入参，实现多重文字阴影。不支持fill字段, 不支持智能取色模式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Array< ShadowOptions > | 是 | 文字阴影效果。 | values | - |

### public func textShadow( radius!: Float64, shadowType!: ShadowType = ShadowType.COLOR, offsetX!: Float64 = 0.0, offsetY!: Float64 = 0.0, color!: Color = Color.BLACK, fill!: Bool = false ): This

```cangjie
public func textShadow( radius!: Float64, shadowType!: ShadowType = ShadowType.COLOR, offsetX!: Float64 = 0.0, offsetY!: Float64 = 0.0, color!: Color = Color.BLACK, fill!: Bool = false ): This
```
功能： 设置文字阴影效果。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Float64 | 是 | 命名参数。 阴影模糊半径。 取值范围：[0, +∞) 单位：px 说明： 设置小于0的值时，按值为0处理。 如需使用vp单位的数值可用 vp2px 进行转换。 | radius | - |
| ShadowType | 否 | 命名参数。 阴影类型。 | shadowType | ShadowType.COLOR |
| Float64 | 否 | 命名参数。 阴影的X轴偏移量。 单位：px。 如需使用vp单位的数值可用 vp2px 进行转换。 | offsetX | 0.0 |
| Float64 | 否 | 命名参数。 阴影的Y轴偏移量。 单位：px。 如需使用vp单位的数值可用 vp2px 进行转换。 | offsetY | 0.0 |
| Color | 否 | 命名参数。 阴影的颜色。 | color | Color.BLACK |
| Bool | 否 | 命名参数。 阴影是否内部填充。 | fill | false |

### public func textShadow( radius!: Float64, shadowType!: ShadowType = ShadowType.COLOR, offsetX!: Float64 = 0.0, offsetY!: Float64 = 0.0, color!: UInt32, fill!: Bool = false ): This

```cangjie
public func textShadow( radius!: Float64, shadowType!: ShadowType = ShadowType.COLOR, offsetX!: Float64 = 0.0, offsetY!: Float64 = 0.0, color!: UInt32, fill!: Bool = false ): This
```
功能： 设置文字阴影效果。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Float64 | 是 | 命名参数。 阴影模糊半径。 取值范围：[0, +∞) 单位：px 说明： 设置小于0的值时，按值为0处理。 如需使用vp单位的数值可用 vp2px 进行转换。 | radius | - |
| ShadowType | 否 | 命名参数。 阴影类型。 | shadowType | ShadowType.COLOR |
| Float64 | 否 | 命名参数。 阴影的X轴偏移量。 单位：px。 如需使用vp单位的数值可用 vp2px 进行转换。 | offsetX | 0.0 |
| Float64 | 否 | 命名参数。 阴影的Y轴偏移量。 单位：px。 如需使用vp单位的数值可用 vp2px 进行转换。 | offsetY | 0.0 |
| UInt32 | 是 | 命名参数。 阴影的颜色。 | color | - |
| Bool | 否 | 命名参数。 阴影是否内部填充。 | fill | false |

### public func textShadow( radius!: Float64, shadowType!: ShadowType = ShadowType.COLOR, offsetX!: Float64 = 0.0, offsetY!: Float64 = 0.0, color!: AppResource, fill!: Bool = false ): This

```cangjie
public func textShadow( radius!: Float64, shadowType!: ShadowType = ShadowType.COLOR, offsetX!: Float64 = 0.0, offsetY!: Float64 = 0.0, color!: AppResource, fill!: Bool = false ): This
```
功能： 设置文字阴影效果。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Float64 | 是 | 命名参数。 阴影模糊半径。 取值范围：[0, +∞) 单位：px 说明： 设置小于0的值时，按值为0处理。 如需使用vp单位的数值可用 vp2px 进行转换。 | radius | - |
| ShadowType | 否 | 命名参数。 阴影类型。 | shadowType | ShadowType.COLOR |
| Float64 | 否 | 命名参数。 阴影的X轴偏移量。 单位：px。 如需使用vp单位的数值可用 vp2px 进行转换。 | offsetX | 0.0 |
| Float64 | 否 | 命名参数。 阴影的Y轴偏移量。 单位：px。 如需使用vp单位的数值可用 vp2px 进行转换。 | offsetY | 0.0 |
| AppResource | 是 | 命名参数。 阴影的颜色。 | color | - |
| Bool | 否 | 命名参数。 阴影是否内部填充。 | fill | false |

### public func onTimer(callback: (Int64, Int64) -> Unit): This

```cangjie
public func onTimer(callback: (Int64, Int64) -> Unit): This
```
功能： 时间文本发生变化时触发。锁屏状态和应用后台状态下不会触发该事件。设置高精度的format（SSS、SS）时，回调间隔可能会出现波动。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (Int64,Int64)->Unit | 是 | 第一个Int64类型的参数为Linux时间戳，即自1970年1月1日起经过的时间，单位为设置格式的最小单位。 第二个Int64类型的参数为计时器经过的时间，单位为设置格式的最小单位。 | callback | - |


## Classes

### TextTimerController

class TextTimerController
```cangjie
public class TextTimerController { public init() }
```
功能： TextTimer组件的控制器，用于控制文本计时器。一个TextTimer组件仅支持绑定一个控制器，组件创建完成后相关指令才能被调用。



## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 var textTimerController: TextTimerController = TextTimerController()
 @State var format: String = 'mm:ss.SS'
 func build() {
 Column {
 TextTimer(isCountDown: true, count: 30000, controller: this.textTimerController)
 .format(this.format)
 .fontColor(Color.BLACK)
 .fontSize(50)
 .onTimer({utc, elapsedTime =>
 AppLog.info("time has been changed")
 })
 Row() {
 Button("start").onClick({=>
 this.textTimerController.start()
 })
 Button("pause").onClick({=>
 this.textTimerController.pause()
 })
 Button("reset").onClick({=>
 this.textTimerController.reset()
 })
 }
 }
 }
}
```
```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State var textShadows: Array<ShadowOptions> = [
 ShadowOptions(
 radius: 10.0,
 color: Color.RED,
 offsetX: 10.0,
 offsetY: 0.0
 ),
 ShadowOptions(
 radius: 10.0,
 color: Color.BLACK,
 offsetX: 20.0,
 offsetY: 0.0
 ),
 ShadowOptions(
 radius: 10.0,
 color: Color.BROWN,
 offsetX: 30.0,
 offsetY: 0.0
 ),
 ShadowOptions(
 radius: 10.0,
 color: Color.GREEN,
 offsetX: 40.0,
 offsetY: 0.0
 ),
 ShadowOptions(
 radius: 10.0,
 color: Color.YELLOW,
 offsetX: 100.0,
 offsetY: 0.0
 )]
 func build() {
 Column(8) {
 TextTimer().fontSize(50).textShadow(this.textShadows)
 }
 }
}
```
```cangjie
package ohos_app_cangjie_entry

import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 var textTimerController: TextTimerController = TextTimerController()
 @State var format: String = 'mm:ss.SS'

 func build() {
 Column(8) {
 Scroll().height(20.percent)
 Button("openTextTimer").onClick({
 =>

 })
 TextTimer( isCountDown: true, count: 30000, controller: this.textTimerController )
 .format(this.format)
 .fontColor(Color.BLACK)
 .fontSize(50)
 .onTimer({
 utc: Int64, elapsedTime: Int64 =>
 AppLog.info('textTimer notCountDown utc is：${utc.toString()}, elapsedTime: ${elapsedTime.toString()}')
 })
 .onAppear({ =>
 this.textTimerController.start()
 })
 }
 }
}
```

