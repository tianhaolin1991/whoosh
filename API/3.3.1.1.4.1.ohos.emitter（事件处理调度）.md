# ohos.emitter（事件处理调度）

本模块提供了在同一进程不同线程间、或同一进程同一线程内，发送和处理事件的能力，包括持续订阅事件、单次订阅事件、取消订阅事件，以及发送事件到事件队列的能力。

```cangjie
import kit.BasicServicesKit.*
```
## Classes

### InnerEvent

class InnerEvent
```cangjie
public class InnerEvent { public InnerEvent( public var eventId: UInt32, public var priority!: EventPriority = LOW ) }
```
功能： 订阅或发送的事件。单次订阅事件时EventPriority无需指定，也不生效。

#### var eventId

```cangjie
public var eventId: UInt32
```
功能： 事件ID，由开发者定义用来辨别事件。
Type: UInt32; Readable: true; Writable: true

#### var priority

```cangjie
public var priority: EventPriority = LOW
```
功能： 事件被投递的优先级。
Type: EventPriority; Readable: true; Writable: true



## Structs

### Emitter

struct Emitter
```cangjie
public struct Emitter {}
```
功能： Emitter提供了持续订阅事件、单次订阅事件、取消订阅事件，以及发送事件到事件队列的能力。


### EventCallback

struct EventCallback
```cangjie
public struct EventCallback { public EventCallback( public let name: String, public let callback: (EventData) -> Unit ) }
```
功能： 订阅的回调函数。拥有相同name的回调函数会被认为是同一个回调函数，用户在使用时需要保证name的唯一性。


### EventData

struct EventData
```cangjie
public struct EventData { public EventData( public var data: HashMap<String, EventDataType> ) }
```
功能： 发送事件时传递的数据。


### Options

struct Options
```cangjie
public struct Options { public Options( public var priority: EventPriority ) }
```
功能： 发送事件的优先级。



## Enums

### EventDataType

enum EventDataType
```cangjie
public enum EventDataType { | INT64(Int64) | BOOL(Bool) | STRING(String) | ... }
```
功能： 发送事件时传递的数据类型。

#### BOOL(Bool)

```cangjie
BOOL(Bool)
```
功能： Bool类型的数据。

#### INT64(Int64)

```cangjie
INT64(Int64)
```
功能： Int64类型的数据。

#### STRING(String)

```cangjie
STRING(String)
```
功能： String类型的数据。


### EventPriority

enum EventPriority
```cangjie
public enum EventPriority { | IMMEDIATE | HIGH | LOW | IDLE | ... }
```
功能： 用于表示事件被发送的优先级。

#### HIGH

```cangjie
HIGH
```
功能： 表示事件先于LOW优先级投递。

#### IDLE

```cangjie
IDLE
```
功能： 表示在没有其他事件的情况下，才投递该事件。

#### IMMEDIATE

```cangjie
IMMEDIATE
```
功能： 表示事件被立即投递。

#### LOW

```cangjie
LOW
```
功能： 表示事件优于IDLE优先级投递，事件的默认优先级是LOW。



