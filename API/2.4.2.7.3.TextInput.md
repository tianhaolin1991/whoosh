# TextInput

单行文本输入框组件。

## Component Constructors

### public init(placeholder!: AppResource, text!: AppResource, controller!: TextInputController = TextInputController())

```cangjie
public init(placeholder!: AppResource, text!: AppResource, controller!: TextInputController = TextInputController())
```
功能： 创建TextInput组件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| AppResource | 是 | 命名参数。 无输入时的提示文本。 | placeholder | - |
| AppResource | 是 | 命名参数。 输入框当前的文本内容。建议通过onChange事件将状态变量与文本实时绑定，避免组件刷新时TextInput中的文本内容异常。 | text | - |
| TextInputController | 否 | 命名参数。 TextInput控制器。 | controller | TextInputController() |

### public init(placeholder!: AppResource, text!: String = "", controller!: TextInputController = TextInputController())

```cangjie
public init(placeholder!: AppResource, text!: String = "", controller!: TextInputController = TextInputController())
```
功能： 创建TextInput组件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| AppResource | 是 | 命名参数。 无输入时的提示文本。 | placeholder | - |
| String | 否 | 命名参数。 输入框当前的文本内容。建议通过onChange事件将状态变量与文本实时绑定，避免组件刷新时TextInput中的文本内容异常。 | text | "" |
| TextInputController | 否 | 命名参数。 TextInput控制器。 | controller | TextInputController() |

### public init(placeholder!: String = "", text!: AppResource, controller!: TextInputController = TextInputController())

```cangjie
public init(placeholder!: String = "", text!: AppResource, controller!: TextInputController = TextInputController())
```
功能： 创建TextInput组件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 否 | 命名参数。 无输入时的提示文本。 | placeholder | "" |
| AppResource | 是 | 命名参数。 输入框当前的文本内容。建议通过onChange事件将状态变量与文本实时绑定，避免组件刷新时TextInput中的文本内容异常。 | text | - |
| TextInputController | 否 | 命名参数。 TextInput控制器。 | controller | TextInputController() |

### public TextInput(placeholder!: String = "", text!: String = "", controller!: TextInputController = TextInputController())

```cangjie
public TextInput(placeholder!: String = "", text!: String = "", controller!: TextInputController = TextInputController())
```
功能： 创建TextInput组件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 否 | 命名参数。 无输入时的提示文本。 | placeholder | "" |
| String | 否 | 命名参数。 输入框当前的文本内容。建议通过onChange事件将状态变量与文本实时绑定，避免组件刷新时TextInput中的文本内容异常。 | text | "" |
| TextInputController | 否 | 命名参数。 TextInput控制器。 | controller | TextInputController() |


## Functions

### public func barState(value: BarState): This

```cangjie
public func barState(value: BarState): This
```
功能： 设置内联输入风格编辑态时滚动条的显示模式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| BarState | 是 | 内联输入风格编辑态时滚动条的显示模式。 初始值：BarState.Auto。 | value | - |

### public func cancelButton(style!: CancelButtonStyle, size!: Length, color!: ResourceColor, src!: String): This

```cangjie
public func cancelButton(style!: CancelButtonStyle, size!: Length, color!: ResourceColor, src!: String): This
```
功能： 设置右侧清除按钮样式。不支持内联模式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| CancelButtonStyle | 是 | 命名参数。 右侧清除按钮样式。 初始值：CancelButtonStyle.INPUT。 | style | - |
| Length | 是 | 命名参数。 图标尺寸，不支持百分比。 | size | - |
| ResourceColor | 是 | 命名参数。 图标颜色。 | color | - |
| String | 是 | 命名参数。 图标/图片源。 | src | - |

### public func cancelButton(style!: CancelButtonStyle, size!: Length, color!: ResourceColor, src!: AppResource): This

```cangjie
public func cancelButton(style!: CancelButtonStyle, size!: Length, color!: ResourceColor, src!: AppResource): This
```
功能： 设置右侧清除按钮样式。不支持内联模式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| CancelButtonStyle | 是 | 命名参数。 右侧清除按钮样式。 初始值：CancelButtonStyle.INPUT。 | style | - |
| Length | 是 | 命名参数。 图标尺寸，不支持百分比。 | size | - |
| ResourceColor | 是 | 命名参数。 图标颜色。 初始值：0xFF000000。 | color | - |
| AppResource | 是 | 命名参数。 图标/图片源。 初始值：''。 | src | - |

### public func caretColor(value: ResourceColor): This

```cangjie
public func caretColor(value: ResourceColor): This
```
功能： 设置输入框光标颜色。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ResourceColor | 是 | 输入框光标颜色。 初始值：0xFF0A59F7。 | value | - |

### public func caretPosition(value: Int32): This

```cangjie
public func caretPosition(value: Int32): This
```
功能： 设置光标位置。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Int32 | 是 | 光标的位置。第一个字符前的位置是0。 | value | - |

### public func caretStyle(width!: Length, color!: ResourceColor): This

```cangjie
public func caretStyle(width!: Length, color!: ResourceColor): This
```
功能： 设置光标风格。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | 命名参数。 光标尺寸，不支持百分比。 初始值：2.vp。 | width | - |
| ResourceColor | 是 | 命名参数。 光标颜色。 初始值：0xFF0A59F7。 | color | - |

### public func contentType(value: ContentType): This

```cangjie
public func contentType(value: ContentType): This
```
功能： 设置自动填充类型。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ContentType | 是 | 自动填充类型。 | value | - |

### public func copyOption(value: CopyOptions): This

```cangjie
public func copyOption(value: CopyOptions): This
```
功能： 设置输入的文本是否可复制。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| CopyOptions | 是 | 输入的文本是否可复制。 初始值：CopyOptions.LocalDevice，支持设备内复制。 | value | - |

### public func customKeyboard(value: () -> Unit, options!: Bool = false): This

```cangjie
public func customKeyboard(value: () -> Unit, options!: Bool = false): This
```
功能： 设置自定义键盘。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ()->Unit | 是 | 自定义键盘。使用时结合 @Builder 和 bind 方法使用。 | value | - |
| Bool | 否 | 命名参数。 自定义键盘是否支持避让功能。 | options | false |

### public func decoration(decorationType!: TextDecorationType = TextDecorationType.None, color!: ResourceColor = Color.BLACK,style!: TextDecorationStyle = TextDecorationStyle.SOLID): This

```cangjie
public func decoration(decorationType!: TextDecorationType = TextDecorationType.None, color!: ResourceColor = Color.BLACK,style!: TextDecorationStyle = TextDecorationStyle.SOLID): This
```
功能： 设置文本装饰线类型样式及其颜色。密码模式不生效。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| TextDecorationType | 否 | 命名参数。 文本装饰线样式。 | decorationType | TextDecorationType.None |
| ResourceColor | 否 | 命名参数。 文本装饰线颜色。 | color | Color.BLACK |
| TextDecorationStyle | 否 | 文本装饰线样式。 | style | TextDecorationStyle.SOLID |

### public func editMenuOptions( onCreateMenu: (Array<TextMenuItem>)->Array<TextMenuItem>, onMenuItemClick: (TextMenuItem, Int32, Int32)->Bool): This

```cangjie
public func editMenuOptions( onCreateMenu: (Array<TextMenuItem>)->Array<TextMenuItem>, onMenuItemClick: (TextMenuItem, Int32, Int32)->Bool): This
```
功能： 设置自定义菜单扩展项，允许用户设置扩展项的文本内容、图标、回调方法。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (Array< TextMenuItem >)->Array< TextMenuItem > | 是 | 菜单数据模版编辑能力。 | onCreateMenu | - |
| ( TextMenuItem , Int32, Int32)->Bool | 是 | 菜单项功能函数。 | onMenuItemClick | - |

### public func enableAutoFill(value: Bool): This

```cangjie
public func enableAutoFill(value: Bool): This
```
功能： 设置是否启用自动填充。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 是否启用自动填充。true表示启用，false表示不启用。 初始值：true。 | value | - |

### public func enableKeyboardOnFocus(value: Bool): This

```cangjie
public func enableKeyboardOnFocus(value: Bool): This
```
功能： 设置TextInput通过点击以外的方式获焦时，是否主动拉起软键盘。获焦默认绑定输入法。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 通过点击以外的方式获焦时，是否主动拉起软键盘。 初始值：true。 | value | - |

### public func enablePreviewText(value: Bool): This

```cangjie
public func enablePreviewText(value: Bool): This
```
功能： 设置是否开启输入预上屏。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 是否开启输入预上屏。 初始值：true。 | value | - |

### public func enterKeyType(value: EnterKeyType): This

```cangjie
public func enterKeyType(value: EnterKeyType): This
```
功能： 设置输入法回车键类型。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| EnterKeyType | 是 | 输入法回车键类型。 初始值：EnterKeyType.Done。 | value | - |

### public func heightAdaptivePolicy(value: TextHeightAdaptivePolicy): This

```cangjie
public func heightAdaptivePolicy(value: TextHeightAdaptivePolicy): This
```
功能： 组件设置为内联输入风格时，设置文本自适应高度的方式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| TextHeightAdaptivePolicy | 是 | 文本自适应高度的方式。 初始值：TextHeightAdaptivePolicy.MAX_LINES_FIRST。 | value | - |

### public func inputFilter(value!: String, error!: (String)-> Unit = { val => }): This

```cangjie
public func inputFilter(value!: String, error!: (String)-> Unit = { val => }): This
```
功能： 通过正则表达式设置输入过滤器。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 命名参数。 正则表达式。 | value | - |
| (String)->Unit | 否 | 命名参数。 正则匹配失败时，返回被过滤的内容。 | error | { val => } |

### public func letterSpacing(value: Length): This

```cangjie
public func letterSpacing(value: Length): This
```
功能： 设置文本字符间距。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | 文本字符间距。单位：fp。 | value | - |

### public func lineBreakStrategy(strategy: LineBreakStrategy): This

```cangjie
public func lineBreakStrategy(strategy: LineBreakStrategy): This
```
功能： 设置折行规则。该属性在 wordBreak 不等于breakAll的时候生效，不支持连词符。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| LineBreakStrategy | 是 | 文本的折行规则。仅设置内联模式时该属性生效。 初始值：LineBreakStrategy.GREEDY。 | strategy | - |

### public func lineHeight(value: Length): This

```cangjie
public func lineHeight(value: Length): This
```
功能： 设置文本的文本行高。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | 文本的文本行高。 | value | - |

### public func maxFontSize(value: Length): This

```cangjie
public func maxFontSize(value: Length): This
```
功能： 设置文本最大显示字号。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | 文本最大显示字号。单位：fp。 | value | - |

### public func maxLength(value: UInt32): This

```cangjie
public func maxLength(value: UInt32): This
```
功能： 设置文本的最大输入字符数。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| UInt32 | 是 | 文本的最大输入字符数。 | value | - |

### public func maxLines(value: Int32): This

```cangjie
public func maxLines(value: Int32): This
```
功能： 设置内联输入风格编辑态时文本可显示的最大行数。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Int32 | 是 | 内联输入风格编辑态时文本可显示的最大行数。 初始值：3。 取值范围：(0, +∞)。 | value | - |

### public func minFontSize(value: Length): This

```cangjie
public func minFontSize(value: Length): This
```
功能： 设置文本最小显示字号。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | 文本最大显示字号。单位：fp。 | value | - |

### public func passwordIcon(onIconSrc!: String = "", offIconSrc!: String = ""): This

```cangjie
public func passwordIcon(onIconSrc!: String = "", offIconSrc!: String = ""): This
```
功能： 设置当密码输入模式时，输入框末尾的图标。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 否 | 命名参数。 密码输入模式时，能够切换密码隐藏的显示状态的图标。默认为系统提供的密码图标。string格式可用于加载网络图片和本地图片。 | onIconSrc | "" |
| String | 否 | 命名参数。 密码输入模式时，能够切换密码显示的隐藏状态的图标。默认为系统提供的密码图标。string格式可用于加载网络图片和本地图片。 | offIconSrc | "" |

### public func passwordIcon(onIconSrc!: ?AppResource = None, offIconSrc!: ?AppResource = None): This

```cangjie
public func passwordIcon(onIconSrc!: ?AppResource = None, offIconSrc!: ?AppResource = None): This
```
功能： 设置当密码输入模式时，输入框末尾的图标。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ? AppResource | 否 | 命名参数。 密码输入模式时，能够切换密码隐藏的显示状态的图标。默认为系统提供的密码图标。 | onIconSrc | None |
| ? AppResource | 否 | 命名参数。 密码输入模式时，能够切换密码显示的隐藏状态的图标。默认为系统提供的密码图标。 | offIconSrc | None |

### public func passwordRules(value: String): This

```cangjie
public func passwordRules(value: String): This
```
功能： 定义生成密码的规则。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 定义生成密码的规则。 | value | - |

### public func placeholderColor(value: ResourceColor): This

```cangjie
public func placeholderColor(value: ResourceColor): This
```
功能： 设置placeholder文本颜色。InputType设置为Password后，设置placeholderColor不生效。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ResourceColor | 是 | placeholder文本颜色。 初始值：跟随主题。 | value | - |

### public func placeholderFont(size!: Length, weight!: FontWeight = FontWeight.W400, family!: String = "", style!: FontStyle = FontStyle.Normal): This

```cangjie
public func placeholderFont(size!: Length, weight!: FontWeight = FontWeight.W400, family!: String = "", style!: FontStyle = FontStyle.Normal): This
```
功能： 设置placeholder文本样式，包括字体大小，字体粗细，字体族，字体风格。当前支持'HarmonyOS Sans'字体和 注册自定义字体 。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | 命名参数。 文本尺寸。 单位：fp。 初始值：16.fp。 | size | - |
| FontWeight | 否 | 命名参数。 文本的字体粗细。 | weight | FontWeight.W400 |
| String | 否 | 命名参数。 文本的字体列表。 | family | "" |
| FontStyle | 否 | 命名参数。 文本的字体样式。 | style | FontStyle.Normal |

### public func selectAll(value: Bool): This

```cangjie
public func selectAll(value: Bool): This
```
功能： 设置当初始状态，是否全选文本。不支持内联模式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 是否全选文本。 初始值：false。 | value | - |

### public func selectedBackgroundColor(value: ResourceColor): This

```cangjie
public func selectedBackgroundColor(value: ResourceColor): This
```
功能： 设置文本选中底板颜色。如果未设置不透明度，默认为20%不透明度。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ResourceColor | 是 | 文本选中底板颜色。 初始值：20%不透明度。 | value | - |

### public func selectionMenuHidden(value: Bool): This

```cangjie
public func selectionMenuHidden(value: Bool): This
```
功能： 设置是否隐藏系统文本选择菜单。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 是否不弹出系统文本选择菜单。 设置为true时，单击输入框光标、长按输入框、双击输入框、三击输入框或者右键输入框，隐藏系统文本选择菜单。 设置为false时，显示系统文本选择菜单。 初始值：false。 | value | - |

### public func setType(value: InputType): This

```cangjie
public func setType(value: InputType): This
```
功能： 设置textInput的类型。InputType设置为Password后，设置placeholderColor不生效。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| InputType | 是 | textInput 类型。 初始值：InputType.Normal。 | value | - |

### public func showCounter(value: Bool, thresholdPercentage!: Float64 = 0.0, highlightBorder!: Bool = true): This

```cangjie
public func showCounter(value: Bool, thresholdPercentage!: Float64 = 0.0, highlightBorder!: Bool = true): This
```
功能： 设置当通过thresholdPercentage和highlightBorder输入的字符数超过阈值时显示计数器。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 是否显示计数器。 | value | - |
| Float64 | 否 | 命名参数。 thresholdPercentage是可输入字符数占最大字符限制的百分比值。字符计数器显示的样式为当前输入字符数/最大字符数。当输入字符数大于最大字符数乘百分比值时，显示字符计数器。thresholdPercentage值的有效值区间为[1, 100]，数值为小数时，向下取整，如果设置的值超出有效值区间内，不显示字符计数器。thresholdPercentage设置为0.0，显示字符计数器，但此参数不生效。 | thresholdPercentage | 0.0 |
| Bool | 否 | 命名参数。 如果用户设置计数器时不设置thresholdPercentage和highlightBorder，那么当前输入字符数达到最大字符数时，边框和计数器下标将变为红色。如果用户设置显示字符计数器同时thresholdPercentage参数数值在有效区间内，那么当输入字符数超过最大字符数时，边框和计数器下标将变成红色。如果此参数为true，则显示红色边框。计数器默认显示红色边框。 | highlightBorder | true |

### public func showError(value: AppResource): This

```cangjie
public func showError(value: AppResource): This
```
功能： 设置错误状态下提示的错误文本或者不显示错误状态。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| AppResource | 是 | 错误状态下提示的错误文本或者不显示错误状态。默认不显示错误状态。 | value | - |

### public func showError(value: String): This

```cangjie
public func showError(value: String): This
```
功能： 设置错误状态下提示的错误文本或者不显示错误状态。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 错误状态下提示的错误文本或者不显示错误状态。默认不显示错误状态。 | value | - |

### public func showPassword(visible: Bool): This

```cangjie
public func showPassword(visible: Bool): This
```
功能： 设置密码的显隐状态。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 是否显示密码。 初始值：false。 | visible | - |

### public func showPasswordIcon(visible: Bool): This

```cangjie
public func showPasswordIcon(visible: Bool): This
```
功能： 设置当密码输入模式时，输入框末尾的图标是否显示。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 密码输入模式时，输入框末尾的图标是否显示。true表示显示，false表示不显示。 初始值:true。 | visible | - |

### public func showUnderline(value: Bool): This

```cangjie
public func showUnderline(value: Bool): This
```
功能： 设置是否开启下划线。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Bool | 是 | 是否开启下划线。true表示开启，false表示不开启。 初始值：false。 | value | - |

### public func showUnit(builder: () -> Unit): This

```cangjie
public func showUnit(builder: () -> Unit): This
```
功能： 设置控件作为文本框单位。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ()->Unit | 是 | 文本输入时，文本框的显示单位。使用时结合 @Builder 和 bind 方法使用。 | builder | - |

### public func style(value: TextInputStyle): This

```cangjie
public func style(value: TextInputStyle): This
```
功能： 设置输入框为默认风格或内联输入风格，内联输入风格只支持InputType.Normal类型。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| TextInputStyle | 是 | 输入框为默认风格或内联输入风格。 初始值:TextInputStyle.Default。 | value | - |

### public func textAlign(value: TextAlign): This

```cangjie
public func textAlign(value: TextAlign): This
```
功能： 设置文本在输入框中的水平对齐方式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| TextAlign | 是 | 水平对齐方式。仅支持TextAlign.Start、TextAlign.Center和TextAlign.End。 初始值:TextAlign.Start。 | value | - |

### public func textIndent(value: Length): This

```cangjie
public func textIndent(value: Length): This
```
功能： 设置首行文本缩进。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| Length | 是 | 首行文本缩进。 初始值:0。 | value | - |

### public func textOverflow(value: TextOverflow): This

```cangjie
public func textOverflow(value: TextOverflow): This
```
功能： 设置文本超长时的显示方式。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| TextOverflow | 是 | 文本超长时的显示方式。 内联模式非编辑态下初始值：TextOverflow.Ellipsis。 内联模式编辑态下初始值：TextOverflow.Clip。 | value | - |

### public func underlineColor(color: ResourceColor): This

```cangjie
public func underlineColor(color: ResourceColor): This
```
功能： 开启下划线时，支持配置下划线颜色。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ResourceColor | 是 | 下划线颜色。当设置下划线颜色模式时，修改下划线颜色。当只设定非特殊状态下的颜色，可以直接输入ResourceColor。 初始值：主题配置的下划线颜色。主题配置的默认下划线颜色为：0x33182431。 | color | - |

### public func underlineColor(typing!: ?Color = None, normal!: ?Color = None,error!: ?Color = None, disable!: ?Color = None): This

```cangjie
public func underlineColor(typing!: ?Color = None, normal!: ?Color = None,error!: ?Color = None, disable!: ?Color = None): This
```
功能： 开启下划线时，支持配置下划线颜色。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ? Color | 否 | 命名参数。 键入时下划线颜色。不填写、无效值时恢复默认。 | typing | None |
| ? Color | 否 | 命名参数。 非特殊状态时下划线颜色。不填写、无效值时恢复默认。 | normal | None |
| ? Color | 否 | 错误时下划线颜色。不填写、无效值时恢复默认。此选项会修改 showCounter 属性中达到最大字符数时的颜色。 | error | None |
| ? Color | 否 | 命名参数。 禁用时下划线颜色。不填写、无效值时恢复默认。 | disable | None |

### public func wordBreak(value: WordBreak): This

```cangjie
public func wordBreak(value: WordBreak): This
```
功能： 设置文本断行规则。该属性在组件设置内联模式时样式生效，但对placeholder文本无效。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| WordBreak | 是 | 内联输入风格编辑态时断行规则。 初始值：WordBreak.BREAK_WORD。 | value | - |

### public func onChange(callback: (String)->Unit): This

```cangjie
public func onChange(callback: (String)->Unit): This
```
功能： 输入内容发生变化时，触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (String)->Unit | 是 | 回调函数，文本内容改变时触发。参数：返回当前的文本内容。 | callback | - |

### public func onContentScroll(callback: (Float32, Float32)->Unit): This

```cangjie
public func onContentScroll(callback: (Float32, Float32)->Unit): This
```
功能： 文本内容滚动时，触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (Float32, Float32)->Unit | 是 | 回调函数，文本内容滚动时触发。第一个参数表示X轴方向的偏移量，第二个参数表示Y轴方向的偏移量。单位：px。 | callback | - |

### public func onCopy(callback: (String)->Unit): This

```cangjie
public func onCopy(callback: (String)->Unit): This
```
功能： 进行复制操作时，触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (String)->Unit | 是 | 回调函数，复制时触发。参数：返回复制的文本内容。 | callback | - |

### public func onCut(callback: (String)->Unit): This

```cangjie
public func onCut(callback: (String)->Unit): This
```
功能： 进行剪切操作时，触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (String)->Unit | 是 | 回调函数，剪切时触发。参数：返回剪切的文本内容。 | callback | - |

### public func onDidDelete(callback: (Float64, Int32, String)->Unit): This

```cangjie
public func onDidDelete(callback: (Float64, Int32, String)->Unit): This
```
功能： 在删除完成时，触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (Float64, Int32, String)->Unit | 是 | 回调函数，在删除完成时触发。仅支持系统输入法输入的场景。第一个参数表示删除的值的位置信息。第二个参数表示删除值的方向。第三个参数表示删除的值。 | callback | - |

### public func onDidInsert(callback: (Float64, String)->Unit): This

```cangjie
public func onDidInsert(callback: (Float64, String)->Unit): This
```
功能： 在输入完成时，触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (Float64, String)->Unit | 是 | 回调函数，在输入完成时触发。仅支持系统输入法输入的场景。第一个参数表示插入的值的位置信息。第二个参数表示插入的值。 | callback | - |

### public func onEditChange(callback: (Bool)->Unit): This

```cangjie
public func onEditChange(callback: (Bool)->Unit): This
```
功能： 输入状态变化时，触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (Bool)->Unit | 是 | 回调函数，编辑状态改变时触发。参数：返回当前编辑状态。参数为true表示正在输入。 | callback | - |

### public func onPaste(callback: (String)->Unit): This

```cangjie
public func onPaste(callback: (String)->Unit): This
```
功能： 进行粘贴操作时，触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (String)->Unit | 是 | 回调函数，粘贴时触发。参数：返回粘贴的文本内容。 | callback | - |

### public func onSecurityStateChange(callback: (Bool)->Unit): This

```cangjie
public func onSecurityStateChange(callback: (Bool)->Unit): This
```
功能： 密码显隐状态切换时，触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (Bool)->Unit | 是 | 回调函数，密码显隐状态切换时触发。 | callback | - |

### public func onSubmit(callback: (EnterKeyType)->Unit): This

```cangjie
public func onSubmit(callback: (EnterKeyType)->Unit): This
```
功能： 按下输入法回车键触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ( EnterKeyType )->Unit | 是 | 回调函数，回车键或者软键盘回车键触发该回调。参数：当前软键盘回车键类型。 | callback | - |

### public func onSubmit(callback: (EnterKeyType, SubmitEvent)->Unit): This

```cangjie
public func onSubmit(callback: (EnterKeyType, SubmitEvent)->Unit): This
```
功能： 按下输入法回车键触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| ( EnterKeyType , SubmitEvent )->Unit | 是 | 回调函数，回车键或者软键盘回车键触发该回调。第一个参数为当前软键盘回车键类型。第二个参数为提交事件。 | callback | - |

### public func onTextSelectionChange(callback: (Int32, Int32)->Unit): This

```cangjie
public func onTextSelectionChange(callback: (Int32, Int32)->Unit): This
```
功能： 文本选择的位置发生变化或编辑状态下光标位置发生变化时，触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (Int32, Int32)->Unit | 是 | 回调函数，文本选择的位置发生变化或编辑状态下光标位置发生变化时触发。第一个参数表示所选文本的起始位置，文字的起始位置为0。第二个参数表示所选文本的结束位置。 | callback | - |

### public func onWillDelete(callback: (Float64, Int32, String) -> Bool): This

```cangjie
public func onWillDelete(callback: (Float64, Int32, String) -> Bool): This
```
功能： 设置在将要删除时，触发的回调函数。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (Float64, Int32, String)->Bool | 是 | 回调函数，在将要删除时触发。在返回true时，表示正常删除，返回false时，表示不删除。在预上屏删除操作时，该回调不触发。仅支持系统输入法输入的场景。 | callback | - |

### public func onWillInsert(callback: (Float64, String)->Bool): This

```cangjie
public func onWillInsert(callback: (Float64, String)->Bool): This
```
功能： 在将要输入时，触发该事件。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| (Float64, String)->Bool | 是 | 回调函数，在将要输入时触发。在返回true时，表示正常插入，返回false时，表示不插入。在预上屏操作时，该回调不触发。仅支持系统输入法输入的场景。 | callback | - |


## Classes

### TextInputController

class TextInputController
```cangjie
public class TextInputController { public init() }
```
功能： TextInput组件的控制器。


### SubmitEvent

class SubmitEvent
```cangjie
public class SubmitEvent { public var text: String public init() }
```
功能： 定义用户提交事件。

#### var text: String

```cangjie
public var text: String
```
功能： 设置输入框文本内容。
Type: String; Readable: true; Writable: true



## Enums

### CancelButtonStyle

enum CancelButtonStyle
```cangjie
public enum CancelButtonStyle { | CONSTANT | INVISIBLE | INPUT }
```
功能： 表示文本清除按钮样式。

#### CONSTANT

```cangjie
CONSTANT
```
功能： 表示清除按钮常显样式。

#### INPUT

```cangjie
INPUT
```
功能： 表示清除按钮输入样式。

#### INVISIBLE

```cangjie
INVISIBLE
```
功能： 表示清除按钮常隐样式。


### EnterKeyType

enum EnterKeyType
```cangjie
public enum EnterKeyType { | Go | EntrySearch | Send | Next | Done | PREVIOUS | NEW_LINE }
```
功能： 表示键盘操作按钮的类型。

#### Done

```cangjie
Done
```
功能： 表示显示为完成样式。

#### EntrySearch

```cangjie
EntrySearch
```
功能： 表示显示为搜索样式。

#### Go

```cangjie
Go
```
功能： 表示显示Go文本。

#### Next

```cangjie
Next
```
功能： 表示显示为下一个样式。

#### NEW_LINE

```cangjie
NEWL_INE
```
功能： 表示显示为换行样式。

#### PREVIOUS

```cangjie
PREVIOUS
```
功能： 表示显示为上一个样式。

#### Send

```cangjie
Send
```
功能： 表示显示为发送样式。


### TextInputStyle

enum TextInputStyle
```cangjie
public enum TextInputStyle { | Default | Inline }
```
功能： 表示输入风格。

#### Default

```cangjie
Default
```
功能： 表示默认风格，光标宽1.5.vp，光标高度与文本选中底板高度和字体大小相关。

#### Inline

```cangjie
Inline
```
功能： 表示内联输入风格。文本选中底板高度与输入框高度相同。内联输入适用于需要明显区分编辑状态和非编辑状态的场景，如文件列表视图中的重命名。内联输入不支持 showError 属性，并且在内联模式下不支持拖入文本功能。


### InputType

enum InputType
```cangjie
public enum InputType { | Normal | Number | Email | Password | PhoneNumber | USER_NAME | NEW_PASSWORD | NUMBER_PASSWORD | NUMBER_DECIMAL | URL }
```
功能： 表示输入框的类型。

#### Email

```cangjie
Email
```
功能： 表示e-mail地址输入模式，仅能输入标准邮箱格式支持的字符。

#### NEW_PASSWORD

```cangjie
NEW_PASSWORD
```
功能： 表示新密码输入模式。密码显示小眼睛图标，默认输入文字短暂显示后变成圆点，特定设备上输入文字直接显示为圆点。在已启用密码保险箱的情况下，支持自动生成新密码。

#### Normal

```cangjie
Normal
```
功能： 表示基本输入模式。

#### Number

```cangjie
Number
```
功能： 表示纯数字输入模式，仅能输入表示数字的字符。

#### NUMBER_DECIMAL

```cangjie
NUMBER_DECIMAL
```
功能： 表示带小数点的数字输入模式。支持数字、小数点（只能存在一个小数点）。

#### NUMBER_PASSWORD

```cangjie
NUMBER_PASSWORD
```
功能： 表示纯数字密码输入模式。密码显示小眼睛图标，默认输入文字短暂显示后变成圆点，特定设备上输入文字直接显示为圆点。密码输入模式不支持下划线样式。

#### Password

```cangjie
Password
```
功能： 表示密码输入模式。

#### PhoneNumber

```cangjie
PhoneNumber
```
功能： 表示电话号码输入模式。支持输入数字、空格、+ 、-、*、#、(、)，长度不限。

#### URL

```cangjie
URL
```
功能： 表示带URL的输入模式。

#### USER_NAME

```cangjie
USER_NAME
```
功能： 表示用户名输入模式。在已启用密码保险箱的情况下，支持用户名、密码的自动保存和自动填充。



## Examples

```cangjie
package ohos_app_cangjie_entry
import kit.UIKit.*
import ohos.state_macro_manage.*

@Entry
@Component
class EntryView {
 @State var text: String = ''
 @State var passwordState: Bool = false
 var controller: TextInputController = TextInputController()

 func build() {
 Column() {
 TextInput(text: this.text, placeholder: 'input your word...', controller: this.controller)
 .placeholderColor(Color.GRAY)
 .placeholderFont(size: 14, weight: FontWeight.W100)
 .caretColor(Color.BLUE)
 .width(95.percent)
 .height(40)
 .margin(20)
 .fontSize(14)
 .fontColor(Color.BLACK)
 .inputFilter(value: '[a-z]', error: { info: String =>
 AppLog.info("inputFilter error")
 })
 .onChange({ value: String =>
 this.text = value
 })
 Text(this.text)
 Button('Set caretPosition 1')
 .margin(15)
 Button('Get CaretOffset')
 .margin(15)
 // 密码输入框
 TextInput(placeholder: 'input your password...')
 .width(95.percent)
 .height(40)
 .margin(20)
 .setType(InputType.Password)
 .maxLength(9)
 // 邮箱地址自动填充类型
 TextInput(placeholder: 'input your email...' )
 .width(95.percent)
 .height(40)
 .margin(20)
 .maxLength(9)
 .contentType(ContentType.EMAIL_ADDRESS)
 // 内联风格输入框
 TextInput( text: 'inline style' )
 .width(95.percent)
 .height(50)
 .margin(20)
 .borderRadius(0)
 .style(TextInputStyle.Inline)
 }.
 width(100.percent)
 }
}
```

