# ohos.account_distributedAccount（分布式账号管理）

本模块提供管理分布式账号的一些基础功能，主要包括查询和更新账号登录状态。

```cangjie
import kit.BasicServicesKit.*
```
## Functions

### public func getDistributedAccountAbility(): DistributedAccountAbility

```cangjie
public func getDistributedAccountAbility(): DistributedAccountAbility
```
功能： 获取分布式账号单实例对象。

**Returns:**

| type | description |
| --- | --- |
| DistributedAccountAbility | 返回一个实例，实例提供查询和更新分布式账号登录状态方法。 |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 账号管理错误码 和 通用错误码 。

| code | description |
| --- | --- |
| 201 | Permission denied. |
| 12300001 | System service exception. |


**Example:**

```cangjie
// index.cj

import kit.BasicServicesKit.*

let ability: DistributedAccountAbility = getDistributedAccountAbility()
```


## Classes

### DistributedAccountAbility

class DistributedAccountAbility
```cangjie
public class DistributedAccountAbility {}
```
功能： 提供查询和更新分布式账号登录状态方法（需要先获取分布式账号的单实例对象）。


### DistributedInfo

class DistributedInfo
```cangjie
public class DistributedInfo { public let name: String public let id: String public let event: OhosAccountEvent public let nickname: String public let avatar: String public let status: DistributedAccountStatus public let scalableData: String public init(name: String, id: String, event: OhosAccountEvent, nickname!: String = "", avatar!: String = "", status!: DistributedAccountStatus = NOT_LOGGED_IN, scalableData!: String = "") }
```
功能： 提供操作系统账号的分布式信息。

#### let name

```cangjie
public let name: String
```
功能： 分布式账号名称，非空字符串。
Type: String; Readable: true; Writable: false

#### let id

```cangjie
public let id: String
```
功能： 分布式账号UID，非空字符串。
Type: String; Readable: true; Writable: false

#### let event

```cangjie
public let event: OhosAccountEvent
```
功能： 分布式账号登录状态，包括登录、登出、Token失效和注销，分别对应以下字符串：
Type: OhosAccountEvent; Readable: true; Writable: false

#### let nickname

```cangjie
public let nickname: String
```
功能： 分布式账号的昵称，默认为空。
Type: String; Readable: true; Writable: false

#### let avatar

```cangjie
public let avatar: String
```
功能： 分布式账号的头像，默认为空。
Type: String; Readable: true; Writable: false

#### let status

```cangjie
public let status: DistributedAccountStatus
```
功能： 分布式账号的状态，枚举类型，默认为未登录状态。
Type: DistributedAccountStatus; Readable: true; Writable: false

#### let scalableData

```cangjie
public let scalableData: String
```
功能： 分布式账号扩展信息，根据业务所需，以k-v形式传递定制化信息，默认为空字符串。
Type: String; Readable: true; Writable: false



## Enums

### DistributedAccountStatus

enum DistributedAccountStatus
```cangjie
public enum DistributedAccountStatus { | NOT_LOGGED_IN | LOGGED_IN | ... }
```
功能： 分布式账号状态。

#### LOGGED_IN

```cangjie
LOGGED_IN
```
功能： 已登录状态。

#### NOT_LOGGED_IN

```cangjie
NOT_LOGGED_IN
```
功能： 未登录状态。


### OhosAccountEvent

enum OhosAccountEvent
```cangjie
public enum OhosAccountEvent { | LOGIN | LOGOUT | TOKEN_INVALID | LOGOFF | ... }
```
功能： 分布式账号登录状态。

#### LOGIN

```cangjie
LOGIN
```
功能： 登录。

#### LOGOFF

```cangjie
LOGOFF
```
功能： 登出。

#### LOGOUT

```cangjie
LOGOUT
```
功能： 注销。

#### TOKEN_INVALID

```cangjie
TOKEN_INVALID
```
功能： Token失效。



