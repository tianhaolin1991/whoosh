# ohos.zlib

本模块提供压缩解压缩文件的能力。

```cangjie
import kit.BasicServicesKit.*
```
## Functions

### public func compressFile(inFile: String, outFile: String, options: ZipOptions): Unit

```cangjie
public func compressFile(inFile: String, outFile: String, options: ZipOptions): Unit
```
功能： 压缩文件，失败返回错误码。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 指定压缩的文件夹路径或者文件路径，路径必须为沙箱路径。待压缩的文件夹不可为空，否则使用deCompressFile对压缩后的文件解压时会报错。 | inFile | - |
| String | 是 | 指定的压缩结果的文件路径。 | outFile | - |
| ZipOptions | 是 | 压缩的配置参数。 | options | - |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 zlib子系统错误码 。

| code | description |
| --- | --- |
| 900001 | The input source file is invalid. |
| 900002 | The input destination file is invalid. |


**Example:**

```cangjie
// index.cj

import kit.BasicServicesKit.*

let inFile = "/data/storage/el2/base/a.txt"
let outFileDir = "/data/storage/el2/base/a.zip"
let options = ZipOptions(CompressLevel.COMPRESS_LEVEL_DEFAULT_COMPRESSION, MemLevel.MEM_LEVEL_DEFAULT, CompressStrategy.COMPRESS_STRATEGY_DEFAULT_STRATEGY)
compressFile(inFile, outFileDir, options)
```

### public func deCompressFile(inFile: String, outFile: String, options!: Option<ZipOptions> = None): Unit

```cangjie
public func deCompressFile(inFile: String, outFile: String, options!: Option<ZipOptions> = None): Unit
```
功能： 解压文件，失败时返回错误码。

**Parameters:**

| type | required | description | name | default |
| --- | --- | --- | --- | --- |
| String | 是 | 指定的待解压缩文件的文件路径，文件后缀需要以.zip结尾。文件路径必须为沙箱路径。 | inFile | - |
| String | 是 | 指定的解压后的文件夹路径，文件夹目录路径需要在系统中存在，不存在则会解压失败。路径必须为沙箱路径，如果待解压的文件或文件夹在解压后的路径下已经存在，则会直接覆盖同名文件或同名文件夹中的同名文件。 | outFile | - |
| Option< ZipOptions > | 否 | 命名参数。 解压的配置参数。 | options | None |

**Exceptions:**

- **BusinessException**: BusinessException：对应错误码的详细介绍请参见 zlib子系统错误码 。

| code | description |
| --- | --- |
| 900001 | The input source file is invalid. |
| 900002 | The input destination file is invalid. |
| 900003 | The input source file is not ZIP format or damaged. |


**Example:**

```cangjie
// index.cj

import kit.BasicServicesKit.*

let inFile = "/data/storage/el2/base/a.zip"
let outFileDir = "/data/storage/el2/base/"
let options = ZipOptions(CompressLevel.COMPRESS_LEVEL_DEFAULT_COMPRESSION, MemLevel.MEM_LEVEL_DEFAULT, CompressStrategy.COMPRESS_STRATEGY_DEFAULT_STRATEGY)
deCompressFile(inFile, outFileDir, options: options)
```


## Classes

### ZipOptions

class ZipOptions
```cangjie
public class ZipOptions { public let level: CompressLevel public let memLevel: MemLevel public let strategy: CompressStrategy public init(level: CompressLevel, memLevel: MemLevel, strategy: CompressStrategy) }
```
功能： 压缩模式的选择项。

#### let level

```cangjie
public let level: CompressLevel
```
功能： 压缩速度级别。参考 CompressLevel枚举定义 。
Type: CompressLevel; Readable: true; Writable: false

#### let memLevel

```cangjie
public let memLevel: MemLevel
```
功能： 压缩内存级别。参考 MemLevel枚举定义 。
Type: MemLevel; Readable: true; Writable: false

#### let strategy

```cangjie
public let strategy: CompressStrategy
```
功能： 压缩策略。参考 CompressStrategy枚举定义 。
Type: CompressStrategy; Readable: true; Writable: false



## Enums

### CompressLevel

enum CompressLevel
```cangjie
public enum CompressLevel { | COMPRESS_LEVEL_NO_COMPRESSION | COMPRESS_LEVEL_BEST_SPEED | COMPRESS_LEVEL_BEST_COMPRESSION | COMPRESS_LEVEL_DEFAULT_COMPRESSION | ... }
```
功能： 压缩速度级别。

#### COMPRESS_LEVEL_BEST_COMPRESSION

```cangjie
COMPRESS_LEVEL_BEST_COMPRESSION
```
功能： 最佳压缩等级。

#### COMPRESS_LEVEL_BEST_SPEED

```cangjie
COMPRESS_LEVEL_BEST_SPEED
```
功能： 最佳速度压缩等级。

#### COMPRESS_LEVEL_DEFAULT_COMPRESSION

```cangjie
COMPRESS_LEVEL_DEFAULT_COMPRESSION
```
功能： 默认压缩等级。

#### COMPRESS_LEVEL_NO_COMPRESSION

```cangjie
COMPRESS_LEVEL_NO_COMPRESSION
```
功能： 压缩率为0压缩等级。


### CompressStrategy

enum CompressStrategy
```cangjie
public enum CompressStrategy { | COMPRESS_STRATEGY_DEFAULT_STRATEGY | COMPRESS_STRATEGY_FILTERED | COMPRESS_STRATEGY_HUFFMAN_ONLY | COMPRESS_STRATEGY_RLE | COMPRESS_STRATEGY_FIXED | ... }
```
功能： 压缩策略。

#### COMPRESS_STRATEGY_DEFAULT_STRATEGY

```cangjie
COMPRESS_STRATEGY_DEFAULT_STRATEGY
```
功能： 常规数据策略。

#### COMPRESS_STRATEGY_FILTERED

```cangjie
COMPRESS_STRATEGY_FILTERED
```
功能： 过滤器产生的数据压缩策略。

#### COMPRESS_STRATEGY_FIXED

```cangjie
COMPRESS_STRATEGY_FIXED
```
功能： 固定的压缩策略。

#### COMPRESS_STRATEGY_HUFFMAN_ONLY

```cangjie
COMPRESS_STRATEGY_HUFFMAN_ONLY
```
功能： 霍夫曼编码格式压缩策略。

#### COMPRESS_STRATEGY_RLE

```cangjie
COMPRESS_STRATEGY_RLE
```
功能： 游标编码压缩策略。


### MemLevel

enum MemLevel
```cangjie
public enum MemLevel { | MEM_LEVEL_MIN | MEM_LEVEL_DEFAULT | MEM_LEVEL_MAX | ... }
```
功能： 压缩内存级别。

#### MEM_LEVEL_DEFAULT

```cangjie
MEM_LEVEL_DEFAULT
```
功能： zip接口在压缩过程中默认使用内存。

#### MEM_LEVEL_MAX

```cangjie
MEM_LEVEL_MAX
```
功能： zip接口在压缩过程中最大使用内存。

#### MEM_LEVEL_MIN

```cangjie
MEM_LEVEL_MIN
```
功能： zip接口在压缩过程中最小使用内存。



